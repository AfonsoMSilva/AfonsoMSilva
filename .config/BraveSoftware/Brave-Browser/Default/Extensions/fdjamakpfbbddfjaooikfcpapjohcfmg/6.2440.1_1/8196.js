"use strict";(self.webpackChunk_dashlane_leeloo=self.webpackChunk_dashlane_leeloo||[]).push([[8196],{28196:(e,t,i)=>{i.r(t),i.d(t,{CollectionView:()=>le});var n=i(96832),l=i(15192),o=i(50756),a=i(48038),s=i(80936),c=i(45272),r=i(92077),d=i(19122),h=i(28264),p=i(62735),u=i(88795),g=i(95041),_=i(97227),Z=i(95727),S=i(16019),w=i(78971),m=i(33360),b=i(51276),D=i(45106),C=i(27895),I=i(44110);const O=(0,I.BX)(I.HY,{children:[(0,I.tZ)(D.D,{}),(0,I.tZ)(C.E,{})]});var v=i(27637),f=i(88203),y=i(55357),T=i(68014);const x=e=>{const{translate:t}=(0,f.Z)(),{canDelete:i,role:n}=(0,y.n)(e.id);return(0,I.tZ)(w.u,{content:(0,I.tZ)(T.V,{tooltipTitle:t("webapp_collection_action_disabled_editor_title"),tooltipDescription:t("webapp_collection_action_disabled_editor_description")}),passThrough:n!==v.Yt.Editor,wrapTrigger:!0,children:(0,I.tZ)(w.hP,{label:t("collections_delete_button_text"),leadingIcon:"ActionDeleteOutlined",isDestructive:!0,disabled:!i,onSelect:()=>e.setIsDeleteDialogOpen(!0),children:t("collections_delete_button_text")})})};var A=i(6697);const V=e=>{const{translate:t}=(0,f.Z)(),{canEdit:i}=(0,y.n)(e.id),{openDialog:n,shouldShowFrozenStateDialog:l}=(0,A.Ub)(),{role:a}=(0,y.n)(e.id);return(0,I.tZ)(w.u,{content:(0,I.tZ)(T.V,{tooltipTitle:t("webapp_collection_action_disabled_editor_title"),tooltipDescription:t("webapp_collection_action_disabled_editor_description")}),passThrough:a!==v.Yt.Editor,wrapTrigger:!0,location:"left",children:(0,I.tZ)(w.hP,{label:t("_common_action_edit"),leadingIcon:"ActionEditOutlined",onSelect:()=>{l?n():((0,c.Nc)(o.PageView.CollectionEdit),e.setIsEditDialogOpen(!0))},disabled:!i,children:t("_common_action_edit")})})},k=({id:e,setIsSharedAccessDialogOpen:t})=>{const{translate:i}=(0,f.Z)();return(0,I.tZ)(w.hP,{label:i("webapp_sharing_collection_access_dialog_title"),leadingIcon:"SharedOutlined",onSelect:()=>{(0,c.Kz)(new o.UserSharingStartEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,collectionId:e,origin:o.Origin.CollectionDetailView})),t(!0)},children:i("webapp_sharing_collection_access_dialog_title")})};var E,N=i(59973),B=i(99822),P=i(53133),L=i(11592),X=i(26642),z=i(67678),F=i(85281),M=i(60345),R=i(80343);const Y=({id:e})=>{var t;const i=(0,F.G)(),n=(0,N.k)(),[l,a]=(0,P.A)(e),{role:s,canShare:r,sharingDisabledReason:d}=(0,y.n)(e),{openDialog:h,closeDialog:p}=(0,z.R)(),{translate:u}=(0,f.Z)(),{isStarterTeam:g,isAdmin:Z}=(0,_.Te)(),S=g&&!Z&&s===v.Yt.Manager,{secureNotes:m}=(0,R.y)(),b=m.some((e=>e.attachments?.length)),D=!S&&!r||a!==P.z.Complete||b,C=(0,T.S)(d)?.title,O=(0,T.S)(d)?.description;return(0,I.tZ)(w.u,{content:(0,I.tZ)(T.V,{tooltipTitle:C?u(C):"",tooltipDescription:O?u(O):""}),passThrough:!D||!C&&!O,wrapTrigger:!0,children:(0,I.tZ)(M.x,{onClick:()=>{if((0,c.Kz)(new o.UserSharingStartEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,collectionId:e,origin:o.Origin.CollectionDetailView})),n){const t=!i&&a===P.z.Complete&&l?(0,B.wu)(e):(0,B.H4)(e);h((0,I.tZ)(L.Z,{sharing:t,onDismiss:p,origin:o.Origin.CollectionDetailView}))}else h(t||(t=(0,I.tZ)(X.z,{closeDialog:p})))},icon:E||(E=(0,I.tZ)(w.JO,{name:"ActionShareOutlined"})),disabled:D,children:u("_common_action_share")})})};var H,J,U=i(27298),q=i(42714);const K=({isShared:e=!1,isPersonalSpaceDisabled:t,vaultItemsIds:i,...l})=>{const[o,a]=(0,n.useState)(!1),[s,c]=(0,n.useState)(!1),[r,d]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),u=(0,q.o)("sharingVault_web_bulkaddtocollection_dev"),{translate:_}=(0,f.Z)();return(0,I.tZ)(b.h,{sx:{marginRight:"16px"},startWidgets:(0,I.tZ)(m.b,{isShared:e,spaceId:t?void 0:l.spaceId,children:(0,I.tZ)(w.X6,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:l.name})}),endWidget:(0,I.BX)(I.HY,{children:[u&&(0,I.tZ)(w.zx,{icon:H||(H=(0,I.tZ)(w.JO,{name:"ActionAddOutlined"})),layout:"iconLeading",onClick:()=>p(!0),children:_("webapp_collection_bulk_action_add_items")}),l?.spaceId?(0,I.tZ)(Y,{id:l.id}):null,(0,I.BX)(w.h_,{align:"end",children:[J||(J=(0,I.tZ)(w.sB,{"aria-label":"More",icon:"ActionMoreOutlined",layout:"iconOnly",mood:"neutral",intensity:"quiet",id:"collection-action-more"})),(0,I.BX)(w.Nv,{children:[e?(0,I.tZ)(k,{id:l.id,setIsSharedAccessDialogOpen:a}):null,(0,I.tZ)(V,{setIsEditDialogOpen:c,...l}),(0,I.tZ)(x,{id:l.id,setIsDeleteDialogOpen:d})]})]}),O,(0,I.tZ)(U.Zy,{isOpen:o,onClose:()=>a(!1),id:l.id}),(0,I.tZ)(U.mu,{isOpen:s,onClose:()=>c(!1),isShared:e,...l}),(0,I.tZ)(U.AN,{isOpen:r,onClose:()=>d(!1),isShared:e,id:l.id,name:l.name,setIsSharedAccessDialogOpen:a}),(0,I.tZ)(g.B,{children:(0,I.tZ)(U.jJ,{isOpen:h,onClose:()=>p(!1),collectionName:l.name,spaceId:l.spaceId,isSharedCollection:e,collectionId:l.id,vaulItemsInCollection:i})},String(h))]})})};var W=i(14424);const j=()=>{const{translate:e}=(0,f.Z)();return(0,I.tZ)(W.H,{icon:(0,I.tZ)(w.JO,{name:"FolderOutlined",color:"ds.text.neutral.standard",sx:{width:"75px",height:"auto",marginBottom:"25px"}}),title:e("webapp_collections_empty_view")})};var G=i(35202),$=i(9503);const Q=({isNotesViewDisplayed:e,setTab:t})=>{const{secureNotes:i}=(0,R.y)(),l=(0,u.h)();return(0,n.useEffect)((()=>(!l&&i?.length>0?t(S.f.SecureNotes):l&&!i?.length&&t(S.f.Passwords),()=>{t(S.f.Passwords)})),[l,i]),!i?.length||!l&&i.length>0?null:(0,I.tZ)($.n,{isNotesViewDisplayed:e,setTab:t})};var ee,te,ie,ne=i(73501);const le=()=>{var e;const{routes:t}=(0,r.Xo)(),i=`{${(0,l.UO)().collectionId}}`,{currentSpaceId:w}=(0,d.fV)(),{collections:m,sharedCollections:b,isCollectionsLoading:D,updateActiveCollection:C}=(0,Z.bA)(),{canShareCollection:O,hasSharingCollectionPaywall:v,isAdmin:f}=(0,_.Te)(),y=(0,s.I)(),[T,x]=(0,n.useState)(S.f.Passwords);if((0,n.useEffect)((()=>((0,c.Nc)(o.PageView.CollectionDetails),()=>C(null))),[]),D||y.status!==a.rq.Success)return null;const A=(e=>t=>t.id===e)(i),V=null!=(e=m.find(A))?e:b.find(A);if(!V||null!==w&&V.spaceId!==w)return(0,I.tZ)(l.l_,{to:t.userCredentials});C(V);const{vaultItems:k,...E}=V;return(0,I.tZ)(p.Z,{ids:k.map((e=>e.id)),children:(0,I.BX)(R.c,{ids:k.map((e=>e.id)),children:[v&&f?(0,I.tZ)(_.Li,{canShareCollection:O,sx:{margin:"24px"},clickOrigin:O?o.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedMain:o.ClickOrigin.CollectionsSharingStarterLimitReachedMain}):null,(0,I.tZ)(ne.I,{header:(0,I.tZ)(K,{isPersonalSpaceDisabled:y.isDisabled,vaultItemsIds:k.map((e=>e.id)),...E}),children:k.length>0?(0,I.tZ)(u.x,{children:(0,I.BX)(g.B,{children:[(0,I.tZ)(Q,{isNotesViewDisplayed:T===S.f.SecureNotes,setTab:x}),T===S.f.SecureNotes?(0,I.tZ)("div",{sx:{marginLeft:"42px",height:"100%",overflow:"hidden",position:"relative"},children:ee||(ee=(0,I.tZ)(G.E,{withLayout:!1}))}):te||(te=(0,I.tZ)(h.k,{withLayout:!1}))]})}):ie||(ie=(0,I.tZ)(j,{}))})]})})}}}]);