"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[9617,3076],{188134:(e,t,a)=>{a.d(t,{t:()=>g});var i=a(696832),c=a(521877),s=a(659035),r=a(482598),_=a(287279),l=a(970433),o=a(339431),d=a(692077),n=a(45272),u=a(488203),p=a(806697),b=a(386962),y=a(514900),m=a(528835);const w=({formId:e,handleCancel:t,hasDataBeenModified:a,isSubmitting:i})=>{const{translate:c}=(0,u.Z)();return(0,m.BX)(s.kC,{sx:{padding:"24px"},as:"footer",justifyContent:"flex-end",flexWrap:"nowrap",children:[a?(0,m.tZ)(y.zxk,{type:"submit",form:e,disabled:i,children:c("webapp_panel_edition_generic_save_changes")}):null,(0,m.tZ)(y.zxk,{sx:{marginLeft:"16px"},nature:"secondary",onClick:t,type:"button",children:c("webapp_panel_edition_generic_cancel_changes")})]})},h="id-add-form",f={GENERIC_ERROR:"_common_generic_error"};function g({children:e,initialValues:t,listRoute:a,reportError:y,countryToKeys:g,header:I,type:E,requiredProperty:S="idNumber"}){const{translate:C}=(0,u.Z)(),{openDialog:R,shouldShowFrozenStateDialog:L}=(0,p.Ub)(),[N,Z]=i.useState(!1),[v,P]=i.useState(!1),[U,B]=i.useState(t.country),{createVaultItem:D}=(0,r.u)(l.L),{showToast:x}=(0,s.pm)();i.useEffect((()=>{const e={[o.U.DriversLicense]:c.PageView.ItemDriverLicenceCreate,[o.U.FiscalId]:c.PageView.ItemFiscalStatementCreate,[o.U.IdCard]:c.PageView.ItemIdCardCreate,[o.U.Passport]:c.PageView.ItemPassportCreate,[o.U.SocialSecurityId]:c.PageView.ItemSocialSecurityStatementCreate};(0,n.Nc)(e[E])}),[E]),i.useEffect((()=>{L&&R()}),[L]);const T=()=>{(0,n.Nc)(c.PageView.ItemIdList),(0,d.uX)(a)},A=()=>{x({description:C(f.GENERIC_ERROR),mood:"danger",isManualDismiss:!0})},V=i.useRef((e=>{if(null!==e){const{dirty:t,isSubmitting:a,values:i}=e;Z(t),P(a),B(i.country)}}));return(0,m.BX)(m.HY,{children:[I(U),(0,m.tZ)(b.P,{formId:h,formRef:V.current,handleSubmit:async(e,{setSubmitting:t,setFieldError:a})=>{if(!e[S])return a(S,"");try{const a=await D({vaultItemType:E,content:e});(0,_.d6)(a)?(x({description:C(g(U).success)}),T()):(t(!1),A(),y(new Error("[ids][add] Unable to add id"),a.error?.errorMessage))}catch(e){t(!1),A(),y(e,"[ids][add] Unexpected exception while add id")}},initialValues:t,variant:"add",children:t=>e({values:t})}),(0,m.tZ)(w,{formId:h,handleCancel:()=>{T()},hasDataBeenModified:N,isSubmitting:v})]})}},634355:(e,t,a)=>{a.r(t),a.d(t,{SocialSecurityIdAddPanel:()=>y}),a(696832);var i,c=a(844105),s=a(339431),r=a(488203),_=a(739649),l=a(188134),o=a(566219),d=a(974910),n=a(647121),u=a(528835);const p={[c.c.BR]:{title:"webapp_id_creation_socialsecurity_title_br",success:"webapp_id_creation_socialsecurity_alert_add_success_br"},[c.c.CA]:{title:"webapp_id_creation_socialsecurity_title_ca",success:"webapp_id_creation_socialsecurity_alert_add_success_ca"},[c.c.GB]:{title:"webapp_id_creation_socialsecurity_title_gb",success:"webapp_id_creation_socialsecurity_alert_add_success_gb"},[c.c.IE]:{title:"webapp_id_creation_socialsecurity_title_ie",success:"webapp_id_creation_socialsecurity_alert_add_success_ie"},[c.c.IT]:{title:"webapp_id_creation_socialsecurity_title_it",success:"webapp_id_creation_socialsecurity_alert_add_success_it"},[c.c.JP]:{title:"webapp_id_creation_socialsecurity_title_jp",success:"webapp_id_creation_socialsecurity_alert_add_success_jp"},[c.c.NL]:{title:"webapp_id_creation_socialsecurity_title_nl",success:"webapp_id_creation_socialsecurity_alert_add_success_nl"},[c.c.NO]:{title:"webapp_id_creation_socialsecurity_title_no",success:"webapp_id_creation_socialsecurity_alert_add_success_no"},[c.c.PT]:{title:"webapp_id_creation_socialsecurity_title_pt",success:"webapp_id_creation_socialsecurity_alert_add_success_pt"},[c.c.SE]:{title:"webapp_id_creation_socialsecurity_title_se",success:"webapp_id_creation_socialsecurity_alert_add_success_se"}},b=e=>{var t;return null!=(t=p[e])?t:{title:"webapp_id_creation_socialsecurity_title_default",success:"webapp_id_creation_socialsecurity_alert_add_success_default"}},y=({lee:e,listRoute:t})=>{var a;const{translate:c}=(0,r.Z)(),p={idName:"",idNumber:"",country:(0,o.lt)(e.carbon.currentLocation),spaceId:null!=(a=(0,_.B)(e.globalState))?a:""};return(0,u.tZ)(l.t,{initialValues:p,listRoute:t,reportError:e.reportError,countryToKeys:b,header:e=>(0,u.tZ)(d.h,{title:c(b(e).title),country:e,type:s.U.SocialSecurityId}),type:s.U.SocialSecurityId,children:()=>i||(i=(0,u.tZ)(n.x,{variant:"add"}))})}},647121:(e,t,a)=>{a.d(t,{x:()=>p});var i,c=a(696832),s=a(488203),r=a(177650),_=a(321143),l=a(806697),o=a(16792),d=a(865212),n=a(528835);const u={...o.k},p=c.memo((({variant:e,handleCopy:t})=>{const{translate:a}=(0,s.Z)(),{shouldShowFrozenStateDialog:o}=(0,l.Ub)(),p=c.useRef(null);return c.useEffect("add"===e?()=>{const e=setTimeout((()=>{p.current?.focus()}),r.sc);return()=>clearTimeout(e)}:()=>{},[]),(0,n.BX)(n.HY,{children:[(0,n.tZ)(d.YI,{name:"idName",label:a(u.NAME_LABEL),placeholder:a(u.NAME_PLACEHOLDER),ref:p,disabled:!!o}),(0,n.tZ)(d.G1,{name:"idNumber",label:a(u.ID_NUMBER_LABEL),placeholder:a(u.ID_NUMBER_PLACEHOLDER),handleCopy:"edit"===e?t:void 0,disabled:!!o}),(0,n.tZ)(d.Dz,{name:"country",label:a(u.COUNTRY_LABEL),disabled:!!o}),i||(i=(0,n.tZ)(_.c,{height:24})),(0,n.tZ)(d.A0,{name:"spaceId",disabled:!!o})]})}))}}]);