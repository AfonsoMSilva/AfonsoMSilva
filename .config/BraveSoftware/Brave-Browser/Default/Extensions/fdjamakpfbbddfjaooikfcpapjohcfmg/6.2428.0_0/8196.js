"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[8196],{428196:(e,t,i)=>{i.r(t),i.d(t,{CollectionView:()=>ie});var n=i(696832),l=i(15192),o=i(521877),a=i(148038),s=i(980936),c=i(45272),r=i(692077),d=i(619122),h=i(779206),p=i(162735),g=i(488795),u=i(371060),_=i(97227),Z=i(995727),S=i(216019),m=i(659035),w=i(433360),b=i(351276),D=i(145106),C=i(663146),I=i(528835);const O=(0,I.BX)(I.HY,{children:[(0,I.tZ)(D.D,{}),(0,I.tZ)(C.E,{})]});var v=i(111797),x=i(488203),f=i(555357),T=i(868014);const y=e=>{const{translate:t}=(0,x.Z)(),{canDelete:i,role:n}=(0,f.n)(e.id);return(0,I.tZ)(m.u,{content:(0,I.tZ)(T.V,{tooltipTitle:t("webapp_collection_action_disabled_editor_title"),tooltipDescription:t("webapp_collection_action_disabled_editor_description")}),passThrough:n!==v.Yt.Editor,wrapTrigger:!0,children:(0,I.tZ)(m.hP,{label:t("collections_delete_button_text"),leadingIcon:"ActionDeleteOutlined",isDestructive:!0,disabled:!i,onSelect:()=>e.setIsDeleteDialogOpen(!0),children:t("collections_delete_button_text")})})};var A=i(806697);const V=e=>{const{translate:t}=(0,x.Z)(),{canEdit:i}=(0,f.n)(e.id),{openDialog:n,shouldShowFrozenStateDialog:l}=(0,A.Ub)(),{role:a}=(0,f.n)(e.id);return(0,I.tZ)(m.u,{content:(0,I.tZ)(T.V,{tooltipTitle:t("webapp_collection_action_disabled_editor_title"),tooltipDescription:t("webapp_collection_action_disabled_editor_description")}),passThrough:a!==v.Yt.Editor,wrapTrigger:!0,location:"left",children:(0,I.tZ)(m.hP,{label:t("_common_action_edit"),leadingIcon:"ActionEditOutlined",onSelect:()=>{l?n():((0,c.Nc)(o.PageView.CollectionEdit),e.setIsEditDialogOpen(!0))},disabled:!i,children:t("_common_action_edit")})})},k=({id:e,setIsSharedAccessDialogOpen:t})=>{const{translate:i}=(0,x.Z)();return(0,I.tZ)(m.hP,{label:i("webapp_sharing_collection_access_dialog_title"),leadingIcon:"SharedOutlined",onSelect:()=>{(0,c.Kz)(new o.UserSharingStartEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,collectionId:e,origin:o.Origin.CollectionDetailView})),t(!0)},children:i("webapp_sharing_collection_access_dialog_title")})};var E,N=i(859973),B=i(99822),P=i(253133),X=i(11592),z=i(426642),F=i(267678),L=i(485281),M=i(360345),R=i(380343);const Y=({id:e})=>{var t;const i=(0,L.G)(),n=(0,N.k)(),[l,a]=(0,P.A)(e),{role:s,canShare:r,sharingDisabledReason:d}=(0,f.n)(e),{openDialog:h,closeDialog:p}=(0,F.R)(),{translate:g}=(0,x.Z)(),{isStarterTeam:u,isAdmin:Z}=(0,_.Te)(),S=u&&!Z&&s===v.Yt.Manager,{secureNotes:w}=(0,R.y)(),b=w.some((e=>e.attachments?.length)),D=!S&&!r||a!==P.z.Complete||b,C=(0,T.S)(d)?.title,O=(0,T.S)(d)?.description;return(0,I.tZ)(m.u,{content:(0,I.tZ)(T.V,{tooltipTitle:C?g(C):"",tooltipDescription:O?g(O):""}),passThrough:!D||!C&&!O,wrapTrigger:!0,children:(0,I.tZ)(M.x,{onClick:()=>{if((0,c.Kz)(new o.UserSharingStartEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,collectionId:e,origin:o.Origin.CollectionDetailView})),n){const t=!i&&a===P.z.Complete&&l?(0,B.wu)(e):(0,B.H4)(e);h((0,I.tZ)(X.Z,{sharing:t,onDismiss:p,origin:o.Origin.CollectionDetailView}))}else h(t||(t=(0,I.tZ)(z.z,{closeDialog:p})))},icon:E||(E=(0,I.tZ)(m.JO,{name:"ActionShareOutlined"})),disabled:D,children:g("_common_action_share")})})};var J,U,H=i(771382),W=i(242714);const j=({isShared:e=!1,isPersonalSpaceDisabled:t,vaultItemsIds:i,...l})=>{const[o,a]=(0,n.useState)(!1),[s,c]=(0,n.useState)(!1),[r,d]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),g=(0,W.o)("sharingVault_web_bulkaddtocollection_dev"),{translate:u}=(0,x.Z)();return(0,I.tZ)(b.h,{sx:{marginRight:"16px"},startWidgets:(0,I.tZ)(w.b,{isShared:e,spaceId:t?void 0:l.spaceId,children:(0,I.tZ)(m.X6,{as:"h1",textStyle:"ds.title.section.large",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:l.name})}),endWidget:(0,I.BX)(I.HY,{children:[g&&(0,I.tZ)(m.zx,{icon:J||(J=(0,I.tZ)(m.JO,{name:"ActionAddOutlined"})),layout:"iconLeading",onClick:()=>p(!0),children:u("webapp_collection_bulk_action_add_items")}),l?.spaceId?(0,I.tZ)(Y,{id:l.id}):null,(0,I.BX)(m.h_,{align:"end",children:[U||(U=(0,I.tZ)(m.sB,{"aria-label":"More",icon:"ActionMoreOutlined",layout:"iconOnly",mood:"neutral",intensity:"quiet",id:"collection-action-more"})),(0,I.BX)(m.Nv,{children:[e?(0,I.tZ)(k,{id:l.id,setIsSharedAccessDialogOpen:a}):null,(0,I.tZ)(V,{setIsEditDialogOpen:c,...l}),(0,I.tZ)(y,{id:l.id,setIsDeleteDialogOpen:d})]})]}),O,(0,I.tZ)(H.Zy,{isOpen:o,onClose:()=>a(!1),id:l.id}),(0,I.tZ)(H.mu,{isOpen:s,onClose:()=>c(!1),isShared:e,...l}),(0,I.tZ)(H.AN,{isOpen:r,onClose:()=>d(!1),isShared:e,id:l.id,name:l.name,setIsSharedAccessDialogOpen:a}),(0,I.tZ)(H.jJ,{isOpen:h,onClose:()=>p(!1),collectionName:l.name,spaceId:l.spaceId,isSharedCollection:e,collectionId:l.id,vaulItemsInCollection:i})]})})},q=()=>{const{translate:e}=(0,x.Z)();return(0,I.BX)("article",{sx:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"},children:[(0,I.tZ)(m.JO,{name:"FolderOutlined",sx:{width:"75px",height:"auto",marginBottom:"25px"},color:"ds.text.neutral.standard"}),(0,I.tZ)(m.X6,{as:"h2",textStyle:"ds.title.section.large",sx:{maxWidth:"480px",textAlign:"center"},children:e("webapp_collections_empty_view")})]})};var K=i(222404),G=i(709503);const $=({isNotesViewDisplayed:e,setTab:t})=>{const{secureNotes:i}=(0,R.y)(),l=(0,g.h)();return(0,n.useEffect)((()=>(!l&&i?.length>0?t(S.f.SecureNotes):l&&!i?.length&&t(S.f.Passwords),()=>{t(S.f.Passwords)})),[l,i]),!i?.length||!l&&i.length>0?null:(0,I.tZ)(G.n,{isNotesViewDisplayed:e,setTab:t})};var Q,ee,te;const ie=()=>{var e;const{routes:t}=(0,r.Xo)(),i=`{${(0,l.UO)().collectionId}}`,{currentSpaceId:m}=(0,d.fV)(),{collections:w,sharedCollections:b,isCollectionsLoading:D,updateActiveCollection:C}=(0,Z.b)(),{canShareCollection:O,hasSharingCollectionPaywall:v,isAdmin:x}=(0,_.Te)(),f=(0,s.I)(),[T,y]=(0,n.useState)(S.f.Passwords);if((0,n.useEffect)((()=>((0,c.Nc)(o.PageView.CollectionDetails),()=>C(null))),[]),D||f.status!==a.rq.Success)return null;const A=(e=>t=>t.id===e)(i),V=null!=(e=w.find(A))?e:b.find(A);if(!V||null!==m&&V.spaceId!==m)return(0,I.tZ)(l.l_,{to:t.userCredentials});C(V);const{vaultItems:k,...E}=V;return(0,I.tZ)(p.Z,{ids:k.map((e=>e.id)),children:(0,I.BX)(R.c,{ids:k.map((e=>e.id)),children:[(0,I.tZ)(j,{isPersonalSpaceDisabled:f.isDisabled,vaultItemsIds:k.map((e=>e.id)),...E}),v&&x?(0,I.tZ)(_.Li,{canShareCollection:O,sx:{margin:"24px"},clickOrigin:O?o.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedMain:o.ClickOrigin.CollectionsSharingStarterLimitReachedMain}):null,k.length>0?(0,I.tZ)(g.x,{children:(0,I.BX)(u.B,{children:[(0,I.tZ)($,{isNotesViewDisplayed:T===S.f.SecureNotes,setTab:y}),T===S.f.SecureNotes?(0,I.tZ)("div",{sx:{marginLeft:"42px",height:"100%",overflow:"hidden",position:"relative"},children:Q||(Q=(0,I.tZ)(K.E,{}))}):ee||(ee=(0,I.tZ)(h.k,{}))]})}):te||(te=(0,I.tZ)(q,{}))]})})}}}]);