(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[8874],{978892:(e,t,n)=>{"use strict";n.d(t,{p:()=>R});var i=n(696832),a=n(995727),o=n(674034),s=n(521877),l=n(133354),r=n(45272),d=n(718108),c=n(381701),_=n(980936),u=n(528835);const p=(0,i.createContext)({}),h=(0,i.createContext)({}),m=({children:e,vaultItem:t,isAddCollectionDisabled:n,signalEditedValues:o,setHasOpenedDialogs:m,setCollectionsToUpdate:f})=>{const{vaultItemId:b,spaceId:T}=t,C=(0,d.E)(),[I,E]=(0,i.useState)(""),[S,g]=(0,i.useState)(!1),{allCollections:O}=(0,a.b)(),N=(0,_.I)(),x=N.status===l.rq.Success&&N.isDisabled,[v,w]=(0,i.useState)((()=>""===b?[]:O.flatMap((e=>e.vaultItems.some((e=>e.id===b))?{...e,initiallyExisting:!0,hasBeenDeleted:!1}:[])))),Z=(e=>""!==e&&(C.status===l.rq.Success&&C.data.length>0?C?.data:[]).some((t=>t.teamId===e)))(T)?T:"",y=(0,i.useMemo)((()=>v.filter((e=>!e.hasBeenDeleted))),[v]),A=(0,i.useMemo)((()=>O.filter((e=>!y.some((t=>t.id===e.id))))),[O,y]),D=e=>{const t=e(v);f?.(t),w(t)},R={setInput:E,setIsInputVisible:g,onSubmit:(e=I,t)=>{if((e=e.trim()).length<=0)return;const n=v.findIndex((t=>t.name===e&&(x||Z===t.spaceId)));if(-1===n)D((n=>{var i;const a=[...n],o=O.find((t=>t.name===e&&(x||t.spaceId===Z)));return a.push({id:null!=(i=o?.id)?i:"",name:e,spaceId:Z,isShared:o?.isShared,vaultItems:[],initiallyExisting:!1,hasBeenDeleted:!1,itemPermission:t}),(0,c.p)(a)}));else{const e=v[n];e.initiallyExisting&&e.hasBeenDeleted&&D((e=>{const t=[...e];return t[n].hasBeenDeleted=!1,t}))}o?.(!0),E("")},onDelete:e=>{const t=v.findIndex((t=>t.name===e));if(-1===t)return;const n=v[t];D((e=>{const i=[...e];return n.initiallyExisting?i[t].hasBeenDeleted=!0:i.splice(t,1),i})),(0,r.Nc)(s.PageView.CollectionDelete),o?.(!0)},clearVaultItemCollections:()=>D((e=>e.flatMap((e=>e.initiallyExisting?{...e,hasBeenDeleted:!0}:[]))))};return(0,u.tZ)(p.Provider,{value:{input:I,itemSpaceId:Z,isInputVisible:S,filteredCollections:A,vaultItemCollections:v,vaultItemCollectionsToDisplay:y,setHasOpenedDialogs:m,vaultItem:t,isAddCollectionDisabled:n},children:(0,u.tZ)(h.Provider,{value:R,children:e})})},f=()=>(0,i.useContext)(p),b=()=>(0,i.useContext)(h);var T,C=n(659035),I=n(713252),E=n(488203),S=n(267678),g=n(333918),O=n(71951);const N=({id:e,hasCollections:t,setHasOpenedDialogs:n,isDisabled:a=!1})=>{var s;const{translate:l}=(0,E.Z)(),r=(0,i.useRef)(null),{isInputVisible:d,itemSpaceId:c,filteredCollections:_,input:p,vaultItem:h}=f(),{vaultItemTitle:m,isSharedWithLimitedRights:N}=h,{openDialog:x,closeDialog:v}=(0,S.R)(),{setInput:w,setIsInputVisible:Z,onSubmit:y}=b(),A=(e,t)=>{y(t,e),v(),n?.(!1),r.current?.focus()},D=()=>{v(),n?.(!1)};return d?(0,u.tZ)(o.x5,{collections:_,id:e,input:p,inputRef:r,spaceId:c,selectionAsDropdown:!0,onSubmit:e=>{const t=_.find((t=>t.name===e&&t.spaceId===c));t?.isShared&&N?(x(s||(s=(0,u.tZ)(O.Q,{onClose:D}))),n?.(!0)):t?.isShared?(x((0,u.tZ)(g.B,{onSubmit:A,onClose:D,itemTitle:m,collectionName:t.name})),n?.(!0)):A(I.y3.Admin,e)},setInput:w,onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||window.setTimeout((()=>{Z(!1)}),100)}}):(0,u.tZ)(C.zx,{onClick:()=>Z(!0),layout:"iconLeading",intensity:"supershy",disabled:a,mood:"neutral",icon:T||(T=(0,u.tZ)(C.JO,{name:"ActionAddOutlined"})),children:l(t?"webapp_collections_input_placeholder_add_another":"webapp_collections_input_placeholder_add_new")})},x=e=>(0,u.tZ)("div",{sx:{flex:"1",display:"flex",flexDirection:"column"},...e});var v,w=n(851728);const Z=({hasMultipleCollections:e,...t})=>{const{vaultItem:n}=f(),i=(0,w.b)(n.spaceId),{translate:a}=(0,E.Z)();return(0,u.tZ)("label",{sx:{display:"flex",width:"149px",justifyContent:"flex-end",fontWeight:"600",textAlign:"right"},...t,children:(0,u.BX)("span",{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[i&&(0,u.BX)(u.HY,{children:[`${i}`,v||(v=(0,u.tZ)("br",{}))]}),a(e?"webapp_credentials_header_row_category":"webapp_credential_edition_field_category")]})})},y=e=>(0,u.tZ)("div",{sx:{display:"flex",flexDirection:"row"},...e}),A="collectionsFieldId",D=(0,i.forwardRef)((({hasLabel:e=!0},t)=>{const{vaultItemCollections:n,vaultItemCollectionsToDisplay:a,isAddCollectionDisabled:s,setHasOpenedDialogs:l}=f(),{onDelete:r,clearVaultItemCollections:d}=b(),c=a?.length>0;return(0,i.useImperativeHandle)(t,(()=>({getVaultItemCollections:()=>n,clearVaultItemCollections:d}))),(0,u.BX)(y,{sx:{gap:"24px",alignItems:!c&&"center"},children:[e?(0,u.tZ)(Z,{hasMultipleCollections:a?.length>1,htmlFor:A,sx:{marginTop:c&&"15px"}}):null,(0,u.BX)(x,{sx:{...c&&{gap:"8px",marginTop:"10px"}},children:[(0,u.tZ)(o.zT,{sx:{marginLeft:"16px"},collectionListItems:a.map((e=>(0,u.tZ)(o.cF,{children:(0,u.tZ)(o.KH,{onDismiss:()=>r(e.name),isShared:e.isShared,children:e.name})},`collections_field_li_${e.name}`)))}),(0,u.tZ)(N,{id:A,hasCollections:c,setHasOpenedDialogs:l,isDisabled:s})]})]})})),R=(0,i.forwardRef)((({vaultItem:e,isAddCollectionDisabled:t,signalEditedValues:n,setHasOpenedDialogs:i,hasLabel:o,setCollectionsToUpdate:s},l)=>{const{isCollectionsLoading:r}=(0,a.b)();return r?null:(0,u.tZ)(m,{vaultItem:e,signalEditedValues:n,setHasOpenedDialogs:i,isAddCollectionDisabled:t,setCollectionsToUpdate:s,children:(0,u.tZ)(D,{ref:l,hasLabel:o})})}))},420684:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var i=n(740300);const a=async e=>await i.C.clearSecureFileState(null!=e?e:"")},86541:(e,t,n)=>{"use strict";n.d(t,{SecureNoteTabs:()=>i});let i=function(e){return e[e.CONTENT=0]="CONTENT",e[e.DOCUMENT_STORAGE=1]="DOCUMENT_STORAGE",e[e.MORE_OPTIONS=2]="MORE_OPTIONS",e[e.SHARED_ACCESS=3]="SHARED_ACCESS",e}({})},632870:(e,t,n)=>{"use strict";n.d(t,{h:()=>y});var i=n(514900),a=n(696832),o=n(383849),s=n.n(o),l=n(365580);var r,d,c=n(15567),_=n.n(c),u=n(102730),p=n.n(u),h=n(528835);const m=312,f="info";class b extends a.Component{constructor(e){super(e),this.showTooltip=()=>{this.setState({isTooltipVisible:!0})},this.hideTooltip=()=>{this.setState({isTooltipVisible:!1})},this.renderIcon=()=>{const{type:e=f}=this.props;switch(e){case"info":return r||(r=(0,h.tZ)(p(),{}));case"question":return d||(d=(0,h.tZ)(_(),{}));default:(0,l.U)(e)}return null},this.state={isTooltipVisible:!1}}render(){const{iconClassNames:e=[],maxWidth:t=m,children:n}=this.props,i=this.renderIcon();return(0,h.BX)("div",{className:"container--nIJjYvifKn",onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip,children:[(0,h.tZ)("div",{className:s()("iconContainer--Qd32ya5v0T",...e),children:i}),(0,h.BX)("div",{className:s()("tooltipContainer--Yos9HnS8si",{"tooltipDisplayed--ibyWhutbpT":this.state.isTooltipVisible}),style:{maxWidth:`${t}px`},children:[n,(0,h.tZ)("div",{className:"triangle--n9NwQgxSAc"})]})]})}}var T=n(86541),C=n(351575),I=n(488203),E=n(671785),S=n(63520),g=n(573630);const O=({title:e,disabled:t=!1,onChange:n})=>{const{translate:i}=(0,I.Z)(),a=i("webapp_secure_notes_addition_field_placeholder_no_title");return(0,h.tZ)(g.Z,{sx:{display:"block",width:"100%"},tooltipText:e||a,children:(0,h.tZ)("input",{sx:{color:"ds.text.neutral.catchy",backgroundColor:"transparent",border:"none",fontSize:"24px",lineHeight:"30px",fontWeight:"600",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontFamily:"'GT Walsheim Pro', 'Helvetica', 'Arial', 'sans-serif'","&:focus":{outline:"none",border:"none"}},placeholder:a,value:e||"",disabled:t,onChange:n})})};var N;const{CONTENT:x,DOCUMENT_STORAGE:v,MORE_OPTIONS:w,SHARED_ACCESS:Z}=T.SecureNoteTabs,y=({attachmentsCount:e,setActiveTab:t,backgroundColor:n,disabled:a,displayDocumentStorage:o,displaySharedAccess:s,displayMoreOptions:l,recipientsCount:r,title:d,setTitle:c})=>{const{translate:_}=(0,I.Z)(),u=(0,E.aV)(),p=[{id:"tab-note-detail",contentId:"content-note-detail",title:_("webapp_secure_notes_edition_field_tab_title_details"),onSelect:()=>t(x)}];if(s&&p.push({id:"tab-shared-access",contentId:"content-shared-access",title:`${_("webapp_secure_notes_edition_field_tab_title_shared_access")} (${r})`,onSelect:()=>t(Z)}),o){const n=u?void 0:(0,h.tZ)(b,{children:(0,h.tZ)("p",{children:_("webapp_secure_notes_edition_field_tab_title_attachments_tooltips")})}),i=e?` (${e})`:"";p.push({id:"tab-document-storage",contentId:"content-document-storage",title:`${_("webapp_secure_notes_edition_field_tab_title_attachments")}${i}`,onSelect:()=>t(v),tabIconElement:n})}return l&&p.push({id:"tab-more-options",contentId:"content-more-options",title:_("webapp_secure_notes_edition_field_tab_title_options"),onSelect:()=>t(w)}),(0,h.tZ)(S.V9,{icon:(0,h.tZ)("div",{className:"iconWrapper--d4t5P9vl4W",children:N||(N=(0,h.tZ)(i.uHY,{size:40,color:"white"}))}),iconBackgroundColor:(0,C.Z)(n),title:(0,h.tZ)(O,{title:d,disabled:a,onChange:e=>c(e.target.value)}),tabs:p})}},557634:(e,t,n)=>{"use strict";n.d(t,{i:()=>K,T:()=>J});var i=n(65255),a=n(377377),o=n(555449),s=n(86541),l=n(696832),r=n(659035),d=n(488203),c=n(383849),_=n.n(c);var u=n(528835);const p=({maxAuthorizedSize:e,currentSize:t})=>{const{translate:n}=(0,d.Z)(),i=.95*e,a=.995*e,o=e-t,s=t>e?n("webapp_secure_notes_edition_field_text_over_limit",{overLimit:-o}):n("webapp_secure_notes_edition_field_text_max_size_reached",{charLeft:o});return t>=i?(0,u.tZ)("div",{className:_()("greyWarningCharLeft--kX7GKkrKTa",t>=a?"redWarningCharLeft--XWRHnpjz2e":{}),children:s}):null};var h=n(167406);const m=["BLUE","GRAY","PURPLE","PINK","RED","BROWN","GREEN","ORANGE","YELLOW"];var f=n(830894),b=n(868819),T=n(514900),C=n(605961),I=n.n(C),E=n(361607);let S=function(e){return e.BOLD="bold",e.CODE="code",e.ITALIC="italic",e.LINK="link",e.SUBSUBTITLE="subsubtitle",e.SUBTITLE="subtitle",e.TITLE="title",e}({});const g=e=>(t,n)=>{var i;const{formatPrefix:a,cursorOffsetStart:o,cursorOffsetEnd:s}=e,l=null!=(i=e.formatSuffix)?i:"",{start:r,end:d}=n,c=t.slice(r,d),_=((e,t,n)=>{const i=!n||e.endsWith(n);return e.startsWith(t)&&i})(c,a,l),u=((e,t,n,i)=>e.start===e.end?(e.start=e.start+n,e.end=e.end+n,e):(e.end=t?e.end-n-i:e.end+n+i,e))(n,_,o,s);return _?{updatedContent:[t.slice(0,r),t.slice(r+a.length,d-l.length),t.slice(d)].join(""),updatedSelectionRange:u}:{updatedContent:[t.slice(0,r),a,c,l,t.slice(d)].join(""),updatedSelectionRange:u}},O={[S.TITLE]:{icon:(0,u.tZ)(r.JO,{name:"FormattingHeading1Outlined"}),label:"Heading",format:g({formatPrefix:"# ",cursorOffsetStart:2,cursorOffsetEnd:0})},[S.SUBTITLE]:{icon:(0,u.tZ)(r.JO,{name:"FormattingHeading2Outlined"}),label:"Subheading",format:g({formatPrefix:"## ",cursorOffsetStart:3,cursorOffsetEnd:0})},[S.SUBSUBTITLE]:{icon:(0,u.tZ)(r.JO,{name:"FormattingHeading3Outlined"}),label:"Subsubheading",format:g({formatPrefix:"### ",cursorOffsetStart:4,cursorOffsetEnd:0})},[S.BOLD]:{icon:(0,u.tZ)(r.JO,{name:"FormattingBoldOutlined"}),label:"Bold",format:g({formatPrefix:"**",formatSuffix:"**",cursorOffsetStart:2,cursorOffsetEnd:2})},[S.ITALIC]:{icon:(0,u.tZ)(r.JO,{name:"FormattingItalicOutlined"}),label:"Italic",format:g({formatPrefix:"_",formatSuffix:"_",cursorOffsetStart:1,cursorOffsetEnd:1})},[S.CODE]:{icon:(0,u.tZ)(r.JO,{name:"FormattingCodeOutlined"}),label:"Code",format:g({formatPrefix:"`",formatSuffix:"`",cursorOffsetStart:1,cursorOffsetEnd:1})},[S.LINK]:{icon:(0,u.tZ)(r.JO,{name:"LinkOutlined"}),label:"Link",format:(e,t)=>{const{start:n,end:i}=t,a=e.slice(n,i),o=((e,t,n)=>(e.start===e.end?(e.start=e.start+1,e.end=e.end+1):(e.start=e.end+3,e.end=e.end+6),e))(t);return{updatedContent:[e.slice(0,n),"[",a,"](url)",e.slice(i)].join(""),updatedSelectionRange:o}}}},N="webapp_secure_notes_content_markdown_preview",x=({fieldRef:e,content:t,isPreviewing:n,setContent:i,setIsPreviewing:a})=>{const{translate:o}=(0,d.Z)(),s=n=>()=>{var a,o;const s=O[n].format,{updatedContent:l,updatedSelectionRange:r}=s(t,{start:null!=(a=e.current?.selectionStart)?a:0,end:null!=(o=e.current?.selectionEnd)?o:0});i(l),setTimeout((()=>{e.current&&(e.current.focus(),e.current.selectionStart=r.start,e.current.selectionEnd=r.end)}),200)};return(0,u.BX)("div",{sx:{display:"flex",height:"50px",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",marginTop:"16px",backgroundColor:"ds.background.alternate",borderRadius:"8px"},children:[(0,u.tZ)("div",{sx:{gap:"4px"},children:Object.keys(O).map((e=>(0,u.tZ)(r.zx,{mood:"neutral",intensity:"supershy",layout:"iconOnly",icon:O[e].icon,onClick:s(e),disabled:n,"aria-label":O[e].label,title:O[e].label,name:O[e].label},e)))}),t?(0,u.tZ)("div",{sx:{padding:"8px 10px"},children:(0,u.tZ)(r.zx,{"aria-label":o(N),onClick:()=>a(!n),layout:"iconTrailing",intensity:"quiet",size:"small",mood:"neutral",icon:n?"ActionHideFilled":"ActionRevealFilled",children:o(N)})}):null]})};var v=n(167748);const w=i.w.SupportMarkdownInSecureNotes,Z="webapp_secure_notes_form_content_label",y=({fieldRef:e,value:t,name:n,placeholder:i,disabled:a,readonly:o,setContent:s,onChange:c})=>{const[_,p]=(0,l.useState)(!1),{translate:h}=(0,d.Z)(),m=(0,E._)(),f=Boolean(m.data?.[w]);return(0,u.tZ)("div",{sx:{display:"flex",flex:"1 1",whiteSpace:"pre-wrap",wordWrap:"break-word",cursor:"text"},children:f?(0,u.BX)("div",{sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[!a&&(0,u.tZ)(x,{content:t,setContent:s,fieldRef:e,isPreviewing:_,setIsPreviewing:e=>p(e)}),_?(0,u.tZ)("div",{className:"markdown--ARo1hBXSLa",children:(0,u.tZ)(I(),{source:(0,v.z)(t),softBreak:"br"})}):(0,u.tZ)(r.Kx,{label:h(Z),ref:e,name:n,className:"textarea--Ix1kh7fRYF",sx:{width:"100%",padding:"10px 0px"},placeholder:i,value:t||"",disabled:a,readOnly:o,onChange:e=>{c?.(e)}})]}):(0,u.tZ)(r.Kx,{label:h(Z),ref:e,name:n,sx:{width:"100%",padding:"10px 0px"},placeholder:i,value:t||"",disabled:a,readOnly:o,onChange:e=>c?.(e)})})};var A=n(71846);const D=({content:e,setContent:t,limitedPermissions:n,readonly:i})=>{const{translate:a}=(0,d.Z)(),[o,s]=(0,l.useState)(!1),r=(0,l.useRef)(null);return(0,u.BX)(u.HY,{children:[(0,u.tZ)(y,{fieldRef:r,placeholder:a(i?"webapp_secure_notes_edition_disabled_label":"webapp_secure_notes_addition_field_placeholder_no_content"),value:e,readonly:i||n,onChange:({target:{value:n}})=>{const i=n.length>e.length,a=e.length>=K;if(i&&a)return;const o=i&&n.length>K,l=o?e:n;s(o),t(l)},setContent:t}),o&&(0,u.tZ)("div",{className:"alertContainer--aKDAFWKb1l",children:(0,u.tZ)(A.n,{id:Math.floor(1e6*Math.random()),message:a("webapp_secure_notes_addition_field_copy_past_error"),onHide:()=>{s(!1)},severity:T.BLW.WARNING})})]})};var R=n(978892),L=n(468037),B=n(351575);var P=n(433988),k=n(154350),U=n(806697);const H={NO_CATEGORY:"webapp_secure_notes_addition_no_category",PERSONAL_SPACE:"webapp_form_field_personal_space",INFO_BOX_ATTACHMENTS:"webapp_secure_notes_infobox_has_attachments",INFO_BOX_SHARED:"webapp_secure_notes_infobox_shared",SECURITY_LABEL:"webapp_secure_notes_addition_field_tab_option_security_label",CONTENT_NOTE_DETAILS:"webapp_secure_notes_form_content_note_details",CONTENT_NOTE_DETAILS_TITLE:"webapp_secure_notes_form_content_note_details_title",CONTENT_ITEM_ORGANIZATION:"webapp_secure_notes_form_content_item_organization",CONTENT_ITEM_ORGANIZATION_FORCED_CATEGORIZATION:"webapp_credential_edition_field_force_categorized",CONTENT_ITEM_ORGANIZATION_COLOR:"webapp_secure_notes_form_content_item_organization_color",CONTENT_PREFERENCES:"webapp_secure_notes_form_content_preferences",SECURITY_TITLE:"webapp_secure_notes_addition_field_tab_option_security_title",SECURITY_DESCRIPTION:"webapp_secure_notes_addition_field_tab_option_security_description",CHANGE_SECURED_SETTING_ON:"webapp_secure_notes_edition_unlocker_on_success",CHANGE_SECURED_SETTING_OFF:"webapp_secure_notes_edition_unlocker_off_success",COLORS:{BLUE:"webapp_secure_notes_addition_field_type_option_blue",BROWN:"webapp_secure_notes_addition_field_type_option_brown",GRAY:"webapp_secure_notes_addition_field_type_option_gray",GREEN:"webapp_secure_notes_addition_field_type_option_green",ORANGE:"webapp_secure_notes_addition_field_type_option_orange",PINK:"webapp_secure_notes_addition_field_type_option_pink",PURPLE:"webapp_secure_notes_addition_field_type_option_purple",RED:"webapp_secure_notes_addition_field_type_option_red",YELLOW:"webapp_secure_notes_addition_field_type_option_yellow"}},M={title:"webapp_secure_notes_edition_unlocker_title_on",subtitle:"webapp_secure_notes_edition_unlocker_description_on"},F={title:"webapp_secure_notes_edition_unlocker_title_off",subtitle:"webapp_secure_notes_edition_unlocker_description_off"},G=({title:e,color:t,spaceId:n,content:i,isSecured:a,isNewItem:o,isShared:s,isAdmin:c,isDisabled:_,isDisableSecureNotesFFActive:T,isSecureNoteAttachmentEnabled:C,hasAttachment:I,data:E,onModifyData:S,setCollectionsToUpdate:g,setColor:O,setSpaceId:N,setTitle:x,setContent:v,setIsSecured:w,setHasDialogsOpenedByChildren:Z})=>{const{translate:y}=(0,d.Z)(),{showToast:A}=(0,r.pm)(),G=(0,P.F)(),{isMPLessUser:W}=(0,k.Z)(),z=(0,l.useRef)(null),{areProtectedItemsUnlocked:V,openProtectedItemsUnlocker:X}=(0,f.tY)(),Y=z.current?.getVaultItemCollections(),{shouldShowFrozenStateDialog:K}=(0,U.Ub)(),J=!G&&!W,$=function(e,t,n){return t.filter((t=>e[t])).map((t=>({icon:n,label:`${e[t]}`,value:t})))}(m.reduce(((e,t)=>(e[t]=y(H.COLORS[t]),e)),{}),m,(j=t,(0,u.tZ)("span",{className:"icon--eBGJiUqyZ5",style:{backgroundColor:(0,B.Z)(j)}})));var j;const q=e=>{w(e),A({description:y(e?H.CHANGE_SECURED_SETTING_ON:H.CHANGE_SECURED_SETTING_OFF),closeActionLabel:y("_common_dialog_dismiss_button")})},Q=Boolean(Y?.some((e=>e.isShared))),ee=E.limitedPermissions,te=Q||ee||_||s;return(0,u.BX)(u.HY,{children:[C&&(s||I)&&(0,u.tZ)(r.ke,{mood:"neutral",size:"small",title:y(s?H.INFO_BOX_SHARED:H.INFO_BOX_ATTACHMENTS),sx:{margin:"10px 0px"}}),(0,u.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,u.BX)(L.u,{title:y(H.CONTENT_NOTE_DETAILS),children:[(0,u.tZ)(r.qo,{label:y(H.CONTENT_NOTE_DETAILS_TITLE),value:e,disabled:_||s&&!c,onChange:e=>x(e.target.value)}),(0,u.tZ)(D,{content:i,setContent:v,limitedPermissions:s&&!c,readonly:_||T}),(0,u.tZ)(p,{maxAuthorizedSize:1e4,currentSize:i.length})]}),(0,u.BX)(L.u,{title:y(H.CONTENT_ITEM_ORGANIZATION),additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,u.tZ)(r.mg,{value:t,"data-name":"colorSelect",label:y(H.CONTENT_ITEM_ORGANIZATION_COLOR),onChange:O,disabled:_,children:$.map((e=>(0,u.tZ)(r.$m,{value:e.value,children:e.label},e.value)))}),(0,u.tZ)(r.u,{content:y(H.CONTENT_ITEM_ORGANIZATION_FORCED_CATEGORIZATION,{space:n}),passThrough:!te,children:(0,u.tZ)(h.M,{spaceId:null!=n?n:"",disabled:te,onChange:e=>{n!==e&&(N(e),z.current?.clearVaultItemCollections())},defaultSpaceId:null!=n?n:"",isUsingNewDesign:!0})}),(0,u.tZ)(R.p,{hasLabel:!1,vaultItem:{spaceId:null!=n?n:"",vaultItemId:E.id,vaultItemTitle:e,isSharedWithLimitedRights:E.limitedPermissions},ref:z,signalEditedValues:S,isAddCollectionDisabled:!!K||I,setHasOpenedDialogs:Z,setCollectionsToUpdate:g})]}),J?(0,u.tZ)(L.u,{title:y(H.CONTENT_PREFERENCES),children:(0,u.tZ)(r.XZ,{id:"securityToggle",label:y(H.SECURITY_TITLE),description:y(H.SECURITY_DESCRIPTION),checked:a,onChange:()=>{const e=!a;V||o?q(e):((0,f.jF)(),X({itemType:b.R.SecureNoteSetting,options:{fieldsKeys:e?M:F,translated:!1},successCallback:()=>q(e)}))}})}):null]})]})};var W=n(61014),z=n(521877);const{CONTENT:V,DOCUMENT_STORAGE:X,SHARED_ACCESS:Y}=s.SecureNoteTabs,K=1e4,J=({activeTab:e,data:t,content:n,setContent:s,handleFileInfoDetached:l,hasAttachment:r,isAdmin:d,isSecureNoteAttachmentEnabled:c,isShared:_,isUploading:p,isDisabled:h,onModifyData:m,onModalDisplayStateChange:f,setCollectionsToUpdate:b,setHasDialogsOpenedByChildren:T,...C})=>{const I=(0,a.w)(i.w.DisableSecureNotes);return(0,u.BX)(u.HY,{children:[(0,u.tZ)("div",{"aria-labelledby":"tab-note-detail",id:"content-note-detail",children:e===V&&(0,u.tZ)(G,{data:t,content:n,isNewItem:!1,isAdmin:d,isShared:_,isDisabled:h,isDisableSecureNotesFFActive:I,isSecureNoteAttachmentEnabled:c,hasAttachment:r,setContent:s,setCollectionsToUpdate:b,onModifyData:m,setHasDialogsOpenedByChildren:T,...C})}),e===Y&&(0,u.tZ)("div",{"aria-labelledby":"tab-shared-access",id:"content-shared-access",children:(0,u.tZ)(o.u,{isAdmin:d,id:t.id})}),e===X&&(0,u.tZ)("div",{"aria-labelledby":"tab-document-storage",id:"content-document-storage",children:(0,u.tZ)(W.P,{attachments:t.attachments,additionalProps:{itemId:t.id,itemType:z.ItemType.SecureNote,handleFileInfoDetached:e=>{l(e)},onModalDisplayStateChange:f,isUploading:p}})})]})}},285163:(e,t,n)=>{"use strict";n.d(t,{Q:()=>_});var i=n(482598),a=n(762048),o=n(713252),s=n(396124),l=n(386342),r=n(914662);const d=e=>!e.initiallyExisting&&!e.hasBeenDeleted,c=e=>e.initiallyExisting&&!e.hasBeenDeleted,_=()=>{const{createCollection:e,updateCollection:t}=(0,i.u)(s.v),{addItemsToCollections:n,removeItemFromCollections:_}=(0,i.u)(a.a);return{addNoteToCollections:async(i,a)=>{const s=[],u=[];for(const n of a){var p;c(n)||(n.isShared?d(n)?s.push({collectionId:n.id,permission:null!=(p=n.itemPermission)?p:o.y3.Limited}):u.push(n.id):(n.vaultItems=[{id:i,type:r.dJ.KWSecureNote}],n.id?await t({id:n.id,collection:n,operationType:n.hasBeenDeleted?l.C.SUBSTRACT_VAULT_ITEMS:l.C.APPEND_VAULT_ITEMS}):await e({content:n})))}s.length&&await n({collectionPermissions:s,itemIds:[i],shouldSkipSync:u.length>0}),u.length&&await _({collectionIds:u,itemId:i})}}}},102730:(e,t,n)=>{var i=n(696832);function a(e){return i.createElement("svg",e,i.createElement("g",{fill:"none",fillRule:"evenodd"},[i.createElement("path",{className:"tooltip-modern-icon-stroke",d:"M.5 8.5a8 8 0 1 1 16 0 8 8 0 0 1-16 0zm8-1v5",key:0}),i.createElement("path",{className:"tooltip-modern-icon-fill",d:"M9.5 4.5a1 1 0 1 0-2 0 1 1 0 1 0 2 0",key:1})]))}a.defaultProps={width:"17",height:"17"},e.exports=a,a.default=a},15567:(e,t,n)=>{var i=n(696832);function a(e){return i.createElement("svg",e,i.createElement("path",{d:"M6.547 7.25c0-1 1-2 2.5-2s2.5.75 2.5 2c0 1-.5 1.5-1.5 2.25s-1 1.25-1 1.75m-8.5-1.5a8.5 8.5 0 1 1 17 0 8.5 8.5 0 0 1-17 0Zm9 4a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",className:"tooltip-modern-icon-stroke"}))}a.defaultProps={width:"17",height:"17",viewBox:"0 0 19 19",fill:"none"},e.exports=a,a.default=a}}]);