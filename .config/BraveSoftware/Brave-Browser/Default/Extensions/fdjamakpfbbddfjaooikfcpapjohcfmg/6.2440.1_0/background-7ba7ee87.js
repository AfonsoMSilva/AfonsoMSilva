"use strict";(self.webpackChunk_dashlane_amphora=self.webpackChunk_dashlane_amphora||[]).push([[958],{92386:(e,r,t)=>{t.r(r),t.d(r,{getBrowserCountry:()=>u,getBrowserLanguage:()=>c,getBrowserName:()=>i,getBrowserVersion:()=>a,isChrome:()=>m,isChromiumEdge:()=>g,isEdge:()=>d,isFirefox:()=>l,isInternetExplorer:()=>E,isOpera:()=>w,isSafari:()=>h});var o,n=t(30315),s=t(83711);function i(){return(0,s.r)().browser.name??""}function a(){return(0,s.r)().browser.version??""}function c(){const e=(0,n.getNavigator)();return e?.language??""}function u(){const e=(0,n.getNavigator)(),r=e?.language??"";let t="";return r.length>=5&&(t=r.substr(3,2)),t}function m(){return"Chrome"===i()}function l(){return"Firefox"===i()}function d(){return"Edge"===i()}function h(){return"Safari"===i()}function w(){return"Opera"===i()}function g(){const e=a()??"";return d()&&parseInt(e.split(".")[0],10)>=76}function E(){const e=i();return"Internet Explorer"===e??"IE"===e}!function(e){e.CHROME="Chrome",e.FIREFOX="Firefox",e.EDGE="Edge",e.SAFARI="Safari",e.OPERA="Opera"}(o||(o={}))},43902:(e,r,t)=>{t.r(r),t.d(r,{getDefaultDeviceName:()=>a,getDeviceType:()=>c,isDeviceConsole:()=>m,isDeviceEmbedded:()=>w,isDeviceMobile:()=>u,isDeviceSmartTV:()=>d,isDeviceTablet:()=>l,isDeviceWearable:()=>h});var o,n=t(92386),s=t(10592),i=t(83711);function a(){return`${(0,n.getBrowserName)()} - ${(0,s.getOSName)()}`}!function(e){e.MOBILE="mobile",e.CONSOLE="console",e.TABLET="tablet",e.SMARTTV="smarttv",e.WEARABLE="wearable",e.EMBEDDED="embedded"}(o||(o={}));const c=()=>(0,i.r)().device.type,u=()=>"mobile"===c(),m=()=>"console"===c(),l=()=>"tablet"===c(),d=()=>"smarttv"===c(),h=()=>"wearable"===c(),w=()=>"embedded"===c()},93149:(e,r,t)=>{function o(){return"object"==typeof window}function n(){return"object"==typeof self&&"function"==typeof importScripts}t.r(r),t.d(r,{isBrowserEnvironment:()=>o,isWorkerEnvironment:()=>n})},30315:(e,r,t)=>{t.r(r),t.d(r,{getNavigator:()=>n});var o=t(93149);function n(){return(0,o.isBrowserEnvironment)()?window.navigator:(0,o.isWorkerEnvironment)()?self.navigator:void 0}},11515:(e,r,t)=>{t.r(r),t.d(r,{getUserAgent:()=>n});var o=t(30315);function n(){const e=(0,o.getNavigator)();return e?.userAgent}},12206:(e,r,t)=>{t.r(r),t.d(r,{browser:()=>a,cookie:()=>o,device:()=>l,env:()=>d,iframe:()=>n,navigator:()=>w,os:()=>g,storage:()=>s,url:()=>i,userAgent:()=>y});var o={};t.r(o),t.d(o,{desktopAnonymousComputerId:()=>u,websiteTrackingId:()=>m});var n={};t.r(n),t.d(n,{isInsideIframe:()=>h});var s={};t.r(s),t.d(s,{makeBrowserStorage:()=>S});var i={};t.r(i),t.d(i,{getAuthorityForUrl:()=>U,getDomainForUrl:()=>C});var a=t(92386),c=t(75077);function u(){return c.Q(document.cookie).anonid}function m(){try{const e=c.Q(document.cookie);return JSON.parse(e.userFunnelCookie).trackingId}catch(e){return null}}var l=t(43902),d=t(93149);function h(){return window.location!==window.parent.location}var w=t(30315),g=t(10592);const E=1,p="dashlane",f="user-data";function v(){return new Promise(((e,r)=>{const t=(0,d.isBrowserEnvironment)()?window.indexedDB:(0,d.isWorkerEnvironment)()?self.indexedDB:null;if(!t)return r(new Error("indexedDB is not supported in this environment"));const o=t.open(p,E);o.onerror=function(){r(o.error)},o.onupgradeneeded=()=>{o.result.objectStoreNames.contains(f)||o.result.createObjectStore(f)},o.onsuccess=function(){o.onsuccess=null,e(o.result)}}))}async function b(e="readwrite"){return(await v()).transaction([f],e).objectStore(f)}async function L(e){const r=await b("readonly");return new Promise((t=>{const o=r.get(e);o.onsuccess=()=>{o.onsuccess=null,t(o.result)}}))}const N={isSupported:async function(){if(!(0,d.isBrowserEnvironment)()&&!(0,d.isWorkerEnvironment)())return!1;if((0,a.isInternetExplorer)())return!1;if((0,d.isBrowserEnvironment)()&&!window.indexedDB)return!1;if((0,d.isWorkerEnvironment)()&&!self.indexedDB)return!1;try{return await v(),!0}catch(e){return!1}},readItem:L,writeItem:async function(e,r){const t=await b("readwrite");return new Promise((o=>{const n=t.put(r,e);n.onsuccess=()=>{n.onsuccess=null,o()}}))},removeItem:async function(e){const r=await b("readwrite");return new Promise((t=>{const o=r.delete(e);o.onsuccess=()=>{o.onsuccess=null,t()}}))},itemExists:async function(e){const r=await L(e);return null!=r}},R={isSupported:()=>Promise.resolve(void 0!==typeof window&&!!window.localStorage),readItem:e=>Promise.resolve(window.localStorage.getItem(e)),writeItem:(e,r)=>Promise.resolve(window.localStorage.setItem(e,r)),removeItem:e=>Promise.resolve(window.localStorage.removeItem(e)),itemExists:e=>{const r=window.localStorage.getItem(e);return Promise.resolve(null!=r)}},q={},k={isSupported:()=>Promise.resolve(!0),readItem:e=>{const r=e in q;return Promise.resolve(r?q[e]:null)},writeItem:(e,r)=>(q[e]=r,Promise.resolve()),removeItem:e=>(delete q[e],Promise.resolve()),itemExists:e=>Promise.resolve(e in q)},S=async()=>{try{if(await N.isSupported())return N;if(await R.isSupported())return R}catch(e){}return k},C=e=>{if(!e)return null;const r=e.trim(),t=["http://","https://","ftp://","ftps://","file://","afp://","smb://"].filter((e=>r.startsWith(e)))[0],o=t?r.substr(t.length):r,n=o.indexOf("/"),s=n>-1?o.slice(0,n):o,i=s.split(""),a=i.filter((e=>"."===e)),c=i.filter((e=>":"===e)),u=i.filter((e=>!Number.isNaN(Number(e))));if(3===a.length&&(u.length===s.length-3||u.length===s.length-4&&1===c.length))return s;if(!a.length||1===a.length)return s;const m=s.lastIndexOf("."),l=s.slice(0,m),d=s.substr(m),h=l.lastIndexOf("."),w=l.substr(h+1),g=l.slice(0,h);if(!["co","com","fr","ac","gov","org","edu","net"].includes(w)&&!["judiciary.uk","ltd.uk","me.uk","mod.uk","nhs.uk","nic.uk","parliament.uk","plc.uk","sch.uk","bl.uk","jet.uk","british-library.uk","nls.uk","qc.ca"].includes(w+d))return w+d;const E=g.lastIndexOf(".");return E>-1?g.substr(E+1)+"."+w+d:s},U=e=>{const r=(e??"").trim();if(!r)return null;const t=["afp://","file://","ftp://","ftps://","http://","https://","smb://"].find((e=>r.startsWith(e))),o=t?r.substr(t.length):r,n=o.indexOf("/");return n>-1?o.slice(0,n):o};var y=t(11515)},10592:(e,r,t)=>{t.r(r),t.d(r,{getOSName:()=>s,getOSVersion:()=>i,isAndroid:()=>a,isIOS:()=>c,isLinux:()=>l,isMacOS:()=>m,isWindows:()=>u});var o,n=t(83711);function s(){return"Chromium OS"===(0,n.r)().os.name?"Chrome OS":(0,n.r)().os.name}function i(){const{version:e=""}=(0,n.r)().os;return"Mac OS"===s()?`OS_X_${e.replace(/\./g,"_")}`:e}!function(e){e.ANDROID="Android",e.IOS="iOS",e.WINDOWS="Windows",e.LINUX="Linux",e.MACOS="Mac OS"}(o||(o={}));const a=()=>"Android"===s(),c=()=>"iOS"===s(),u=()=>"Windows"===s(),m=()=>"Mac OS"===s(),l=()=>"Linux"===s()},83711:(e,r,t)=>{t.d(r,{r:()=>s});var o=t(8473),n=t(11515);function s(){return new o((0,n.getUserAgent)(),{browser:[[/(AVG|Avast)\/([\w.]+)/i],[[o.BROWSER.NAME,"Avast"],o.BROWSER.VERSION],[/(edge|edgios|edga|edg)\/((\d+)?[\w.]+)/i],[[o.BROWSER.NAME,"Edge"],o.BROWSER.VERSION]]}).getResult()}},23385:(e,r,t)=>{var o;t.d(r,{y$:()=>i,PortNames:()=>o,Yg:()=>h,sh:()=>w,PN:()=>a}),function(e){e.PopupCarbon="Popup",e.PopupCarbonLoader="PopupCarbonLoader",e.OptionsCarbon="OptionsCarbon",e.WebappCarbon="leeloo"}(o||(o={}));var n=t(45975),s=t(30504);class i extends s.GenericChannel{connect(e){this.onMessage=r=>{e.receive(r)},this.isConnected=!0,this._connected()}receive(e){this._messageReceived(e)}send(e){if(!this.isConnected)throw new Error("Channel not connected");if(!this.onMessage)throw new Error("onMessage handler not set");this.onMessage(e)}constructor(...e){super(...e),(0,n._)(this,"isConnected",!1),(0,n._)(this,"onMessage",null)}}const a=(e,r)=>{e.connect(r),r.connect(e)};var c=t(96754),u=t(97334);function m(e){const r=function(e){return e.sender?.origin??new URL(e.sender?.url??e.sender?.tab?.url??"").origin}(e);return new URL((0,c.A)("")).origin===r}function l(e){return!!function(e){return(e.sender?.id??"")===(0,u.z)()}(e)||!!m(e)}var d=t(19523);class h extends s.GenericChannel{listen(){d.b.addListener(this.onConnectListener)}send(e){if(!this.currentPorts.size)throw new Error("No port to send message");this.currentPorts.forEach((r=>r.postMessage(e)))}setup(e){const r=this.currentPorts.get(e.name);r&&(r.disconnect(),this.onDisconnectListener(r)),e.onMessage.addListener(this.onMessageListener),e.onDisconnect.addListener(this.onDisconnectListener),this.currentPorts.set(e.name,e),this._connected()}constructor(e,r=5e3){super(r),(0,n._)(this,"name",void 0),(0,n._)(this,"currentPorts",void 0),(0,n._)(this,"onConnectListener",(e=>{if(e.name.startsWith(this.name)){if(this.currentPorts.has(e.name))throw new Error("Port already connected");if(!l(e))throw new Error("Sender origin not trusted");this.setup(e)}})),(0,n._)(this,"onDisconnectListener",(e=>{const r=this.currentPorts.get(e.name);if(r&&(r.onMessage.removeListener(this.onMessageListener),r.onDisconnect.removeListener(this.onDisconnectListener),this.currentPorts.delete(e.name)),this._disconnected(),chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(e)}})),(0,n._)(this,"onMessageListener",(e=>{this._messageReceived(e)})),this.name=e,this.currentPorts=new Map}}class w extends s.GenericChannel{listen(){this.port&&(this.port.disconnect(),this.onDisconnectListener()),d.b.addListener(this.onConnectListener)}send(e){if(!this.port)throw new Error("No port to send message");this.port.postMessage(e)}setup(e){this.port=e,this.port.onMessage.addListener(this.onMessageListener),this.port.onDisconnect.addListener(this.onDisconnectListener),this._connected()}constructor(e,r=5e3){super(r),(0,n._)(this,"name",void 0),(0,n._)(this,"port",void 0),(0,n._)(this,"onConnectListener",(e=>{if(e.name===this.name){if(!l(e))throw new Error("Sender origin not trusted");this.setup(e)}})),(0,n._)(this,"onDisconnectListener",(()=>{if(this.port&&(this.port.onMessage.removeListener(this.onMessageListener),this.port.onDisconnect.removeListener(this.onDisconnectListener),this.port=void 0),this._disconnected(),chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(e)}})),(0,n._)(this,"onMessageListener",(e=>{this._messageReceived(e)})),this.name=e}}},24028:(e,r,t)=>{t.d(r,{_:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{if(!(0,o.Ez)("action.setBadgeBackgroundColor")&&!(0,o.Ez)("browserAction.setBadgeBackgroundColor"))return void t(new Error("No setBadgeBackgroundColor support"));(chrome.action?.setBadgeBackgroundColor??chrome.browserAction.setBadgeBackgroundColor)(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`action/setBadgeBackgroundColor: ${e}`);t(r)}else r()}))}))}},14501:(e,r,t)=>{t.d(r,{d:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{if(!(0,o.Ez)("action.setBadgeText")&&!(0,o.Ez)("browserAction.setBadgeText"))return void t(new Error("No setBadgeText support"));(chrome.action?.setBadgeText??chrome.browserAction.setBadgeText)(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`action/setBadgeText: ${e}`);t(r)}else r()}))}))}},38649:(e,r,t)=>{t.d(r,{B:()=>n});var o=t(41339);function n(e,r){return new Promise(((t,n)=>{if(!(0,o.Ez)("action.setIcon")&&!(0,o.Ez)("browserAction.setIcon"))return void n(new Error("No action.setIcon support"));(chrome.action?.setIcon??chrome.browserAction.setIcon)({path:e,tabId:r},(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`action/setIcon: ${e}`);n(r)}else t()}))}))}},29439:(e,r,t)=>{t.d(r,{U:()=>n});var o=t(41339);const n=async(e,r)=>{if(!(0,o.qX)(["alarms"]))throw new Error("No alarms.create support, permission is missing");if(!(0,o.Ez)("alarms.create"))throw new Error("No alarms.create support");await chrome.alarms.create(e,r)}},23423:(e,r,t)=>{t.d(r,{U:()=>n});var o=t(41339);const n=e=>{if(!(0,o.qX)(["alarms"]))throw new Error("No alarms.get support, permission is missing");if(!(0,o.Ez)("alarms.get"))throw new Error("No alarms.get support");return new Promise(((r,t)=>{chrome.alarms.get(e,(e=>{const o=chrome.runtime.lastError?.message;o&&t(new Error("alarms/get error:"+o)),r(e)}))}))}},63090:(e,r,t)=>{t.d(r,{G:()=>n});var o=t(41339);function n(){return(0,o.Ez)("alarms.clear")&&(0,o.qX)(["alarms"])}},31261:(e,r,t)=>{t.d(r,{i:()=>n});var o=t(41339);const n={addListener:e=>{if(!(0,o.qX)(["alarms"]))throw new Error("No alarms.onAlarm.addListener support, permission is missing");if(!(0,o.Ez)("alarms.onAlarm.addListener"))throw new Error("No alarms.onAlarm.addListener support");chrome.alarms.onAlarm.addListener(e);const r=chrome.runtime.lastError?.message;if(r)throw new Error("alarms/onAlarm error:"+r)},removeListener:e=>{if(!(0,o.qX)(["alarms"]))throw new Error("No alarms.onAlarm.removeListener support, permission is missing");if(!(0,o.Ez)("alarms.onAlarm.removeListener"))throw new Error("No alarms.onAlarm.removeListener support");chrome.alarms.onAlarm.removeListener(e);const r=chrome.runtime.lastError?.message;if(r)throw new Error("alarms/onAlarm error:"+r)}}},37724:(e,r,t)=>{t.d(r,{g:()=>n});var o=t(41339);function n(e={}){return new Promise(((r,t)=>{(0,o.qX)(["cookies"])?(0,o.Ez)("cookies.getAll")?chrome.cookies.getAll(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`cookies/getAll: ${e}`);t(r)}else r(e)})):t(new Error("No cookies.getAll support")):t(new Error("No cookies.getAll support, permission is missing"))}))}},33017:(e,r,t)=>{t.d(r,{O:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["cookies"])?(0,o.Ez)("cookies.remove")?chrome.cookies.remove(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`cookies/remove: ${e}`);t(r)}else r(e)})):t(new Error("No cookies.remove support")):t(new Error("No cookies.remove support, permission is missing"))}))}},52799:(e,r,t)=>{t.d(r,{t:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["cookies"])?(0,o.Ez)("cookies.set")?chrome.cookies.set(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`cookies/set: ${e}`);t(r)}else r(e)})):t(new Error("No cookies.set support")):t(new Error("No cookies.set support, permission is missing"))}))}},69235:(e,r,t)=>{t.d(r,{z:()=>n});var o=t(41339);function n(){return new Promise(((e,r)=>{(0,o.qX)(["declarativeNetRequest"])?(0,o.Ez)("declarativeNetRequest.getDynamicRules")?chrome.declarativeNetRequest.getDynamicRules((t=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",t=new Error(`declarativeNetRequest/getDynamicRules: ${e}`);r(t)}else e(t)})):r(new Error("No declarativeNetRequest.getDynamicRules support")):r(new Error("No declarativeNetRequest.getDynamicRules support, permission is missing"))}))}},2806:(e,r,t)=>{t.d(r,{G:()=>n});var o=t(41339);function n(){return(0,o.Ez)("declarativeNetRequest")&&(0,o.qX)(["declarativeNetRequest"])}},98402:(e,r,t)=>{t.d(r,{O:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["declarativeNetRequest"])?(0,o.Ez)("declarativeNetRequest.updateDynamicRules")?chrome.declarativeNetRequest.updateDynamicRules(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`declarativeNetRequest/updateDynamicRules: ${e}`);t(r)}else r()})):t(new Error("No declarativeNetRequest.updateDynamicRules support")):t(new Error("No declarativeNetRequest.updateDynamicRules support, permission is missing"))}))}},41339:(e,r,t)=>{t.d(r,{Ez:()=>i,qA:()=>s,qX:()=>n});var o=t(33156);function n(e){const r=(0,o.W)().permissions??[];return e.every((e=>r.includes(e)))}function s(e){return void 0!==e.split(".").reduce(((e,r)=>e?.[r]),(0,o.W)())}function i(e){if("undefined"==typeof chrome)return!1;const r=e.split(".").reduce(((e,r)=>e?.[r]),chrome);return Boolean(r)}},35267:(e,r,t)=>{t.d(r,{q:()=>n});var o=t(41339);function n(e){if(!(0,o.qX)(["idle"]))throw new Error("No idle.queryState support, permission is missing");if(!(0,o.Ez)("idle.queryState"))throw new Error("No idle.queryState support");return new Promise((r=>{chrome.idle.queryState(e,(e=>{r(e)}))}))}},24665:(e,r,t)=>{t.r(r),t.d(r,{PrivacyServiceErrorReason:()=>I.$,WebRequestOnAuthRequiredOptions:()=>pe,WebRequestOnBeforeRequestOptions:()=>Ne.X,WebRequestOnCompletedOptions:()=>be,actionGetUserSettings:()=>a,actionSetBadgeBackgroundColor:()=>o._,actionSetBadgeText:()=>n.d,actionSetIcon:()=>s.B,alarmsClear:()=>m,alarmsCreate:()=>u.U,alarmsGet:()=>c.U,alarmsIsSupported:()=>l.G,alarmsOnAlarm:()=>d.i,commandsGetAll:()=>h,contextMenusCreate:()=>w,contextMenusOnClicked:()=>g,contextMenusRemoveAll:()=>E,cookiesGetAll:()=>p.g,cookiesRemove:()=>f.O,cookiesSet:()=>v.t,declarativeNetRequestGetDynamicRules:()=>b.z,declarativeNetRequestIsSupported:()=>L.G,declarativeNetRequestUpdateDynamicRules:()=>N.O,devtoolsPanelCreate:()=>q,getDevtoolsInspectedWindowTabId:()=>R,idleOnStateChanged:()=>S,idleQueryState:()=>C.q,idleSetDetectionInterval:()=>k,isPrivacyServiceRuntimeError:()=>B.I,isPrivacyServiceUnsupportedError:()=>B.b,managedStorageGet:()=>Y.U,managementUninstallSelf:()=>U,privacyServicesGet:()=>y.U,privacyServicesSet:()=>z.t,runtimeConnect:()=>O,runtimeGetId:()=>G.z,runtimeGetManifest:()=>x.W,runtimeGetURL:()=>P.A,runtimeOnConnect:()=>M.b,runtimeOnInstalled:()=>A.Y,runtimeOnMessage:()=>$.p,runtimeReload:()=>D.H,runtimeSendMessage:()=>X,runtimeSetUninstallURL:()=>_.S,scriptingExecuteScript:()=>T.k,scriptingInsertCSS:()=>W,storageLocalGet:()=>j.U,storageLocalGetBytesInUse:()=>F.y,storageLocalIsGetBytesInUseSupported:()=>F.G,storageLocalRemove:()=>V.O,storageLocalSet:()=>Q.t,storageOnChanged:()=>H,storageSessionClear:()=>J,storageSessionGet:()=>K.U,storageSessionGetBytesInUse:()=>Z,storageSessionIsSupported:()=>ee.G,storageSessionOnChanged:()=>re.r,storageSessionRemove:()=>te.O,storageSessionSet:()=>oe.t,tabsCreate:()=>ne.U,tabsDetectLanguage:()=>se.e,tabsGetCurrent:()=>ie,tabsGetTabIdNone:()=>ge,tabsOnCreated:()=>ae.g,tabsOnHighLighted:()=>ce,tabsOnRemoved:()=>ue.$,tabsOnUpdated:()=>me.i,tabsQuery:()=>le.I,tabsRemove:()=>de.O,tabsSendMessage:()=>he.b,tabsUpdate:()=>we.V,webRequestIsSupported:()=>Ee,webRequestOnAuthRequired:()=>ve,webRequestOnBeforeRequest:()=>Le.a,webRequestOnCompleted:()=>Re,webRequestOnErrorOccurred:()=>qe,windowsGetCurrent:()=>Se.T,windowsUpdate:()=>ke.V});var o=t(24028),n=t(14501),s=t(38649),i=t(41339);function a(){return new Promise(((e,r)=>{if((0,i.Ez)("action.getUserSettings"))return e(chrome.action.getUserSettings());r(new Error("No action.getUserSettings support"))}))}var c=t(23423),u=t(29439);const m=e=>{if(!(0,i.qX)(["alarms"]))throw new Error("No alarms.clear support, permission is missing");if(!(0,i.Ez)("alarms.clear"))throw new Error("No alarms.clear support");return new Promise(((r,t)=>{chrome.alarms.clear(e,(e=>{const o=chrome.runtime.lastError?.message;o&&t(new Error("alarms/clear error:"+o)),r(e)}))}))};var l=t(63090),d=t(31261);function h(){return new Promise(((e,r)=>{(0,i.Ez)("commands.getAll")?chrome.commands.getAll((t=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",t=new Error(`commands/getAll: ${e}`);r(t)}else e(t)})):r(new Error("No commands.getAll support"))}))}function w(e){return new Promise(((r,t)=>{(0,i.qX)(["contextMenus"])?(0,i.Ez)("contextMenus.create")?chrome.contextMenus.create(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`context-menus/create: ${e}`);t(r)}else r(e.id??"")})):t(new Error("No contextMenus.create support")):t(new Error("No contextMenus.create support, permission is missing"))}))}const g={addListener:function(e){if(!(0,i.qX)(["contextMenus"]))throw new Error("No contextMenus.onClicked.addListener support, permission is missing");if(!(0,i.Ez)("contextMenus.onClicked.addListener"))throw new Error("No contextMenus.onClicked.addListener support");const r=(r,t)=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`context-menus/onClicked: ${e}`)}return e(r,t)};return chrome.contextMenus.onClicked.addListener(r),r},removeListener:function(e){if(!(0,i.qX)(["contextMenus"]))throw new Error("No contextMenus.onClicked.removeListener support, permission is missing");if(!(0,i.Ez)("contextMenus.onClicked.removeListener"))throw new Error("No contextMenus.onClicked.removeListener support");chrome.contextMenus.onClicked.removeListener(e)}};function E(){return new Promise(((e,r)=>{(0,i.qX)(["contextMenus"])?(0,i.Ez)("contextMenus.removeAll")?chrome.contextMenus.removeAll((()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",t=new Error(`context-menus/removeAll: ${e}`);r(t)}else e()})):r(new Error("No contextMenus.removeAll support")):r(new Error("No contextMenus.removeAll support, permission is missing"))}))}var p=t(37724),f=t(33017),v=t(52799),b=t(69235),L=t(2806),N=t(98402);function R(){if(!(0,i.qA)("devtools_page"))throw new Error("No devtools.inspectedWindow.getTabId support, devtools_page key needs to be defined in the manifest file");return chrome.devtools.inspectedWindow.tabId}function q(e,r,t){return new Promise(((o,n)=>{(0,i.Ez)("devtools.panels.create")?chrome.devtools.panels.create(e,r,t,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`devtols/panels/create: ${e}`);n(r)}else o()})):n(new Error("No devtools.panels.create support"))}))}function k(e){if(!(0,i.qX)(["idle"]))throw new Error("No idle.setDetectionInterval support, permission is missing");if(!(0,i.Ez)("idle.setDetectionInterval"))throw new Error("No idle.setDetectionInterval support");chrome.idle.setDetectionInterval(e)}const S={addListener:function(e){if(!(0,i.qX)(["idle"]))throw new Error("No idle.onStateChanged.addListener support, permission is missing");if(!(0,i.Ez)("idle.onStateChanged.addListener"))throw new Error("No idle.onStateChanged.addListener support");const r=r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`idle/onStateChanged: ${e}`)}return e(r)};return chrome.idle.onStateChanged.addListener(r),r},removeListener:function(e){if(!(0,i.qX)(["idle"]))throw new Error("No idle.onStateChanged.removeListener support, permission is missing");if(!(0,i.Ez)("idle.onStateChanged.removeListener"))throw new Error("No idle.onStateChanged.removeListener support");chrome.idle.onStateChanged.removeListener(e)}};var C=t(35267);function U(e){return(0,i.Ez)("management.uninstallSelf")?chrome.management.uninstallSelf(e):Promise.reject(new Error("No management.uninstallSelf support"))}var y=t(71474),z=t(856),I=t(87692),B=t(51186);function O(e){if(!(0,i.Ez)("runtime.connect"))throw new Error("No runtime.connect support");return chrome.runtime.connect(e)}var P=t(96754),x=t(33156),M=t(19523),A=t(57205),$=t(99743),D=t(74159);function X(e,r){if(!(0,i.Ez)("runtime.sendMessage"))throw new Error("No runtime.sendMessage support");chrome.runtime.sendMessage(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`runtime/sendMessage: ${e}`)}r&&r(e)}))}var _=t(59922),G=t(97334);function W(e){return(0,i.Ez)("scripting.insertCSS")?function(e){return new Promise(((r,t)=>{chrome.scripting.insertCSS(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`scripting/insertCss: ${e}`);t(r)}else r()}))}))}(e):(0,i.Ez)("tabs.insertCSS")?function(e){return new Promise(((r,t)=>{const o={cssOrigin:e.origin?.toLocaleLowerCase(),file:e.files?.[0],runAt:"document_idle"};chrome.tabs.insertCSS(e.target.tabId,o,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`scripting/insertCss: ${e}`);t(r)}else r()}))}))}(e):Promise.reject(new Error("No insertCSS support"))}var T=t(6045);const H={addListener:function(e){if(!(0,i.qX)(["storage"]))throw new Error("No storage.onChanged.addListener support, permission is missing");if(!(0,i.Ez)("storage.onChanged.addListener"))throw new Error("No storage.onChanged.addListener support");const r=(r,t)=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`storage/onChanged: ${e}`)}return e(r,t)};return chrome.storage.onChanged.addListener(r),r}};var j=t(6523),F=t(21352),V=t(52913),Q=t(6721),Y=t(45368);function J(){return new Promise(((e,r)=>{(0,i.qX)(["storage"])?(0,i.Ez)("storage.session.clear")?chrome.storage.session.clear((()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",t=new Error(`storage/session/clear: ${e}`);r(t)}else e()})):r(new Error("No storage.session.clear support")):r(new Error("No storage.session.clear support, permission is missing"))}))}var K=t(27880);function Z(e){return new Promise(((r,t)=>{(0,i.qX)(["storage"])?(0,i.Ez)("storage.session.getBytesInUse")?chrome.storage.session.getBytesInUse(e||null,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/session/getBytesInUse: ${e}`);t(r)}else r(e)})):t(new Error("No storage.session.getBytesInUse support")):t(new Error("No storage.session.getBytesInUse support, permission is missing"))}))}var ee=t(37730),re=t(27420),te=t(22828),oe=t(4710),ne=t(87163),se=t(72720);function ie(){return new Promise(((e,r)=>{(0,i.Ez)("tabs.getCurrent")?chrome.tabs.getCurrent((t=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",t=new Error(`tabs/get-current: ${e}`);r(t)}else e(t)})):r(new Error("No tabs.getCurrent support"))}))}var ae=t(89984);const ce={addListener:function(e){if(!(0,i.Ez)("tabs.onHighlighted.addListener"))throw new Error("No tabs.onHighlighted.addListener support");const r=r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`tabs/onHighlighted: ${e}`)}return e(r)};return chrome.tabs.onHighlighted.addListener(r),r}};var ue=t(70101),me=t(27938),le=t(71751),de=t(42700),he=t(23647),we=t(21597);function ge(){return chrome.tabs.TAB_ID_NONE}function Ee(){return(0,i.Ez)("webRequest")&&(0,i.qX)(["webRequest"])}var pe,fe=t(92386);!function(e){e.Blocking="blocking",e.ResponseHeaders="responseHeaders",e.ExtraHeaders="extraHeaders"}(pe||(pe={}));const ve={addListener:function(e,r,t){if(!(0,i.qX)(["webRequest","webRequestBlocking"])&&!(0,i.qX)(["webRequest","webRequestAuthProvider"]))throw new Error("No webRequest.onAuthRequired support, permission is missing");if(!(0,i.Ez)("webRequest.onAuthRequired"))throw new Error("No webRequest.onAuthRequired support");const o=fe.isFirefox()?t:t?.map((e=>"blocking"===e?"asyncBlocking":e)),n=(r,t)=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`webRequest/onAuthRequired: ${e}`)}if(t)try{e(r).then(t)}catch(e){t({})}return e(r).catch((()=>({})))};return chrome.webRequest.onAuthRequired.addListener(n,r,o),n}};var be,Le=t(61856),Ne=t(97379);!function(e){e.ResponseHeaders="responseHeaders",e.ExtraHeaders="extraHeaders"}(be||(be={}));const Re={addListener:function(e,r,t){if(!(0,i.qX)(["webRequest"]))throw new Error("No webRequest.onCompleted support, permission is missing");if(!(0,i.Ez)("webRequest.onCompleted"))throw new Error("No webRequest.onCompleted support");const o=r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`webRequest/onCompleted: ${e}`)}return e(r)};return chrome.webRequest.onCompleted.addListener(o,r,t),o}};const qe={addListener:function(e,r){if(!(0,i.qX)(["webRequest"]))throw new Error("No webRequest.onErrorOccurred support, permission is missing");if(!(0,i.Ez)("webRequest.onErrorOccurred.addListener"))throw new Error("No webRequest.onErrorOccurred support");const t=r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`webRequest/onErrorOccurred: ${e}`)}return e(r)};return chrome.webRequest.onErrorOccurred.addListener(t,r),t}};var ke=t(40841),Se=t(96344)},51186:(e,r,t)=>{t.d(r,{I:()=>n,b:()=>s});var o=t(87692);function n(e){if("object"!=typeof e||!e)return!1;return!!("reason"in e)&&e.reason===o.$.RuntimeError}function s(e){if("object"!=typeof e||!e)return!1;return!!("reason"in e)&&e.reason===o.$.SettingNotSupported}},71474:(e,r,t)=>{t.d(r,{U:()=>i});var o=t(41339),n=t(87692);const s={reason:n.$.SettingNotSupported};function i(e){return new Promise(((r,t)=>{(0,o.qX)(["privacy"])&&(0,o.Ez)(`privacy.services.${e}.get`)?chrome.privacy.services[e].get({},(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r={reason:n.$.RuntimeError,runtimeError:new Error(e)};t(r)}else r(e)})):t(s)}))}},87692:(e,r,t)=>{var o;t.d(r,{$:()=>o}),function(e){e.RuntimeError="runtimeError",e.SettingNotSupported="settingNotSupported"}(o||(o={}))},856:(e,r,t)=>{t.d(r,{t:()=>i});var o=t(41339),n=t(87692);const s={reason:n.$.SettingNotSupported};function i(e,r){return new Promise(((t,i)=>{(0,o.qX)(["privacy"])&&(0,o.Ez)(`privacy.services.${e}.set`)?chrome.privacy.services[e].set({value:r},(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r={reason:n.$.RuntimeError,runtimeError:new Error(e)};i(r)}else t()})):i(s)}))}},97334:(e,r,t)=>{function o(){return chrome.runtime.id}t.d(r,{z:()=>o})},33156:(e,r,t)=>{t.d(r,{W:()=>n});var o=t(41339);function n(){if(!(0,o.Ez)("runtime.getManifest"))throw new Error("No runtime.getManifest support");return chrome.runtime.getManifest()}},96754:(e,r,t)=>{t.d(r,{A:()=>n});var o=t(41339);function n(e){if(!(0,o.Ez)("runtime.getURL"))throw new Error("No runtime.getURL support");return chrome.runtime.getURL(e)}},19523:(e,r,t)=>{t.d(r,{b:()=>s});var o=t(41339);const n=new Map;const s={addListener:function(e){if(!(0,o.Ez)("runtime.onConnect.addListener"))throw new Error("No runtime.onConnect.addListener support");const r=r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`runtime/onConnect: ${e}`)}return e(r)};chrome.runtime.onConnect.addListener(r),n.set(e,r)},removeListener:function(e){if(!(0,o.Ez)("runtime.onConnect.removeListener"))throw new Error("No runtime.onConnect.removeListener support");const r=n.get(e);if(!r)throw new Error("Unable to find previously added listener");chrome.runtime.onConnect.removeListener(r),n.delete(e)}}},57205:(e,r,t)=>{t.d(r,{Y:()=>n});var o=t(41339);const n={addListener:function(e){if(!(0,o.Ez)("runtime.onInstalled.addListener"))throw new Error("No runtime.onInstalled.addListener support");chrome.runtime.onInstalled.addListener((r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`runtime/onInstalled: ${e}`)}return e(r)}))}}},99743:(e,r,t)=>{t.d(r,{p:()=>n});var o=t(41339);const n={addListener:function(e){const r=(r,t,o)=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`runtime/onMessage: ${e}`)}return e(r,t,o)};if(!(0,o.Ez)("runtime.onMessage.addListener"))throw new Error("No runtime.onMessage.addListener support");return chrome.runtime.onMessage.addListener(r),r},removeListener:function(e){chrome.runtime.onMessage.removeListener(e)}}},74159:(e,r,t)=>{t.d(r,{H:()=>n});var o=t(41339);function n(){if(!(0,o.Ez)("runtime.reload"))throw new Error("No runtime.reload support");chrome.runtime.reload()}},59922:(e,r,t)=>{t.d(r,{S:()=>n});var o=t(41339);function n(e){if(!(0,o.Ez)("runtime.setUninstallURL"))throw new Error("No runtime.setUninstallURL support");chrome.runtime.setUninstallURL(e)}},6045:(e,r,t)=>{t.d(r,{k:()=>s});var o=t(41339);const n=(e,r)=>()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",t=new Error(`scripting/executeScript: ${e}`);r(t)}else e()};function s(e,r){return(0,o.Ez)("scripting.executeScript")?function(e,r){return new Promise(((t,o)=>{const s=r??n(t,o);chrome.scripting.executeScript(e,s)}))}(e,r):(0,o.Ez)("tabs.executeScript")?function(e,r){return new Promise(((t,o)=>{const s=r??n(t,o),i={allFrames:e.target.allFrames,file:void 0,frameId:e.target.frameIds?.[0],runAt:"document_start"};"func"in e?i.code=e.func.toString():i.file=e.files[0],chrome.tabs.executeScript(e.target.tabId,i,s)}))}(e,r):Promise.reject(new Error("No scripting.executeScript support"))}},21352:(e,r,t)=>{t.d(r,{G:()=>n,y:()=>s});var o=t(41339);function n(){return!!chrome.storage?.local.getBytesInUse}function s(e){return new Promise(((r,t)=>{(0,o.qX)(["storage"])?(0,o.Ez)("storage.local.getBytesInUse")?chrome.storage.local.getBytesInUse(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/local/getBytesInUse: ${e}`);t(r)}else r(e)})):t(new Error("No storage.local.getBytesInUse support")):t(new Error("No storage.local.getBytesInUse support, permission is missing"))}))}},6523:(e,r,t)=>{t.d(r,{U:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["storage"])?(0,o.Ez)("storage.local.get")?chrome.storage.local.get(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/local/get: ${e}`);t(r)}else r(e)})):t(new Error("No storage.local.get support")):t(new Error("No storage.local.get support, permission is missing"))}))}},52913:(e,r,t)=>{t.d(r,{O:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["storage"])?(0,o.Ez)("storage.local.remove")?chrome.storage.local.remove(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/local/remove: ${e}`);t(r)}else r()})):t(new Error("No storage.local.remove support")):t(new Error("No storage.local.remove support, permission is missing"))}))}},6721:(e,r,t)=>{t.d(r,{t:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["storage"])?(0,o.Ez)("storage.local.set")?chrome.storage.local.set(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/local/set: ${e}`);t(r)}else r()})):t(new Error("No storage.local.set support")):t(new Error("No storage.local.set support, permission is missing"))}))}},45368:(e,r,t)=>{t.d(r,{U:()=>n});var o=t(41339);function n(e){const r=new Promise(((r,t)=>{(0,o.qX)(["storage"])?(0,o.Ez)("storage.managed.get")?chrome.storage.managed.get(e??null,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/managed/get: ${e}`);t(r)}else r(e)})):t(new Error("No storage.managed.get support")):t(new Error("No storage.managed.get support, permission is missing"))}));return Promise.race([r,new Promise((e=>{setTimeout(e,1e3,void 0)}))])}},27880:(e,r,t)=>{t.d(r,{U:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["storage"])?(0,o.Ez)("storage.session.get")?chrome.storage.session.get(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/session/get: ${e}`);t(r)}r(e)})):t(new Error("No storage.session.get support")):t(new Error("No storage.session.get support, permission is missing"))}))}},37730:(e,r,t)=>{t.d(r,{G:()=>s});var o=t(41339),n=t(33156);function s(){return(0,o.Ez)("storage.session")&&(0,o.qX)(["storage"])&&3===(0,n.W)().manifest_version}},27420:(e,r,t)=>{t.d(r,{r:()=>n});var o=t(41339);const n={addListener:function(e){if(!(0,o.qX)(["storage"]))throw new Error("No storage.session.onChanged.addListener support, permission is missing");if(!(0,o.Ez)("storage.session.onChanged.addListener"))throw new Error("No storage.session.onChanged.addListener support");const r=r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`storage/session/onChanged: ${e}`)}return e(r)};return chrome.storage.session.onChanged.addListener(r),r},removeListener:function(e){if(!(0,o.qX)(["storage"]))throw new Error("No storage.session.onChanged.removeListener support, permission is missing");if(!(0,o.Ez)("storage.session.onChanged.removeListener"))throw new Error("No storage.session.onChanged.removeListener support");chrome.storage.session.onChanged.removeListener(e)}}},22828:(e,r,t)=>{t.d(r,{O:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["storage"])?(0,o.Ez)("storage.session.remove")?chrome.storage.session.remove(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/session/remove: ${e}`);t(r)}r()})):t(new Error("No storage.session.remove support")):t(new Error("No storage.session.remove support, permission is missing"))}))}},4710:(e,r,t)=>{t.d(r,{t:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["storage"])?(0,o.Ez)("storage.session.set")?chrome.storage.session.set(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`storage/session/set: ${e}`);t(r)}r()})):t(new Error("No storage.session.set support")):t(new Error("No storage.session.set support, permission is missing"))}))}},87163:(e,r,t)=>{t.d(r,{U:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.Ez)("tabs.create")?chrome.tabs.create(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`tabs/create: ${e}`);t(r)}else r(e)})):t(new Error("No tabs.create support"))}))}},72720:(e,r,t)=>{t.d(r,{e:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{if(!(0,o.Ez)("tabs.detectLanguage"))return void t(new Error("No tabs.detectLanguage support"));const n=e?[e]:[];chrome.tabs.detectLanguage(...n,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`tabs/detectLanguage: ${e}`);t(r)}else r(e)}))}))}},89984:(e,r,t)=>{t.d(r,{g:()=>n});var o=t(41339);const n={addListener:function(e){if(!(0,o.Ez)("tabs.onCreated.addListener"))throw new Error("No tabs.onCreated.addListener support");const r=r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`tabs/onCreated: ${e}`)}return e(r)};return chrome.tabs.onCreated.addListener(r),r}}},70101:(e,r,t)=>{t.d(r,{$:()=>n});var o=t(41339);const n={addListener:function(e){if(!(0,o.Ez)("tabs.onRemoved.addListener"))throw new Error("No tabs.onRemoved.addListener support");const r=(r,t)=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`tabs/onRemoved: ${e}`)}return e(r,t)};return chrome.tabs.onRemoved.addListener(r),r},removeListener:function(e){if(!(0,o.Ez)("tabs.onRemoved.removeListener"))throw new Error("No tabs.onRemoved.removeListener support");chrome.tabs.onRemoved.removeListener(e)}}},27938:(e,r,t)=>{t.d(r,{i:()=>n});var o=t(41339);const n={addListener:function(e){if(!(0,o.Ez)("tabs.onUpdated.addListener"))throw new Error("No tabs.onUpdated.addListener support");const r=(r,t,o)=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`tabs/onUpdated: ${e}`)}return e(r,t,o)};return chrome.tabs.onUpdated.addListener(r),r},removeListener:function(e){if(!(0,o.Ez)("tabs.onUpdated.removeListener"))throw new Error("No tabs.onUpdated.removeListener support");chrome.tabs.onUpdated.removeListener(e)}}},71751:(e,r,t)=>{t.d(r,{I:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.qX)(["tabs"])?(0,o.Ez)("tabs.query")?chrome.tabs.query(e,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`tabs/query: ${e}`);t(r)}else r(e)})):t(new Error("No tabs.query support")):t(new Error("No tabs.query support, permission is missing"))}))}},42700:(e,r,t)=>{t.d(r,{O:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{(0,o.Ez)("tabs.remove")?chrome.tabs.remove(e,(()=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`tabs/remove: ${e}`);t(r)}else r()})):t(new Error("No tabs.remove support"))}))}},23647:(e,r,t)=>{t.d(r,{b:()=>n});var o=t(41339);function n(e,r,t,n){if(!(0,o.Ez)("tabs.sendMessage"))throw new Error("No tabs.sendMessage support");const s=e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`tabs/sendMessage: ${e}`);if(!t?.ignoreError)throw r}n&&n(e)};t?chrome.tabs.sendMessage(e,r,t,s):chrome.tabs.sendMessage(e,r,s)}},21597:(e,r,t)=>{t.d(r,{V:()=>n});var o=t(41339);function n(e,r){return new Promise(((t,n)=>{(0,o.Ez)("tabs.update")?chrome.tabs.update(e,r,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`tabs/update: ${e}`);n(r)}else t(e)})):n(new Error("No tabs.update support"))}))}},61856:(e,r,t)=>{t.d(r,{a:()=>s});var o=t(97379),n=t(41339);const s={addListener:function(e,r,t){const s=t?.includes(o.X.Blocking)?["webRequest","webRequestBlocking"]:["webRequest"];if(!(0,n.qX)(s))throw new Error("No webRequest.onBeforeRequest.addListener support, permission is missing");if(!(0,n.Ez)("webRequest.onBeforeRequest.addListener"))throw new Error("No webRequest.onBeforeRequest.addListener support");const i=r=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";throw new Error(`webRequest/onBeforeRequest: ${e}`)}return e(r)};return chrome.webRequest.onBeforeRequest.addListener(i,r,t),i},hasListener:function(e){if(!(0,n.qX)(["webRequest","webRequestBlocking"]))throw new Error("No webRequest.onBeforeRequest.hasListener support, permission is missing");if(!(0,n.Ez)("webRequest.onBeforeRequest.hasListener"))throw new Error("No webRequest.onBeforeRequest support");return chrome.webRequest.onBeforeRequest.hasListener(e)},removeListener:function(e){if(!(0,n.qX)(["webRequest"]))throw new Error("No webRequest.onBeforeRequest.removeListener support, permission is missing");if(!(0,n.Ez)("webRequest.onBeforeRequest.removeListener"))throw new Error("No webRequest.onBeforeRequest support");chrome.webRequest.onBeforeRequest.removeListener(e)}}},97379:(e,r,t)=>{var o;t.d(r,{X:()=>o}),function(e){e.Blocking="blocking",e.RequestBody="requestBody"}(o||(o={}))},96344:(e,r,t)=>{t.d(r,{T:()=>n});var o=t(41339);function n(e){return new Promise(((r,t)=>{if(!(0,o.Ez)("windows.getCurrent"))return void t(new Error("No windows.getCurrent support"));const n=e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`windows/getCurrent: ${e}`);t(r)}else r(e)};e?chrome.windows.getCurrent(e,n):chrome.windows.getCurrent(n)}))}},40841:(e,r,t)=>{t.d(r,{V:()=>n});var o=t(41339);function n(e,r){return new Promise(((t,n)=>{(0,o.Ez)("windows.update")?chrome.windows.update(e,r,(e=>{if(chrome.runtime.lastError){const e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError",r=new Error(`windows/update: ${e}`);n(r)}else t(e)})):n(new Error("No windows.update support"))}))}},9497:(e,r,t)=>{t.d(r,{G:()=>n});const o=e=>({actions:(...r)=>{console.error("Missing onError callback"+e,...r)}});function n(e){if(!e.states)return e;const r=[...Object.entries(e.states).map((([e,r])=>({path:e,state:r})))];for(;r.length>0;){const e=r.pop();if(!e)continue;const{path:t,state:n}=e;if(r.push(...Object.entries(n.states??{}).map((([e,r])=>({path:`${t}.${e}`,state:r})))),!("invoke"in n)||"object"!=typeof n.invoke)continue;const s=o(t);"onError"in n.invoke||(n.invoke.onError=s)}return e}},57357:(e,r,t)=>{t.d(r,{V:()=>n});var o=t(29498);function n(e){return r=>{if(r.type.startsWith("error.")){const t="data"in r?r.data:"";if(t instanceof o.x)return;e(new Error(`Error executing state machine service: ${r.type} ${t}`))}}}},18330:(e,r,t)=>{function o(e){return r=>{r.changed||"xstate.init"===r.event.type||e(new Error(`State machine unchanged: Unexpected transition on ${JSON.stringify(r.value)} with event ${r.event.type} `))}}t.d(r,{V:()=>o})},29498:(e,r,t)=>{t.d(r,{x:()=>n});var o=t(45975);class n extends Error{constructor(e="Functional error"){super(e),(0,o._)(this,"description",void 0),this.description=e}}}}]);