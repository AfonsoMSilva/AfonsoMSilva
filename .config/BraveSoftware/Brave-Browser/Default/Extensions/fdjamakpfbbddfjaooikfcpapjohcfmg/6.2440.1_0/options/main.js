(()=>{var e={29:function(){},391:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedChannel=void 0;var n=s(476),r=s(119);let i=()=>[...Array(30)].map(()=>Math.random().toString(36)[3]).join(""),o=e=>{let t=new Uint16Array(e.length);for(let s=0,n=e.length;s<n;s++)t[s]=e.charCodeAt(s);return t},a=(e,t)=>{if(-1===t)return String.fromCharCode.apply(null,e);{let s="";for(let n=0;n<e.length;n+=t)n+t>e.length?s+=String.fromCharCode.apply(null,e.subarray(n)):s+=String.fromCharCode.apply(null,e.subarray(n,n+t));return s}},c=e=>{if(!e.chunkId)throw Error(`ChunkedMessage did not have a chunkId: ${JSON.stringify(e)}`)};class l extends n.GenericChannel{constructor(e){super(e.timeout),this._chunkSize=void 0,this._maxStringAlloc=void 0,this._sender=void 0,this._buffer={},this._chunkSize=e.chunkSize,this._sender=e.sender,this._maxStringAlloc=e.maxStringAlloc||-1}send(e){let t=JSON.stringify(e);if(t.length<=this._chunkSize){this._sender(e);return}let s=o(t),n=i();this._sender({type:"chunk_start",chunkId:n,size:t.length});let r=(e=0)=>{let t=s.slice(e,e+this._chunkSize);t.length&&(this._sender({type:"chunk_data",chunkId:n,data:Array.from(t)}),r(e+this._chunkSize))};r(),this._sender({type:"chunk_end",chunkId:n})}_messageReceived(e){switch(e.type){case"chunk_start":this._receiveNewChunk(e);break;case"chunk_data":this._receiveChunkData(e);break;case"chunk_end":let t=this._mergeChunks(e);super._messageReceived(t);break;default:super._messageReceived(e)}}_receiveNewChunk(e){if(c(e),this._buffer[e.chunkId])throw Error(`There was already an entry in the buffer for chunkId ${e.chunkId}`);this._buffer[e.chunkId]={id:e.chunkId,chunks:[],size:e.size}}_receiveChunkData(e){if(c(e),!this._buffer[e.chunkId])throw Error(`ChunkId ${e.chunkId} was not found in the buffer`);this._buffer[e.chunkId].chunks.push(e.data)}_mergeChunks(e){let t;if(c(e),!this._buffer[e.chunkId])throw Error(`ChunkId ${e.chunkId} was not found in the buffer`);let s=this._buffer[e.chunkId].chunks.reduce((e,t,s)=>(t.forEach((t,s)=>e.uintArray[e.currentIx+s]=t),e.currentIx+=t.length,e),{uintArray:new Uint16Array(this._buffer[e.chunkId].size),currentIx:0}),n=a(s.uintArray,this._maxStringAlloc);try{t=JSON.parse(n)}catch(e){throw Error(`Not a valid JSON string: ${n}`)}if(!(0,r.isTransportMessage)(t))throw Error(`Not a transport message: ${JSON.stringify(t)}`);return t}}t.ChunkedChannel=l},476:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericChannel=void 0;t.GenericChannel=class e{constructor(e=5e3){this._timeout=e,this._onMessageCallbacks=[],this._onConnectCallbacks=[],this._onDisconnectCallbacks=[],this._onErrorCallbacks=[],this._ready=!1}get timeout(){return this._timeout}onData(e){-1===this._onMessageCallbacks.indexOf(e)&&this._onMessageCallbacks.push(e)}onConnect(e){this._ready&&e(),this._onConnectCallbacks.push(e)}onDisconnect(e){this._onDisconnectCallbacks.push(e)}onError(e){this._onErrorCallbacks.push(e)}_messageReceived(e){this._onMessageCallbacks.forEach(t=>t(e))}_error(e){this._onErrorCallbacks.forEach(t=>t(e))}_connected(){this._ready=!0,this._onConnectCallbacks.forEach(e=>e())}_disconnected(){this._ready=!1,this._onDisconnectCallbacks.forEach(e=>e())}}},880:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PARAM=void 0;t.DEFAULT_PARAM="$_DEFAULT_$"},184:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineEvents=function(...e){let t=e.reduce((e,t)=>(e.push.apply(e,Object.keys(t)),e),[]),s=[...new Set(t)];if(t.length>s.length)throw Error("ts-event-bus: duplicate slots encountered in combineEvents.");return Object.assign({},...e)},t.createEventBus=function(e){let t=(e.channels||[]).map(t=>new r.Transport(t,e.ignoredEvents)),s={};for(let r in e.events)e.events.hasOwnProperty(r)&&(!e.ignoredEvents||e.ignoredEvents&&!e.ignoredEvents.includes(r))&&(s[r]=(0,n.connectSlot)(r,t,e.events[r].config));return s};var n=s(592),r=s(522)},415:function(e,t){"use strict";function s(e,t){let s=null;try{s=e(t)}catch(e){return Promise.reject(e)}return s&&s.then?s:Promise.resolve(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.callHandlers=function(e,t){return t&&0!==t.length?1===t.length?s(t[0],e):Promise.all(t.map(t=>s(t,e))):new Promise(e=>{})}},119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTransportMessage=function(e){switch(e.type){case"request":case"response":case"error":case"handler_unregistered":case"handler_registered":case"event_list":return!0;default:return!1}}},592:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slot=function(e=o){return a(e)},t.connectSlot=function(e,t,s={}){let i=t.reduce((e,t,s)=>({...e,[s]:{}}),{[c]:{}}),o=t.reduce((e,t,s)=>({...e,[s]:{}}),{}),a=(e,t)=>{let s=()=>{},n=new Promise(e=>s=e);o[e][t]={registered:n,onRegister:s}},u=[],p=[],m=e=>u.forEach(t=>t(e)),h=e=>p.forEach(t=>t(e));return t.forEach((t,s)=>{t.addRemoteHandlerRegistrationCallback(e,(e=r.DEFAULT_PARAM,t)=>{if(!o[s])return;let n=i[s][e]||[];i[s][e]=n.concat(t),1===l(e,i).length&&m(e),!o[s][e]&&a(String(s),e),o[s][e].onRegister()}),t.addRemoteHandlerUnregistrationCallback(e,(e=r.DEFAULT_PARAM,t)=>{let n=(i[s][e]||[]).indexOf(t);n>-1&&i[s][e].splice(n,1),0===l(e,i).length&&h(e),o[s]&&a(String(s),e)}),t.addRemoteEventListChangedListener(e,()=>{o[s]&&Object.keys(o[s]).forEach(e=>{o[s][e].onRegister()}),delete o[s]})}),Object.assign(function(e,c){let d=2==arguments.length,u=d?c:e,p=d?e:r.DEFAULT_PARAM,m=()=>{let e=l(p,i);return(0,n.callHandlers)(u,e)};if(0===t.length)return m();let h=[];return(s.autoReconnect&&t.forEach(e=>{h.push(e.autoReconnect())}),s.noBuffer)?Promise.all(h).then(()=>m()):(t.forEach((e,t)=>{o[t]&&!o[t][p]&&a(String(t),p)}),Promise.all(t.reduce((e,t,s)=>{var n;return[...e,...null!==(n=o[s]&&[o[s][p].registered])&&void 0!==n?n:[]]},[])).then(()=>m()))},{on:function(s,n){let o="",a=()=>new Promise(e=>e());return"string"==typeof s?(o=s,a=n||a):(o=r.DEFAULT_PARAM,a=s),t.forEach(t=>t.registerHandler(e,o,a)),i[c][o]=(i[c][o]||[]).concat(a),1===l(o,i).length&&m(o),()=>{t.forEach(t=>t.unregisterHandler(e,o,a));let s=(i[c][o]||[]).indexOf(a);-1!==s&&i[c][o].splice(s,1),0===l(o,i).length&&h(o)}},lazy:function(e,t){return u.push(e),p.push(t),d(i).forEach(e),()=>{d(i).forEach(t);let s=u.indexOf(e);s>-1&&u.splice(s,1);let n=p.indexOf(t);n>-1&&p.splice(n,1)}},config:s,slotName:e})},t.defaultSlotConfig=void 0;var n=s(415),r=s(880);let i=()=>{throw Error("Slot not connected")},o={noBuffer:!1,autoReconnect:!0};t.defaultSlotConfig=o;let a=e=>Object.assign(()=>i(),{config:e,lazy:()=>i,on:()=>i,slotName:"Not connected"}),c="LOCAL_TRANSPORT",l=(e,t)=>Object.keys(t).reduce((s,n)=>s.concat(t[n][e]||[]),[]),d=e=>Object.keys(e).reduce((t,s)=>{let n=e[s];return[...new Set([...t,...Object.keys(n).filter(e=>(n[e]||[]).length>0)])]},[])},522:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;var n=s(415);let r=0,i=()=>`${r++}`,o=e=>{throw Error(`Should not happen: ${e}`)},a={TIMED_OUT:"TIMED_OUT",REMOTE_CONNECTION_CLOSED:"REMOTE_CONNECTION_CLOSED",CHANNEL_NOT_READY:"CHANNEL_NOT_READY"};t.Transport=class e{constructor(e,t){this._channel=e,this._localHandlers={},this._localHandlerRegistrations={},this._remoteHandlers={},this._remoteHandlerRegistrationCallbacks={},this._remoteHandlerDeletionCallbacks={},this._remoteIgnoredEventsCallbacks={},this._pendingRequests={},this._channelReady=!1,this._channel.onData(e=>{switch(e.type){case"request":return this._requestReceived(e);case"response":return this._responseReceived(e);case"handler_registered":return this._registerRemoteHandler(e);case"handler_unregistered":return this._unregisterRemoteHandler(e);case"error":return this._errorReceived(e);case"event_list":return this._remoteIgnoredEventsReceived(e);default:o(e)}}),this._channel.onConnect(()=>{this._channelReady=!0,Object.keys(this._localHandlerRegistrations).forEach(e=>{this._localHandlerRegistrations[e].forEach(e=>{this._channel.send(e)})}),t&&this._channel.send({type:"event_list",ignoredEvents:t})}),this._channel.onDisconnect(()=>{this._channelReady=!1,this._unregisterAllRemoteHandlers(),this._rejectAllPendingRequests(Error(`${a.REMOTE_CONNECTION_CLOSED}`))}),this._channel.onError(e=>this._rejectAllPendingRequests(e))}_remoteIgnoredEventsReceived({ignoredEvents:e}){Object.keys(this._remoteIgnoredEventsCallbacks).forEach(t=>{e.includes(t)&&this._remoteIgnoredEventsCallbacks[t]()})}_requestReceived({slotName:e,data:t,id:s,param:r}){let i=this._localHandlers[e];if(!i)return;let o=i[r];o&&(0,n.callHandlers)(t,o).then(async t=>{await this.autoReconnect(),!this.isDisconnected()&&this._channel.send({type:"response",slotName:e,id:s,data:t,param:r})}).catch(async t=>{await this.autoReconnect(),!this.isDisconnected()&&this._channel.send({id:s,message:`${t}`,param:r,slotName:e,stack:t.stack||"",type:"error"})})}_responseReceived({slotName:e,data:t,id:s,param:n}){let r=this._pendingRequests[e];if(!!r&&!!r[n]&&!!r[n][s])r[n][s].resolve(t),delete r[n][s]}_errorReceived({slotName:e,id:t,message:s,stack:n,param:r}){let i=this._pendingRequests[e];if(!i||!i[r]||!i[r][t])return;let o=Error(`${s} on ${e} with param ${r}`);o.stack=n||o.stack,this._pendingRequests[e][r][t].reject(o),delete this._pendingRequests[e][r][t]}_registerRemoteHandler({slotName:e,param:t}){let s=this._remoteHandlerRegistrationCallbacks[e];if(!s)return;let n=this._remoteHandlers[e];if(n&&n[t])return;let r=s=>new Promise((n,r)=>{if(!this._channelReady)return r(Error(`${a.CHANNEL_NOT_READY} on ${e}`));let o=i();this._pendingRequests[e]=this._pendingRequests[e]||{},this._pendingRequests[e][t]=this._pendingRequests[e][t]||{},this._pendingRequests[e][t][o]={resolve:n,reject:r},this._channel.send({type:"request",id:o,slotName:e,param:t,data:s}),setTimeout(()=>{let s=((this._pendingRequests[e]||{})[t]||{})[o];if(s){let n=Error(`${a.TIMED_OUT} on ${e} with param ${t}`);s.reject(n),delete this._pendingRequests[e][t][o]}},this._channel.timeout)});this._remoteHandlers[e]=this._remoteHandlers[e]||{},this._remoteHandlers[e][t]=r,s(t,r)}_unregisterRemoteHandler({slotName:e,param:t}){let s=this._remoteHandlerDeletionCallbacks[e],n=this._remoteHandlers[e];if(!n)return;let r=n[t];r&&s&&(s(t,r),delete this._remoteHandlers[e][t])}_unregisterAllRemoteHandlers(){Object.keys(this._remoteHandlerDeletionCallbacks).forEach(e=>{let t=this._remoteHandlers[e];if(!!t)Object.keys(t).filter(e=>t[e]).forEach(t=>this._unregisterRemoteHandler({slotName:e,param:t}))})}_rejectAllPendingRequests(e){Object.keys(this._pendingRequests).forEach(t=>{Object.keys(this._pendingRequests[t]).forEach(s=>{Object.keys(this._pendingRequests[t][s]).forEach(n=>{this._pendingRequests[t][s][n].reject(e)})}),this._pendingRequests[t]={}})}addRemoteHandlerRegistrationCallback(e,t){!this._remoteHandlerRegistrationCallbacks[e]&&(this._remoteHandlerRegistrationCallbacks[e]=t)}addRemoteHandlerUnregistrationCallback(e,t){!this._remoteHandlerDeletionCallbacks[e]&&(this._remoteHandlerDeletionCallbacks[e]=t)}addRemoteEventListChangedListener(e,t){!this._remoteIgnoredEventsCallbacks[e]&&(this._remoteIgnoredEventsCallbacks[e]=t)}registerHandler(e,t,s){if(this._localHandlers[e]=this._localHandlers[e]||{},this._localHandlers[e][t]=this._localHandlers[e][t]||[],this._localHandlers[e][t].push(s),1===this._localHandlers[e][t].length){let s={type:"handler_registered",param:t,slotName:e};this._localHandlerRegistrations[t]=this._localHandlerRegistrations[t]||[],this._localHandlerRegistrations[t].push(s),this._channelReady&&this._channel.send(s)}}unregisterHandler(e,t,s){let n=this._localHandlers[e];if(n&&n[t]){let r=n[t].indexOf(s);r>-1&&(n[t].splice(r,1),0===n[t].length&&this._channelReady&&this._channel.send({type:"handler_unregistered",param:t,slotName:e}))}}isDisconnected(){return!this._channelReady}autoReconnect(){if(this.isDisconnected()&&this._channel.autoReconnect){let e=new Promise(e=>{this._channel.onConnect(()=>e())});return this._channel.autoReconnect(),e}return Promise.resolve()}}},504:function(e,t,s){"use strict";Object.defineProperty(t,"slot",{enumerable:!0,get:function(){return r.slot}});Object.defineProperty(t,"combineEvents",{enumerable:!0,get:function(){return i.combineEvents}}),Object.defineProperty(t,"createEventBus",{enumerable:!0,get:function(){return i.createEventBus}});Object.defineProperty(t,"GenericChannel",{enumerable:!0,get:function(){return a.GenericChannel}});var n,r=s(592),i=s(184),o=s(29),a=s(476),c=s(391),l=s(119),d=s(880)},473:function(e,t){!function(s,n){"use strict";var r="function",i="undefined",o="object",a="string",c="major",l="model",d="name",u="type",p="vendor",m="version",h="architecture",f="console",g="mobile",v="tablet",_="smarttv",b="wearable",y="embedded",w="Amazon",I="Apple",S="ASUS",x="BlackBerry",E="Browser",A="Chrome",T="Firefox",N="Google",U="Huawei",O="Microsoft",D="Motorola",k="Opera",C="Samsung",R="Sharp",P="Sony",L="Xiaomi",M="Zebra",F="Facebook",G="Chromium OS",B="Mac OS",V=function(e,t){var s={};for(var n in e)t[n]&&t[n].length%2==0?s[n]=t[n].concat(e[n]):s[n]=e[n];return s},j=function(e){for(var t={},s=0;s<e.length;s++)t[e[s].toUpperCase()]=e[s];return t},q=function(e,t){return typeof e===a&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},Z=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,""),typeof t===i?e:e.substring(0,350)},$=function(e,t){for(var s,i,a,c,l,d,u=0;u<t.length&&!l;){var p=t[u],m=t[u+1];for(s=i=0;s<p.length&&!l&&p[s];){;if(l=p[s++].exec(e))for(a=0;a<m.length;a++)d=l[++i],typeof(c=m[a])===o&&c.length>0?2===c.length?typeof c[1]==r?this[c[0]]=c[1].call(this,d):this[c[0]]=c[1]:3===c.length?typeof c[1]!==r||c[1].exec&&c[1].test?this[c[0]]=d?d.replace(c[1],c[2]):void 0:this[c[0]]=d?c[1].call(this,d,c[2]):n:4===c.length&&(this[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):n):this[c]=d||n}u+=2}},z=function(e,t){for(var s in t)if(typeof t[s]===o&&t[s].length>0){for(var r=0;r<t[s].length;r++)if(q(t[s][r],e))return"?"===s?n:s}else if(q(t[s],e))return"?"===s?n:s;return e},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,m],[/opios[\/ ]+([\w\.]+)/i],[m,[d,k+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[d,k]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[d,"UC"+E]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[m,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+E],m],[/\bfocus\/([\w\.]+)/i],[m,[d,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[d,k+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[d,k+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[d,"MIUI "+E]],[/fxios\/([-\w\.]+)/i],[m,[d,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+E]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+E],m],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,F],m],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[d,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,A+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[d,"Android "+E]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[m,z,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[d,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,m],[/(cobalt)\/([\w\.]+)/i],[d,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,H]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[p,C],[u,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[p,C],[u,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[p,I],[u,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,I],[u,v]],[/(macintosh);/i],[l,[p,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[p,R],[u,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[p,U],[u,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[p,U],[u,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[p,L],[u,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[p,L],[u,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[p,"OPPO"],[u,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[p,"Vivo"],[u,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[p,"Realme"],[u,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[p,D],[u,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[p,D],[u,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[p,"LG"],[u,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[p,"LG"],[u,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[p,"Lenovo"],[u,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[p,"Nokia"],[u,g]],[/(pixel c)\b/i],[l,[p,N],[u,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[p,N],[u,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,P],[u,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[p,P],[u,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[p,"OnePlus"],[u,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[p,w],[u,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[p,w],[u,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,p,[u,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[p,x],[u,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[p,S],[u,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[p,S],[u,g]],[/(nexus 9)/i],[l,[p,"HTC"],[u,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[l,/_/g," "],[u,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[p,"Acer"],[u,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[p,"Meizu"],[u,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,l,[u,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,l,[u,v]],[/(surface duo)/i],[l,[p,O],[u,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[p,"Fairphone"],[u,g]],[/(u304aa)/i],[l,[p,"AT&T"],[u,g]],[/\bsie-(\w*)/i],[l,[p,"Siemens"],[u,g]],[/\b(rct\w+) b/i],[l,[p,"RCA"],[u,v]],[/\b(venue[\d ]{2,7}) b/i],[l,[p,"Dell"],[u,v]],[/\b(q(?:mv|ta)\w+) b/i],[l,[p,"Verizon"],[u,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[p,"Barnes & Noble"],[u,v]],[/\b(tm\d{3}\w+) b/i],[l,[p,"NuVision"],[u,v]],[/\b(k88) b/i],[l,[p,"ZTE"],[u,v]],[/\b(nx\d{3}j) b/i],[l,[p,"ZTE"],[u,g]],[/\b(gen\d{3}) b.+49h/i],[l,[p,"Swiss"],[u,g]],[/\b(zur\d{3}) b/i],[l,[p,"Swiss"],[u,v]],[/\b((zeki)?tb.*\b) b/i],[l,[p,"Zeki"],[u,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],l,[u,v]],[/\b(ns-?\w{0,9}) b/i],[l,[p,"Insignia"],[u,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[p,"NextBook"],[u,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],l,[u,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],l,[u,g]],[/\b(ph-1) /i],[l,[p,"Essential"],[u,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[p,"Envizen"],[u,v]],[/\b(trio[-\w\. ]+) b/i],[l,[p,"MachSpeed"],[u,v]],[/\btu_(1491) b/i],[l,[p,"Rotor"],[u,v]],[/(shield[\w ]+) b/i],[l,[p,"Nvidia"],[u,v]],[/(sprint) (\w+)/i],[p,l,[u,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,O],[u,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,M],[u,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,M],[u,g]],[/smart-tv.+(samsung)/i],[p,[u,_]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,C],[u,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,"LG"],[u,_]],[/(apple) ?tv/i],[p,[l,I+" TV"],[u,_]],[/crkey/i],[[l,A+"cast"],[p,N],[u,_]],[/droid.+aft(\w)( bui|\))/i],[l,[p,w],[u,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[p,R],[u,_]],[/(bravia[\w ]+)( bui|\))/i],[l,[p,P],[u,_]],[/(mitv-\w{5}) bui/i],[l,[p,L],[u,_]],[/Hbbtv.*(technisat) (.*);/i],[p,l,[u,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Z],[l,Z],[u,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,l,[u,f]],[/droid.+; (shield) bui/i],[l,[p,"Nvidia"],[u,f]],[/(playstation [345portablevi]+)/i],[l,[p,P],[u,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[p,O],[u,f]],[/((pebble))app/i],[p,l,[u,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[p,I],[u,b]],[/droid.+; (glass) \d/i],[l,[p,N],[u,b]],[/droid.+; (wt63?0{2,3})\)/i],[l,[p,M],[u,b]],[/(quest( 2| pro)?)/i],[l,[p,F],[u,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[u,y]],[/(aeobc)\b/i],[l,[p,w],[u,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[u,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[u,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[m,z,K]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[m,z,K]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,B],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,m],[/\(bb(10);/i],[m,[d,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[d,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[d,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,G],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,m],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,m]]},Y=function(e,t){if(typeof e===o&&(t=e,e=n),!(this instanceof Y))return new Y(e,t).getResult();var f=typeof s!==i&&s.navigator?s.navigator:n,_=e||(f&&f.userAgent?f.userAgent:""),b=f&&f.userAgentData?f.userAgentData:n,y=t?V(W,t):W,w=f&&f.userAgent==_;return this.getBrowser=function(){var e,t={};return t[d]=n,t[m]=n,$.call(t,_,y.browser),t[c]=typeof(e=t[m])===a?e.replace(/[^\d\.]/g,"").split(".")[0]:n,w&&f&&f.brave&&typeof f.brave.isBrave==r&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[h]=n,$.call(e,_,y.cpu),e},this.getDevice=function(){var e={};return e[p]=n,e[l]=n,e[u]=n,$.call(e,_,y.device),w&&!e[u]&&b&&b.mobile&&(e[u]=g),w&&"Macintosh"==e[l]&&f&&typeof f.standalone!==i&&f.maxTouchPoints&&f.maxTouchPoints>2&&(e[l]="iPad",e[u]=v),e},this.getEngine=function(){var e={};return e[d]=n,e[m]=n,$.call(e,_,y.engine),e},this.getOS=function(){var e={};return e[d]=n,e[m]=n,$.call(e,_,y.os),w&&!e[d]&&b&&"Unknown"!=b.platform&&(e[d]=b.platform.replace(/chrome os/i,G).replace(/macos/i,B)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _},this.setUA=function(e){return _=typeof e===a&&e.length>350?Z(e,350):e,this},this.setUA(_),this};Y.VERSION="1.0.35",Y.BROWSER=j([d,m,c]),Y.CPU=j([h]),Y.DEVICE=j([l,p,u,f,g,_,v,b,y]),Y.ENGINE=Y.OS=j([d,m]),typeof t!==i?(e.exports&&(t=e.exports=Y),t.UAParser=Y):typeof define===r&&define.amd?define(function(){return Y}):typeof s!==i&&(s.UAParser=Y);var Q=typeof s!==i&&(s.jQuery||s.Zepto);if(Q&&!Q.ua){var X=new Y;Q.ua=X.getResult(),Q.ua.get=function(){return X.getUA()},Q.ua.set=function(e){X.setUA(e);var t=X.getResult();for(var s in t)Q.ua[s]=t[s]}}}("object"==typeof window?window:this)}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.rv=function(){return"1.0.5"},s.ruid="bundler=rspack@1.0.5";(()=>{"use strict";let e,t;function n(e){let t=i().permissions??[];return e.every(e=>t.includes(e))}function r(e){return"undefined"!=typeof chrome&&!!e.split(".").reduce((e,t)=>e?.[t],chrome)}function i(){if(!r("runtime.getManifest"))throw Error("No runtime.getManifest support");return chrome.runtime.getManifest()}let o=e=>e.indexOf("://")>0||e.startsWith("//"),a=()=>{let{icons:e}=i(),t=e?.[48]??"";return o(t)?t:`/${t}`};var c,l,d,u,p,m,h,f,g,v,_,b,y,w,I,S,x,E,A,T,N,U,O,D,k,C,R,P,L,M,F,G,B,V,j,q,H,Z,$,z,K,W,Y,Q,X,J,ee,et,es,en,er,ei,eo,ea,ec,el,ed,eu,ep,em,eh,ef,eg,ev,e_=s("504");let eb={carbonLoginStatusChanged:(0,e_.slot)({noBuffer:!0}),localAccountsListUpdated:(0,e_.slot)({noBuffer:!0}),openSessionProgressChanged:(0,e_.slot)({noBuffer:!0}),openSessionTokenSent:(0,e_.slot)({noBuffer:!0}),openSessionDashlaneAuthenticator:(0,e_.slot)({noBuffer:!0}),openSessionOTPSent:(0,e_.slot)({noBuffer:!0}),openSessionOTPForNewDeviceRequired:(0,e_.slot)({noBuffer:!0}),openSessionAskMasterPassword:(0,e_.slot)({noBuffer:!0}),openSessionTokenWarning:(0,e_.slot)({noBuffer:!0}),openSessionExtraDeviceTokenRequired:(0,e_.slot)({noBuffer:!0}),openSessionMasterPasswordLess:(0,e_.slot)({noBuffer:!0}),openSessionSsoRedirectionToIdpRequired:(0,e_.slot)({noBuffer:!0}),openSessionFailed:(0,e_.slot)({noBuffer:!0}),sessionSyncStatus:(0,e_.slot)({noBuffer:!0}),accountFeaturesChanged:(0,e_.slot)({noBuffer:!0}),webOnboardingModeUpdated:(0,e_.slot)({noBuffer:!0}),askWebsiteInfo:(0,e_.slot)({noBuffer:!0}),getAccountInfo:(0,e_.slot)({noBuffer:!0}),getAnonymousLogsMetadata:(0,e_.slot)({noBuffer:!0}),checkIfMasterPasswordIsValid:(0,e_.slot)({noBuffer:!0}),openSession:(0,e_.slot)({noBuffer:!0}),openSessionWithToken:(0,e_.slot)({noBuffer:!0}),openSessionWithDashlaneAuthenticator:(0,e_.slot)({noBuffer:!0}),cancelDashlaneAuthenticatorRegistration:(0,e_.slot)(),openSessionWithOTP:(0,e_.slot)({noBuffer:!0}),openSessionWithOTPForNewDevice:(0,e_.slot)({noBuffer:!0}),openSessionResendToken:(0,e_.slot)({noBuffer:!0}),sessionForceSync:(0,e_.slot)({noBuffer:!0}),closeSession:(0,e_.slot)({noBuffer:!0}),lockSession:(0,e_.slot)({noBuffer:!0}),exceptionLog:(0,e_.slot)({noBuffer:!0}),getDevicesList:(0,e_.slot)({noBuffer:!0}),getLocalAccountsList:(0,e_.slot)({noBuffer:!0}),reloadExtension:(0,e_.slot)({noBuffer:!0}),updateWebOnboardingMode:(0,e_.slot)({noBuffer:!0})},ey={noBuffer:!0},ew=()=>(0,e_.slot)(ey),eI={participateToUserABTest:(0,e_.slot)()},eS={getUserABTestVariant:(0,e_.slot)()},ex={liveUserABTestVariant:ew()},eE={enableWebAuthnAuthentication:(0,e_.slot)(),initEnableWebAuthnAuthentication:(0,e_.slot)(),refreshAvailableWebAuthnAuthenticators:(0,e_.slot)(),refreshWebAuthnAuthenticators:(0,e_.slot)(),initRegisterWebAuthnAuthenticator:(0,e_.slot)(),registerWebAuthnAuthenticator:(0,e_.slot)(),initOpenSessionWithWebAuthnAuthenticator:(0,e_.slot)(),openSessionWithWebAuthnAuthenticator:(0,e_.slot)(),disableWebAuthnAuthentication:(0,e_.slot)(),removeWebAuthnAuthenticator:(0,e_.slot)(),initUserVerificationWithWebAuthn:(0,e_.slot)()},eA={getWebAuthnAuthenticators:(0,e_.slot)(),getWebAuthnAuthenticationOptedIn:(0,e_.slot)()},eT={liveWebAuthnAuthenticators:ew(),liveWebAuthnAuthenticationOptedIn:ew()},eN={refreshU2FDevicesList:(0,e_.slot)(),removeU2FAuthenticator:(0,e_.slot)(),refreshTwoFactorAuthenticationInfo:(0,e_.slot)(),startTwoFactorAuthenticationEnableFlow:(0,e_.slot)(),stopTwoFactorAuthenticationEnableFlow:(0,e_.slot)(),continueTwoFactorAuthenticationEnableFlow:(0,e_.slot)(),backTwoFactorAuthenticationEnableFlow:(0,e_.slot)(),startTwoFactorAuthenticationDisableFlow:(0,e_.slot)(),stopTwoFactorAuthenticationDisableFlow:(0,e_.slot)(),continueTwoFactorAuthenticationDisableFlow:(0,e_.slot)(),backTwoFactorAuthenticationDisableFlow:(0,e_.slot)()},eU={getU2FDevicesList:(0,e_.slot)(),getTwoFactorAuthenticationEnableStage:(0,e_.slot)(),getTwoFactorAuthenticationDisableStage:(0,e_.slot)()},eO={liveU2FDevicesList:ew(),liveTwoFactorAuthenticationEnableStage:ew(),liveTwoFactorAuthenticationDisableStage:ew()},eD=(0,e_.combineEvents)({openSessionWithMasterPassword:(0,e_.slot)(),registerDevice:(0,e_.slot)(),requestEmailToken:(0,e_.slot)(),requestPaymentUpdateAuthenticationToken:(0,e_.slot)(),setReactivationStatus:(0,e_.slot)(),disableAutologin:(0,e_.slot)()},eE,eN),ek=(0,e_.combineEvents)({getHasOtp2Type:(0,e_.slot)(),getUserOtpType:(0,e_.slot)(),getReactivationStatus:(0,e_.slot)(),getAvailableUserVerificationMethods:(0,e_.slot)()},eA,eU),eC=(0,e_.combineEvents)({liveReactivationStatus:ew()},eT,eO),eR={changeMasterPassword:(0,e_.slot)()},eP={liveChangeMasterPasswordStatus:ew()},eL={editContactInfo:(0,e_.slot)(),refreshContactInfo:(0,e_.slot)()},eM={getContactInfo:(0,e_.slot)()},eF={liveContactInfo:ew()},eG={changeUserCrypto:(0,e_.slot)()},eB={getCanUserChangeCrypto:(0,e_.slot)(),getUserDerivationMethod:(0,e_.slot)()},eV={liveUserDerivationMethod:ew()},ej={getDarkWebInsightsReportResults:(0,e_.slot)(),getDarkWebInsightsSummary:(0,e_.slot)()},eq={duplicateVaultItem:(0,e_.slot)()},eH={getBreach:(0,e_.slot)(),getBreaches:(0,e_.slot)(),getBreachesPage:(0,e_.slot)(),getBreachesPaginationToken:(0,e_.slot)(),getBreachesUpdateStatus:(0,e_.slot)()},eZ={liveBreach:ew(),liveBreaches:ew(),liveBreachesBatch:ew(),liveBreachesUpdaterStatus:ew()},e$={updateBreachStatus:(0,e_.slot)()},ez={addCredential:(0,e_.slot)(),updateCredential:(0,e_.slot)(),updateLinkedWebsites:(0,e_.slot)()},eK={getCredential:(0,e_.slot)(),getCredentialCategories:(0,e_.slot)(),getCredentials:(0,e_.slot)(),getCredentialsByDomain:(0,e_.slot)(),getCredentialsCount:(0,e_.slot)(),getCredentialsPage:(0,e_.slot)(),getCredentialsPaginationToken:(0,e_.slot)(),getDashlaneDefinedLinkedWebsites:(0,e_.slot)(),getShouldShowRequireMasterPassword:(0,e_.slot)()},eW={liveCredential:ew(),liveCredentials:ew(),liveCredentialsByDomain:ew(),liveCredentialsBatch:ew(),liveCredentialsCount:ew()},eY={getIsForcedDomainsEnabled:(0,e_.slot)()},eQ={getPersonalDataExport:(0,e_.slot)()},eX={getGeneratedPassword:(0,e_.slot)(),getGeneratedPasswordsCount:(0,e_.slot)(),getGeneratedPasswords:(0,e_.slot)(),getGeneratedPasswordsPage:(0,e_.slot)(),getGeneratedPasswordsPaginationToken:(0,e_.slot)()},eJ={liveGeneratedPasswordsCount:ew(),liveGeneratedPasswords:ew()},e0={saveGeneratedPassword:(0,e_.slot)()},e1={getImportPersonalDataStatus:(0,e_.slot)()},e2={liveImportPersonalDataStatus:ew()},e3={importPersonalData:(0,e_.slot)(),previewPersonalData:(0,e_.slot)(),dismissPersonalDataImportNotifications:(0,e_.slot)()},e4={getNote:(0,e_.slot)(),getNoteCategories:(0,e_.slot)(),getNotes:(0,e_.slot)(),getNotesPage:(0,e_.slot)(),getNotesPaginationToken:(0,e_.slot)()},e6={liveNote:ew(),liveNotes:ew()},e5={getPasskey:(0,e_.slot)(),getPasskeys:(0,e_.slot)(),getPasskeysForDomain:(0,e_.slot)()},e9={livePasskey:ew(),livePasskeys:ew()},e8={addPasskey:(0,e_.slot)(),updatePasskey:(0,e_.slot)(),deletePasskey:(0,e_.slot)()},e7={getHasPasswordHistory:(0,e_.slot)(),getPasswordHistoryPage:(0,e_.slot)(),getPasswordHistoryPaginationToken:(0,e_.slot)()},te={livePasswordHistoryBatch:ew()},tt={getPaymentCard:(0,e_.slot)(),getPaymentCards:(0,e_.slot)()},ts={livePaymentCard:ew(),livePaymentCards:ew()},tn={addPaymentCard:(0,e_.slot)(),updatePaymentCard:(0,e_.slot)(),deletePaymentCard:(0,e_.slot)()},tr={getSecureFilesQuota:(0,e_.slot)(),getSecureFilesInfoList:(0,e_.slot)(),getFileDownloadProgress:(0,e_.slot)(),getFileUploadProgress:(0,e_.slot)()},ti={liveSecureFilesQuota:ew(),liveFileDownloadProgress:ew(),liveFileUploadProgress:ew()},to={downloadSecureFile:(0,e_.slot)(),chunkTransferDone:(0,e_.slot)(),updateSecureFileQuota:(0,e_.slot)(),addSecureFile:(0,e_.slot)(),validateSecureFile:(0,e_.slot)(),commitSecureFile:(0,e_.slot)(),initSecureFilesStorageInfo:(0,e_.slot)(),clearSecureFileState:(0,e_.slot)()},ta={getAnonymousUserId:(0,e_.slot)(),getIsUrlBanished:(0,e_.slot)(),arePasswordsProtected:(0,e_.slot)(),areRichIconsEnabled:(0,e_.slot)()},tc={liveArePasswordsProtected:ew(),liveAreRichIconsEnabled:ew()},tl={toggleDashlane:(0,e_.slot)(),updateProtectPasswordsSetting:(0,e_.slot)(),updateAutofillSettings:(0,e_.slot)(),updateRichIconsSetting:(0,e_.slot)()},td={getSpace:(0,e_.slot)(),getSpaces:(0,e_.slot)()},tu={deleteVaultModuleItem:(0,e_.slot)(),deleteVaultModuleItemsBulk:(0,e_.slot)(),disableVaultItemProtection:(0,e_.slot)()},tp={liveSecrets:ew()},tm={addCollection:(0,e_.slot)(),deleteCollection:(0,e_.slot)(),removeItemsFromCollections:(0,e_.slot)(),updateCollection:(0,e_.slot)()},th={addFiscalId:(0,e_.slot)(),editFiscalId:(0,e_.slot)()},tf={addDriverLicense:(0,e_.slot)(),editDriverLicense:(0,e_.slot)()},tg={addIdCard:(0,e_.slot)(),editIdCard:(0,e_.slot)()},tv={addPassport:(0,e_.slot)(),editPassport:(0,e_.slot)()},t_={addSocialSecurityId:(0,e_.slot)(),editSocialSecurityId:(0,e_.slot)()},tb=(0,e_.combineEvents)(tf,th,tg,tv,t_),ty={setupDefaultNoteCategories:(0,e_.slot)()},tw=(0,e_.combineEvents)(eH,eK,eY,eX,e1,e4,e5,e7,tt,tr,ta,td,{}),tI=(0,e_.combineEvents)(eZ,eW,eJ,e2,e6,e9,te,ts,tp,ti,tc),tS=(0,e_.combineEvents)(e$,tm,ez,eQ,e0,tb,e3,e8,tn,to,ty,tl,tu,eq),tx={logEvent:(0,e_.slot)(),logPageView:(0,e_.slot)()},tE={logException:(0,e_.slot)()},tA={getFamilyDetails:(0,e_.slot)(),joinFamily:(0,e_.slot)(),leaveFamily:(0,e_.slot)(),removeFamilyMember:(0,e_.slot)(),resetFamilyJoinToken:(0,e_.slot)()},tT={setGlobalExtensionSettings:(0,e_.slot)(),getGlobalExtensionSettings:(0,e_.slot)()},tN={evaluatePassword:(0,e_.slot)()},tU={abortDeviceLimitFlow:(0,e_.slot)(),loginViaSSO:(0,e_.slot)(),unlinkPreviousDevice:(0,e_.slot)(),unlinkMultipleDevices:(0,e_.slot)()},tO={addLoginNotification:(0,e_.slot)(),clearAllStoredLoginNotification:(0,e_.slot)()},tD={getLoginNotifications:(0,e_.slot)()},tk={liveLoginNotifications:ew()},tC={updateLoginStepInfo:(0,e_.slot)(),resetLoginStepInfo:(0,e_.slot)()},tR={getLoginStepInfo:(0,e_.slot)()},tP={liveLoginStepInfo:ew()},tL={markNotificationAsInteracted:(0,e_.slot)(),markNotificationAsSeen:(0,e_.slot)(),markNotificationAsUnseen:(0,e_.slot)()},tM={getNotificationStatus:(0,e_.slot)()},tF={liveNotificationStatus:ew()},tG={getLoginDeviceLimitFlow:(0,e_.slot)()},tB={liveLoginDeviceLimitFlow:ew()},tV={getTwoFactorAuthenticationInfo:(0,e_.slot)()},tj={liveTwoFactorAuthenticationInfo:ew()},tq={getLoginStatus:(0,e_.slot)(),getLocalAccounts:(0,e_.slot)(),getIsSSOUser:(0,e_.slot)(),getSSOMigrationInfo:(0,e_.slot)(),getSessionInfo:(0,e_.slot)(),getMasterPasswordAndServerKey:(0,e_.slot)(),getUserCryptoSettings:(0,e_.slot)(),getSyncInfo:(0,e_.slot)(),getIsSyncInProgress:(0,e_.slot)(),getPremiumStatus:(0,e_.slot)(),getNodePremiumStatus:(0,e_.slot)(),getSubscriptionInformation:(0,e_.slot)(),getActiveSpaces:(0,e_.slot)(),getSSOProviderInfo:(0,e_.slot)(),getUserLogin:(0,e_.slot)(),getPublicUserId:(0,e_.slot)(),getAnalyticsInstallationId:(0,e_.slot)(),getUserLoginStatus:(0,e_.slot)(),getWebOnboardingMode:(0,e_.slot)(),getIsPaymentFailureChurningDismissed:(0,e_.slot)(),getCredentialSearchOrder:(0,e_.slot)(),getDidOpen:(0,e_.slot)(),getPlatformName:(0,e_.slot)(),getAccountAuthenticationType:(0,e_.slot)(),...tG,...tV},tH={liveLoginStatus:ew(),liveDidOpen:ew(),liveIsSSOUser:ew(),liveSSOMigrationInfo:ew(),liveSessionInfo:ew(),liveSyncInfo:ew(),liveIsSyncInProgress:ew(),livePremiumStatus:ew(),liveServiceProviderUrl:ew(),liveWebOnboardingMode:ew(),liveSubscriptionInformation:ew(),...tB,...tj},tZ={validateToken:(0,e_.slot)(),validateMasterPassword:(0,e_.slot)(),resetProtectedItemAutofillTimer:(0,e_.slot)(),forceSync:(0,e_.slot)(),updatePremiumChurningDismissDate:(0,e_.slot)(),setCredentialSearchOrder:(0,e_.slot)(),refreshSubscriptionInformation:(0,e_.slot)(),updateAccountRecoveryKeyPersonalSettings:(0,e_.slot)()},t$={generatePassword:(0,e_.slot)(),generateAndSavePassword:(0,e_.slot)(),savePasswordGenerationSettings:(0,e_.slot)()},tz={getPasswordGenerationSettings:(0,e_.slot)()},tK={cancelAutoRenew:(0,e_.slot)(),downloadCustomerInvoice:(0,e_.slot)(),fetchInvoiceList:(0,e_.slot)(),requestRefund:(0,e_.slot)()},tW={getInvoicesCount:(0,e_.slot)(),getInvoiceList:(0,e_.slot)(),getInvoiceListYears:(0,e_.slot)()},tY={disableCredentialProtection:(0,e_.slot)(),unlockProtectedItems:(0,e_.slot)()},tQ={vaultLockDate:(0,e_.slot)()},tX={liveVaultLockDate:ew()},tJ={activateAccountRecovery:(0,e_.slot)(),setupMasterPasswordForRecovery:(0,e_.slot)(),deactivateAccountRecovery:(0,e_.slot)(),registerDeviceForRecovery:(0,e_.slot)(),startAccountRecovery:(0,e_.slot)(),sendRecoveryRequest:(0,e_.slot)(),cancelRecoveryRequest:(0,e_.slot)(),checkRecoveryRequestStatus:(0,e_.slot)(),recoverUserData:(0,e_.slot)(),checkDoesLocalRecoveryKeyExist:(0,e_.slot)(),isRecoveryRequestPending:(0,e_.slot)()},t0={getRecoveryOptInSetting:(0,e_.slot)(),getAccountRecoveryRequestCount:(0,e_.slot)()},t1={liveAccountRecoveryRequestCount:ew()},t2={decipherRemoteFile:(0,e_.slot)()},t3={getFileContent:(0,e_.slot)()},t4={liveFileMeta:ew()},t6={getAllSharedItemIds:(0,e_.slot)(),getMyAcceptedUserGroups:(0,e_.slot)(),getSharingCapacity:(0,e_.slot)(),getUserGroups:(0,e_.slot)(),getUserGroup:(0,e_.slot)(),getUserGroupMembers:(0,e_.slot)(),getSharingUsers:(0,e_.slot)(),getSharingUserPermissionLevel:(0,e_.slot)()},t5={liveAllSharedItemIds:ew(),liveMyAcceptedUserGroups:ew(),liveSharingCapacity:ew(),liveUserGroups:ew(),liveSharingUsers:ew(),liveSharingUserPermissionLevel:ew()},t9={convertItemToDashlaneXml:(0,e_.slot)(),convertDashlaneXmlToItem:(0,e_.slot)(),saveSharedItemsToVault:(0,e_.slot)(),shareItem:(0,e_.slot)()},t8={getIsRecoveryEnabled:(0,e_.slot)()},t7={getTeamInfo:(0,e_.slot)(),computePlanPricing:(0,e_.slot)()},se={getAdministrableUserGroup:(0,e_.slot)(),getAdministrableUserGroups:(0,e_.slot)(),isGroupNameAvailable:(0,e_.slot)(),getAdminProvisioningKey:(0,e_.slot)(),getMassDeploymentTeamKey:(0,e_.slot)()},st={liveAdministrableUserGroup:ew(),liveAdministrableUserGroups:ew(),liveAdminProvisioningKey:ew(),liveMassDeploymentTeamKey:ew()},ss={registerTeamDomain:(0,e_.slot)(),completeTeamDomainRegistration:(0,e_.slot)(),deactivateTeamDomain:(0,e_.slot)(),getTeamDomains:(0,e_.slot)(),getTeamDevice:(0,e_.slot)(),listTeamDevices:(0,e_.slot)(),deactivateTeamDevice:(0,e_.slot)(),registerTeamDevice:(0,e_.slot)(),registerTeamDeviceAccount:(0,e_.slot)(),getEncryptionServiceConfig:(0,e_.slot)(),generateAndSaveEncryptionServiceConfig:(0,e_.slot)(),clearSelfHostedESSettings:(0,e_.slot)(),getTeamDeviceEncryptedConfig:(0,e_.slot)(),updateTeamDeviceEncryptedConfig:(0,e_.slot)(),updateTeamSettings:(0,e_.slot)(),parseMetadataFields:(0,e_.slot)(),persistAdminProvisioningKey:(0,e_.slot)(),persistMassDeploymentTeamKey:(0,e_.slot)(),removeAdminProvisioningKey:(0,e_.slot)(),createSSOConnectorConfig:(0,e_.slot)(),generateSSOConnectorKey:(0,e_.slot)(),getRecoveryCodesAsTeamCaptain:(0,e_.slot)(),createInviteLink:(0,e_.slot)(),changeInviteLinkTeamKey:(0,e_.slot)(),toggleInviteLink:(0,e_.slot)(),getInviteLink:(0,e_.slot)(),requestInviteLinkToken:(0,e_.slot)(),getInviteLinkForAdmin:(0,e_.slot)(),getLastADSyncDate:(0,e_.slot)(),getSpecialUserGroupInviteValuesForMemberInTeam:(0,e_.slot)(),getSpecialUserGroupRevision:(0,e_.slot)()},sn={getVisibleUserMessages:(0,e_.slot)(),getUserMessages:(0,e_.slot)()},sr={liveUserMessages:ew(),liveVisibleUserMessages:ew()},si={dismissUserMessages:(0,e_.slot)(),addUserMessage:(0,e_.slot)()},so={getVpnAccount:(0,e_.slot)(),getVpnCapabilitySetting:(0,e_.slot)()},sa={liveVpnAccount:ew()},sc={activateVpnAccount:(0,e_.slot)(),clearVpnAccountErrors:(0,e_.slot)(),completeVpnAccountActivation:(0,e_.slot)()},sl={getAnonymousComputerId:(0,e_.slot)(),getPlatformInfo:(0,e_.slot)()},sd={cleanRemotelyRemovedProfiles:(0,e_.slot)()},su=(0,e_.combineEvents)(eI,eD,eR,eL,eG,ej,tS,tx,tE,tA,tT,tN,tU,tO,tC,tL,tZ,t$,tK,tY,tJ,t2,t9,t7,ss,si,sc,sd),sp={getSingleAddressForAutofill:(0,e_.slot)(),getMultipleAddressesForAutofill:(0,e_.slot)(),getSingleBankAccountForAutofill:(0,e_.slot)(),getMultipleBankAccountsForAutofill:(0,e_.slot)(),getSingleCompanyForAutofill:(0,e_.slot)(),getMultipleCompaniesForAutofill:(0,e_.slot)(),getSingleCredentialForAutofill:(0,e_.slot)(),getMultipleCredentialsForAutofill:(0,e_.slot)(),getSingleDriverLicenseForAutofill:(0,e_.slot)(),getMultipleDriverLicensesForAutofill:(0,e_.slot)(),getSingleEmailForAutofill:(0,e_.slot)(),getMultipleEmailsForAutofill:(0,e_.slot)(),getSingleFiscalIdForAutofill:(0,e_.slot)(),getMultipleFiscalIdsForAutofill:(0,e_.slot)(),getSingleGeneratedPasswordForAutofill:(0,e_.slot)(),getMultipleGeneratedPasswordsForAutofill:(0,e_.slot)(),getSingleIdCardForAutofill:(0,e_.slot)(),getMultipleIdCardsForAutofill:(0,e_.slot)(),getSingleIdentityForAutofill:(0,e_.slot)(),getMultipleIdentitiesForAutofill:(0,e_.slot)(),getSingleNoteForAutofill:(0,e_.slot)(),getMultipleNotesForAutofill:(0,e_.slot)(),getSinglePasskeyForAutofill:(0,e_.slot)(),getSinglePassportForAutofill:(0,e_.slot)(),getMultiplePassportsForAutofill:(0,e_.slot)(),getSinglePaymentCardForAutofill:(0,e_.slot)(),getMultiplePaymentCardsForAutofill:(0,e_.slot)(),getSinglePersonalWebsiteForAutofill:(0,e_.slot)(),getMultiplePersonalWebsitesForAutofill:(0,e_.slot)(),getSinglePhoneForAutofill:(0,e_.slot)(),getMultiplePhonesForAutofill:(0,e_.slot)(),getSingleSocialSecurityIdForAutofill:(0,e_.slot)(),getMultipleSocialSecurityIdsForAutofill:(0,e_.slot)(),getAutofillSettingOnUrlForAutofill:(0,e_.slot)()},sm={getHasFeature:(0,e_.slot)(),getFeatures:(0,e_.slot)()},sh={getIsBrazeContentDisabled:(0,e_.slot)(),getIsLoginFlowMigrationDisabled:(0,e_.slot)(),getIsAutoSSOLoginDisabled:(0,e_.slot)(),getKillSwitch:(0,e_.slot)()},sf={liveIsBrazeContentDisabled:ew(),liveIsLoginFlowMigrationDisabled:ew(),liveIsAutoSSOLoginDisabled:ew(),liveKillSwitch:ew()},sg={getAllBanks:(0,e_.slot)(),getAllCallingCodes:(0,e_.slot)(),getBanks:(0,e_.slot)(),getSecureDocumentsExtensionsList:(0,e_.slot)()},sv=(0,e_.combineEvents)(eS,ek,sp,eM,eB,tw,sl,sm,sh,tD,tR,tM,tq,tz,tW,tQ,t0,t3,t6,sg,t8,se,sn,so),s_={livePhishingURLList:ew()},sb=(0,e_.combineEvents)(ex,s_,eC,eP,eF,eV,tI,sf,tk,tP,tF,tH,tX,t1,t4,t5,st,sr,sa),sy=(0,e_.combineEvents)(su,sv,sb);function sw(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sI(e){if(!r("runtime.getURL"))throw Error("No runtime.getURL support");return chrome.runtime.getURL(e)}!function(e){e.PopupCarbon="Popup",e.PopupCarbonLoader="PopupCarbonLoader",e.OptionsCarbon="OptionsCarbon",e.WebappCarbon="leeloo"}(c||(c={}));let sS=new Map;function sx(e){if(!r("runtime.connect"))throw Error("No runtime.connect support");return chrome.runtime.connect(e)}class sE extends e_.GenericChannel{connect(){self.chrome&&this.setup(this.name)}autoReconnect(){this.connect()}send(e){if(!this.port)throw Error("No port to send message");this.port.postMessage(e)}setup(e){this.port&&this.onDisconnectListener(),this.port=sx({name:e}),this.port.onMessage.addListener(this.onMessageListener),this.port.onDisconnect.addListener(this.onDisconnectListener),this._connected()}constructor(e){super(),sw(this,"name",void 0),sw(this,"port",void 0),sw(this,"onMessageListener",e=>{this._messageReceived(e)}),sw(this,"onDisconnectListener",()=>{this.port&&(this.port.onMessage.removeListener(this.onMessageListener),this.port.onDisconnect.removeListener(this.onDisconnectListener),this.port=void 0),this._disconnected()}),this.name=e}}let{OptionsCarbon:sA}=c,sT=new sE(sA);sT.connect();let sN=(0,e_.combineEvents)(eb,sy),sU=(0,e_.createEventBus)({events:sN,channels:[sT]}),sO=e=>!!(e&&e instanceof HTMLInputElement),sD=e=>{let t=e.querySelector("#usage-consent");if(!sO(t))throw Error("Missing checkbox.");return{usageConsentCheckbox:t}},sk=async(e,t,s)=>{if(!(e.currentTarget instanceof HTMLInputElement))throw Error("event target is not an input element");let{usageConsentCheckbox:n}=sD(s),{currentTarget:r}=e,i={interactionDataConsent:n.checked,personalDataConsent:!0};r.setAttribute("disabled",""),await sU.setGlobalExtensionSettings(i),r.removeAttribute("disabled")},sC=async e=>{let{usageConsentCheckbox:t}=sD(e);((await sU.getGlobalExtensionSettings()).interactionDataConsent??!0)&&t.setAttribute("checked",""),t.addEventListener("change",t=>sk(t,"interactionDataConsent",e)),e.classList.remove("hidden")},sR=async()=>{let e=document.getElementById("permissions-form");if(!e||!(e instanceof HTMLFormElement))throw Error("Cannot find the permissions form. Was it accidentally removed?");await sC(e)},sP="extng.loginFlow.forceLegacyFallback",sL={FORM:"ext-ng-form",LOGIN_CHECKOX:"ext-ng-login-flow"},sM=({target:e})=>{window.localStorage.setItem(sP,String(e.checked))},sF=async()=>{let e=await window.localStorage.getItem(sP),t=document.getElementById(sL.LOGIN_CHECKOX);t.checked="true"===e,t.onchange=sM;let s=document.getElementById(sL.FORM);s?.classList.remove("hidden")};function sG(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var sB=sG(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}),sV=function(e,t){return(sV=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])})(e,t)};function sj(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}sV(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}function sq(e,t){var s,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(s)throw TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(s=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{s=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var sH=Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]};function sZ(e){var t="function"==typeof Symbol&&Symbol.iterator,s=t&&e[t],n=0;if(s)return s.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s$(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var n,r,i=s.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}return o}function sz(e,t,s){if(s||2==arguments.length)for(var n,r=0,i=t.length;r<i;r++)(n||!(r in t))&&(!n&&(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function sK(e){return this instanceof sK?(this.v=e,this):new sK(e)}var sW=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function sY(e){return"function"==typeof e}var sQ=sG(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function sX(e,t){if(e){var s=e.indexOf(t);0<=s&&e.splice(s,1)}}var sJ=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,s,n,r,i=this._parentage;if(i){if(this._parentage=null,Array.isArray(i))try{for(var o=sZ(i),a=o.next();!a.done;a=o.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else i.remove(this)}var c=this.initialTeardown;if(sY(c))try{c()}catch(e){r=e instanceof sQ?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var d=sZ(l),u=d.next();!u.done;u=d.next()){var p=u.value;try{s2(p)}catch(e){r=null!=r?r:[],e instanceof sQ?r=sz(sz([],s$(r)),s$(e.errors)):r.push(e)}}}catch(e){s={error:e}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(s)throw s.error}}}if(r)throw new sQ(r)}},t.prototype.add=function(e){var s;if(e&&e!==this){if(this.closed)s2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(s=this._finalizers)&&void 0!==s?s:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&sX(t,e)},t.prototype.remove=function(e){var s=this._finalizers;s&&sX(s,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),s0=sJ.EMPTY;function s1(e){return e instanceof sJ||e&&"closed"in e&&sY(e.remove)&&sY(e.add)&&sY(e.unsubscribe)}function s2(e){sY(e)?e():e.unsubscribe()}var s3={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},s4={setTimeout:function(e,t){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];var r=s4.delegate;return(null==r?void 0:r.setTimeout)?r.setTimeout.apply(r,sz([e,t],s$(s))):setTimeout.apply(void 0,sz([e,t],s$(s)))},clearTimeout:function(e){var t=s4.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function s6(e){s4.setTimeout(function(){var t=s3.onUnhandledError;if(t)t(e);else throw e})}function s5(){}var s9=s8("C",void 0,void 0);function s8(e,t,s){return{kind:e,value:t,error:s}}var s7=null;function ne(e){if(s3.useDeprecatedSynchronousErrorHandling){var t=!s7;if(t&&(s7={errorThrown:!1,error:null}),e(),t){var s=s7,n=s.errorThrown,r=s.error;if(s7=null,n)throw r}}else e()}var nt=function(e){function t(t){var s=e.call(this)||this;return s.isStopped=!1,t?(s.destination=t,s1(t)&&t.add(s)):s.destination=nc,s}return sj(t,e),t.create=function(e,t,s){return new ni(e,t,s)},t.prototype.next=function(e){if(this.isStopped)na(s8("N",e,void 0),this);else this._next(e)},t.prototype.error=function(e){if(this.isStopped)na(s8("E",void 0,e),this);else this.isStopped=!0,this._error(e)},t.prototype.complete=function(){this.isStopped?na(s9,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){!this.closed&&(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(sJ),ns=Function.prototype.bind;function nn(e,t){return ns.call(e,t)}var nr=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){no(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){no(e)}else no(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){no(e)}},e}(),ni=function(e){function t(t,s,n){var r,i,o=e.call(this)||this;return sY(t)||!t?r={next:null!=t?t:void 0,error:null!=s?s:void 0,complete:null!=n?n:void 0}:o&&s3.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},r={next:t.next&&nn(t.next,i),error:t.error&&nn(t.error,i),complete:t.complete&&nn(t.complete,i)}):r=t,o.destination=new nr(r),o}return sj(t,e),t}(nt);function no(e){if(s3.useDeprecatedSynchronousErrorHandling){var t;t=e,s3.useDeprecatedSynchronousErrorHandling&&s7&&(s7.errorThrown=!0,s7.error=t)}else s6(e)}function na(e,t){var s=s3.onStoppedNotification;s&&s4.setTimeout(function(){return s(e,t)})}var nc={closed:!0,next:s5,error:function(e){throw e},complete:s5};function nl(e,t){var s="object"==typeof t;return new Promise(function(n,r){var i=new ni({next:function(e){n(e),i.unsubscribe()},error:r,complete:function(){s?n(t.defaultValue):r(new sB)}});e.subscribe(i)})}let nd=e=>e.tag===SuccessTag,nu=e=>"failure"===e.tag,np=e=>e.data,nm=e=>e.error;!function(e){e.DEV="DEV",e.QA="QA",e.NIGHTLY="NIGHTLY",e.BETA="BETA",e.PRODUCTION="PRODUCTION"}(l||(l={}));let nh=["saved-checkmark","saved-checkmark-hidden"],nf=Object.freeze([l.DEV,l.NIGHTLY]),ng=["api"];async function nv(e,t,s){let{editSettingsForStaging:n}=e.webServices.commands,r=s.targetStagingCheckbox.checked?{override:!0,baseUrlOverride:s.stagingURLInput.value,cloudflareAccessKeyOverride:s.stagingCloudflareAccessKeyInput.value,cloudflareSecretKeyOverride:s.stagingCloudflareSecretKeyInput.value}:{override:!1};await n({[t]:r})}function n_(e,t){let s=document.getElementById(`staging-urls-fieldset-${e}`);if(!s||!(s instanceof HTMLFieldSetElement))throw Error(`No staging-urls-fieldset-${e}`);s.classList.toggle("hidden",!t)}function nb(t){let s=document.getElementById(`staging-saved-${t}`);if(!s)throw Error(`No staging-saved-${t}`);window.clearTimeout(e),s.classList.remove(...nh),s.classList.add(...nh),e=window.setTimeout(()=>{s.classList.remove(...nh)},500)}async function ny(e,t){let s=function(e){let t=document.getElementById(`target-staging-${e}`);if(!t||!(t instanceof HTMLInputElement))throw Error(`No target-staging-${e}`);let s=document.getElementById(`staging-url-${e}`);if(!s||!(s instanceof HTMLInputElement))throw Error(`No staging-url-${e}`);let n=document.getElementById(`staging-cloudflare-access-key-${e}`);if(!n||!(n instanceof HTMLInputElement))throw Error(`No staging-cloudflare-access-key-${e}`);let r=document.getElementById(`staging-cloudflare-secret-key-${e}`);if(!r||!(r instanceof HTMLInputElement))throw Error(`No staging-cloudflare-secret-key-${e}`);return{targetStagingCheckbox:t,stagingURLInput:s,stagingCloudflareAccessKeyInput:n,stagingCloudflareSecretKeyInput:r}}(t),{targetStagingCheckbox:n,stagingCloudflareAccessKeyInput:r,stagingCloudflareSecretKeyInput:i,stagingURLInput:o}=s,a=async()=>{n_(t,n.checked),await nv(e,t,s),nb(t)},c=async()=>{await nv(e,t,s),nb(t)};n.addEventListener("change",a),o.addEventListener("blur",c),r.addEventListener("blur",c),i.addEventListener("blur",c);let l=await nl(e.webServices.queries.settingsForStaging());if(nu(l))return;let d=np(l)[t];if(n.checked=d.override,d.override){let{baseUrlOverride:e,cloudflareAccessKeyOverride:t,cloudflareSecretKeyOverride:s}=d;o.value=e,r.value=t,i.value=s}n_(t,d.override)}let nw=(e,t)=>e.endsWith(t)?e.charAt(0).toLowerCase()+e.substring(1,e.length-t.length):e,nI=(e,t)=>Object.entries(e).reduce((e,[s,n])=>(e[nw(s,t)]=n,e),{}),nS=e=>({name:e.name,commands:nI(e.commands,"Command"),queries:nI(e.queries,"Query"),events:nI(e.events,"Event")});class nx{constructor(){sw(this,"_",void 0)}}!function(e){e.User="user",e.Device="device"}(d||(d={}));class nE extends nx{constructor(e){super(),sw(this,"body",void 0),this.body=e}}let nA=(e={scope:d.User})=>{var t;return sw(t=class extends nE{},"metadata",e),t};class nT extends nx{constructor(e){super(),sw(this,"body",void 0),this.body=e}}let nN=(...[e={scope:d.User}])=>{var t;return sw(t=class extends nT{},"metadata",e),t},nU=(e={scope:d.User})=>{var t;return sw(t=class extends nT{},"metadata",e),t};class nO{constructor(e){sw(this,"body",void 0),this.body=e}}let nD=(e={scope:d.User})=>{var t;return sw(t=class extends nO{},"metadata",e),t};class nk extends nA({scope:d.Device}){}class nC extends nN({scope:d.Device}){}class nR extends nD({scope:d.User}){}let nP=nS({commands:{SetActiveUserCommand:nC},events:{activeUserSet:nR},name:"requestContext",queries:{ActiveUserQuery:nk}});Object.freeze({WARNING:"warning",CRITICAL:"critical"}),Object.freeze({EXCEPTION:"exception",OTHER:"other"}),Object.freeze({EXCEPTION_BOUNDARY:"exceptionBoundary",UNHANDLED_PROMISE_REJECTION:"unhandledPromiseRejection",UNCAUGHT_EXCEPTION:"uncaughtException"});class nL extends nN({scope:d.Device}){}class nM extends nN({scope:d.Device}){}let nF=nS({name:"exceptionLogging",commands:{reportAnomaly:nL,enableExceptionLog:nM},events:{},queries:{}}),nG=()=>{let e=t=>({define:()=>t,with:s=>{let n={api:s.module,main:s.on,queryOnly:s.queryOnly??[]},r=s.module.name;return e({...t,[r]:n})}});return e({})},nB=(e,t)=>nG().with({module:nP,on:e}).with({module:nF,on:e});nB("node");class nV extends nU({scope:d.Device}){}class nj extends nU({scope:d.Device}){}class nq extends nN({scope:d.Device}){}let nH={...Object.keys(su).reduce((e,t)=>({...e,[`${t[0].toUpperCase().concat(t.substring(1))}Command`]:nU({scope:d.Device})}),{}),CarbonCommand:nV,CarbonLegacyLeelooCommand:nj,MitigationDeleteGrapheneUserDataCommand:nq};class nZ extends nD({scope:d.Device}){}class n$ extends nD({scope:d.Device}){}class nz extends nD({scope:d.Device}){}class nK extends nA({scope:d.Device}){}class nW extends nA({scope:d.Device}){}let nY=nS({name:"carbon-legacy",commands:nH,queries:{...function(e,t){let s=Object.keys(e);return[...s,...Object.keys(t)].reduce((e,t)=>({...e,[`${t[0].toUpperCase().concat(t.substring(1))}Query`]:nA({scope:d.Device})}),{})}(sv,sb),CarbonStateQuery:nK,CarbonStateListQuery:nW},events:{CarbonCommandResultEvent:nZ,CarbonLegacyEvent:n$,CarbonLegacyDeviceRemotelyDeleted:nz}});class nQ extends nN({scope:d.User}){}class nX extends nN({scope:d.User}){}class nJ extends nA({scope:d.User}){}class n0 extends nA({scope:d.User}){}let n1=nS({name:"breaches",commands:{dismissBreach:nQ,markBreachAsSeen:nX},events:{},queries:{breach:nJ,unreadBreachesCount:n0}});class n2 extends nN({scope:d.User}){}let n3=(e,t="")=>()=>({tag:e,message:t}),n4=(e,t)=>class extends Error{constructor(){super(t),this.tag=e}};!function(e){e.INVALID_EMAIL="EMAIL_IS_INVALID",e.ALREADY_SUBSCRIBED="USER_HAS_ALREADY_AN_ACTIVE_SUBSCRIPTION",e.TOO_MANY_SUBSCRIPTIONS="USER_HAS_TOO_MANY_SUBSCRIPTIONS",e.GENERIC_ERROR="GENERIC_ERROR"}(u||(u={})),n3("EMAIL_IS_INVALID",""),n3("USER_HAS_ALREADY_AN_ACTIVE_SUBSCRIPTION",""),n3("USER_HAS_TOO_MANY_SUBSCRIPTIONS",""),n3("GENERIC_ERROR","");class n6 extends nN({scope:d.User}){}!function(e){e.INVALID_EMAIL="EMAIL_IS_INVALID",e.NO_SUBSCRIPTION="USER_HAS_NO_SUBSCRIPTION",e.GENERIC_ERROR="GENERIC_ERROR"}(p||(p={}));class n5 extends nN({scope:d.User}){}!function(e){e.PENDING="pending",e.ACTIVE="active",e.DISABLED="disabled"}(m||(m={}));class n9 extends nA(){}class n8 extends nA({scope:d.User}){}let n7=nS({name:"emailMonitoring",commands:{dismissOnboardingNotification:n2,optinEmail:n6,optoutEmail:n5},events:{},queries:{emailList:n9,onboardingNotificationState:n8}});class re extends nN({scope:d.User}){}class rt extends nN({scope:d.User}){}class rs extends nN({scope:d.User}){}class rn extends nD({scope:d.User}){}class rr extends nA({scope:d.User}){}class ri extends nA({scope:d.User}){}class ro extends nA({scope:d.User}){}class ra extends nA({scope:d.User}){}class rc extends nA({scope:d.User}){}class rl extends nA({scope:d.User}){}class rd extends nA({scope:d.User}){}class ru extends nA({scope:d.User}){}let rp=nS({name:"passwordHealth",commands:{updateIsCredentialExcluded:rt,recalculatePasswordHealth:rs,updateHealthState:re},events:{passwordHealthComputationFinished:rn},queries:{credentialHealthData:rr,filterCredentials:ri,filterCredentialsIds:ro,score:ra,compromisedCredentials:rc,compromisedCredentialsIdsForBreach:rl,passwordHealthReport:rd,scoreForPassword:ru}}),rm=nS({name:"vaultReport",commands:{},events:{},queries:{}});class rh extends nN({scope:d.User}){}class rf extends nA(){}let rg=nS({name:"antiphishing",commands:{addAutoRedirectedDomain:rh},events:{},queries:{isAutoRedirectedDomain:rf}});class rv extends nN({scope:d.User}){}class r_ extends nA({scope:d.User}){}class rb extends nA({scope:d.User}){}let ry=nS({name:"otp",commands:{setupOtpCodeForCredential:rv},events:{},queries:{otpCode:r_,otpCodeForSecretOrUrl:rb}});class rw extends nN({scope:d.User}){}n3("ATTACHMENT_IN_COLLECTION","Unable to share collections containing secure notes with attachments.");class rI extends nN({scope:d.User}){}class rS extends nN({scope:d.User}){}class rx extends nN({scope:d.User}){}class rE extends nN({scope:d.User}){}class rA extends nN({scope:d.User}){}class rT extends nN({scope:d.User}){}class rN extends nN({scope:d.User}){}class rU extends nN({scope:d.User}){}class rO extends nN({scope:d.User}){}class rD extends nN({scope:d.User}){}class rk extends nA({scope:d.User}){}class rC extends nA({scope:d.User}){}class rR extends nA({scope:d.User}){}class rP extends nA({scope:d.User}){}class rL extends nA({scope:d.User}){}class rM extends nA({scope:d.User}){}!function(e){e.assertEqual=e=>e;e.assertIs=function(e){};e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let s of e)t[s]=s;return t},e.getValidEnumValues=t=>{let s=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of s)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.push(s);return t},e.find=(e,t)=>{for(let s of e)if(t(s))return s},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(h||(h={}));let rF=h.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rG=e=>{switch(typeof e){case"undefined":return rF.undefined;case"string":return rF.string;case"number":return isNaN(e)?rF.nan:rF.number;case"boolean":return rF.boolean;case"function":return rF.function;case"bigint":return rF.bigint;case"object":if(Array.isArray(e))return rF.array;if(null===e)return rF.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return rF.promise;if("undefined"!=typeof Map&&e instanceof Map)return rF.map;if("undefined"!=typeof Set&&e instanceof Set)return rF.set;if("undefined"!=typeof Date&&e instanceof Date)return rF.date;return rF.object;default:return rF.unknown}},rB=h.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]);class rV extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},s={_errors:[]},n=e=>{for(let r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(n);else if("invalid_return_type"===r.code)n(r.returnTypeError);else if("invalid_arguments"===r.code)n(r.argumentsError);else if(0===r.path.length)s._errors.push(t(r));else{let e=s,n=0;for(;n<r.path.length;){let s=r.path[n];n===r.path.length-1?(e[s]=e[s]||{_errors:[]},e[s]._errors.push(t(r))):e[s]=e[s]||{_errors:[]},e=e[s],n++}}};return n(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,h.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},s=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}rV.create=e=>new rV(e);let rj=(e,t)=>{let s;switch(e.code){case rB.invalid_type:s=e.received===rF.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case rB.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,h.jsonStringifyReplacer)}`;break;case rB.unrecognized_keys:s=`Unrecognized key(s) in object: ${h.joinValues(e.keys,", ")}`;break;case rB.invalid_union:s="Invalid input";break;case rB.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${h.joinValues(e.options)}`;break;case rB.invalid_enum_value:s=`Invalid enum value. Expected ${h.joinValues(e.options)}, received '${e.received}'`;break;case rB.invalid_arguments:s="Invalid function arguments";break;case rB.invalid_return_type:s="Invalid function return type";break;case rB.invalid_date:s="Invalid date";break;case rB.invalid_string:"object"==typeof e.validation?"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:h.assertNever(e.validation):s="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case rB.too_small:s="array"===e.type?`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be greater than ${e.inclusive?"or equal to ":""}${e.minimum}`:"date"===e.type?`Date must be greater than ${e.inclusive?"or equal to ":""}${new Date(e.minimum)}`:"Invalid input";break;case rB.too_big:s="array"===e.type?`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be less than ${e.inclusive?"or equal to ":""}${e.maximum}`:"date"===e.type?`Date must be smaller than ${e.inclusive?"or equal to ":""}${new Date(e.maximum)}`:"Invalid input";break;case rB.custom:s="Invalid input";break;case rB.invalid_intersection_types:s="Intersection results could not be merged";break;case rB.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;default:s=t.defaultError,h.assertNever(e)}return{message:s}},rq=rj;function rH(){return rq}let rZ=e=>{let{data:t,path:s,errorMaps:n,issueData:r}=e,i=[...s,...r.path||[]],o={...r,path:i},a="";for(let e of n.filter(e=>!!e).slice().reverse())a=e(o,{data:t,defaultError:a}).message;return{...r,path:i,message:r.message||a}};function r$(e,t){let s=rZ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,rH(),rj].filter(e=>!!e)});e.common.issues.push(s)}class rz{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let s=[];for(let n of t){if("aborted"===n.status)return rK;"dirty"===n.status&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){let s=[];for(let e of t)s.push({key:await e.key,value:await e.value});return rz.mergeObjectSync(e,s)}static mergeObjectSync(e,t){let s={};for(let n of t){let{key:t,value:r}=n;if("aborted"===t.status||"aborted"===r.status)return rK;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),(void 0!==r.value||n.alwaysSet)&&(s[t.value]=r.value)}return{status:e.value,value:s}}}let rK=Object.freeze({status:"aborted"}),rW=e=>({status:"valid",value:e}),rY=e=>"aborted"===e.status,rQ=e=>"dirty"===e.status,rX=e=>"valid"===e.status,rJ=e=>e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(f||(f={}));class r0{constructor(e,t,s,n){this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._path.concat(this._key)}}let r1=(e,t)=>{if(rX(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,error:new rV(e.common.issues)}};function r2(e){if(!e)return{};let{errorMap:t,invalid_type_error:s,required_error:n,description:r}=e;if(t&&(s||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:r}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=n?n:t.defaultError}:{message:null!=s?s:t.defaultError},description:r}}class r3{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return rG(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:rG(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rz,ctx:{common:e.parent.common,data:e.data,parsedType:rG(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(rJ(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;let n={common:{issues:[],async:null!==(s=null==t?void 0:t.async)&&void 0!==s&&s,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rG(e)},r=this._parseSync({data:e,path:n.path,parent:n});return r1(n,r)}async parseAsync(e,t){let s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){let s={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rG(e)},n=this._parse({data:e,path:[],parent:s});return r1(s,await (rJ(n)?n:Promise.resolve(n)))}refine(e,t){let s=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let r=e(t),i=()=>n.addIssue({code:rB.custom,...s(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then(e=>!!e||(i(),!1)):!!r||(i(),!1)})}refinement(e,t){return this._refinement((s,n)=>!!e(s)||(n.addIssue("function"==typeof t?t(s,n):t),!1))}_refinement(e){return new iT({schema:this,typeName:v.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return iN.create(this)}nullable(){return iU.create(this)}nullish(){return this.optional().nullable()}array(){return il.create(this)}promise(){return iA.create(this)}or(e){return ip.create([this,e])}and(e){return ih.create(this,e)}transform(e){return new iT({schema:this,typeName:v.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new iO({innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:v.ZodDefault})}brand(){return new iC({typeName:v.ZodBranded,type:this,...r2(void 0)})}describe(e){return new this.constructor({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let r4=/^c[^\s-]{8,}$/i,r6=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,r5=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class r9 extends r3{constructor(){super(...arguments),this._regex=(e,t,s)=>this.refinement(t=>e.test(t),{validation:t,code:rB.invalid_string,...f.errToObj(s)}),this.nonempty=e=>this.min(1,f.errToObj(e)),this.trim=()=>new r9({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){let t;if(this._getType(e)!==rF.string){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.string,received:t.parsedType}),rK}let s=new rz;for(let n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.too_small,minimum:n.value,type:"string",inclusive:!0,message:n.message}),s.dirty());else if("max"===n.kind)e.data.length>n.value&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.too_big,maximum:n.value,type:"string",inclusive:!0,message:n.message}),s.dirty());else if("email"===n.kind)!r5.test(e.data)&&(r$(t=this._getOrReturnCtx(e,t),{validation:"email",code:rB.invalid_string,message:n.message}),s.dirty());else if("uuid"===n.kind)!r6.test(e.data)&&(r$(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:rB.invalid_string,message:n.message}),s.dirty());else if("cuid"===n.kind)!r4.test(e.data)&&(r$(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:rB.invalid_string,message:n.message}),s.dirty());else if("url"===n.kind)try{new URL(e.data)}catch(r){r$(t=this._getOrReturnCtx(e,t),{validation:"url",code:rB.invalid_string,message:n.message}),s.dirty()}else"regex"===n.kind?(n.regex.lastIndex=0,!n.regex.test(e.data)&&(r$(t=this._getOrReturnCtx(e,t),{validation:"regex",code:rB.invalid_string,message:n.message}),s.dirty())):"trim"===n.kind?e.data=e.data.trim():"startsWith"===n.kind?!e.data.startsWith(n.value)&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.invalid_string,validation:{startsWith:n.value},message:n.message}),s.dirty()):"endsWith"===n.kind?!e.data.endsWith(n.value)&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.invalid_string,validation:{endsWith:n.value},message:n.message}),s.dirty()):h.assertNever(n);return{status:s.value,value:e.data}}_addCheck(e){return new r9({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...f.errToObj(e)})}url(e){return this._addCheck({kind:"url",...f.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...f.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...f.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...f.errToObj(t)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...f.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...f.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...f.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...f.errToObj(t)})}length(e,t){return this.min(e,t).max(e,t)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}r9.create=e=>new r9({checks:[],typeName:v.ZodString,...r2(e)});class r8 extends r3{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._getType(e)!==rF.number){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.number,received:t.parsedType}),rK}let s=new rz;for(let n of this._def.checks)"int"===n.kind?!h.isInteger(e.data)&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.invalid_type,expected:"integer",received:"float",message:n.message}),s.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,message:n.message}),s.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,message:n.message}),s.dirty()):"multipleOf"===n.kind?0!==function(e,t){let s=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,r=s>n?s:n,i=parseInt(e.toFixed(r).replace(".",""));return i%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}(e.data,n.value)&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):h.assertNever(n);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,f.toString(t))}gt(e,t){return this.setLimit("min",e,!1,f.toString(t))}lte(e,t){return this.setLimit("max",e,!0,f.toString(t))}lt(e,t){return this.setLimit("max",e,!1,f.toString(t))}setLimit(e,t,s,n){return new r8({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:f.toString(n)}]})}_addCheck(e){return new r8({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:f.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:f.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:f.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:f.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:f.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:f.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind)}}r8.create=e=>new r8({checks:[],typeName:v.ZodNumber,...r2(e)});class r7 extends r3{_parse(e){if(this._getType(e)!==rF.bigint){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.bigint,received:t.parsedType}),rK}return rW(e.data)}}r7.create=e=>new r7({typeName:v.ZodBigInt,...r2(e)});class ie extends r3{_parse(e){if(this._getType(e)!==rF.boolean){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.boolean,received:t.parsedType}),rK}return rW(e.data)}}ie.create=e=>new ie({typeName:v.ZodBoolean,...r2(e)});class it extends r3{_parse(e){let t;if(this._getType(e)!==rF.date){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.date,received:t.parsedType}),rK}if(isNaN(e.data.getTime()))return r$(this._getOrReturnCtx(e),{code:rB.invalid_date}),rK;let s=new rz;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.too_small,message:n.message,inclusive:!0,minimum:n.value,type:"date"}),s.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r$(t=this._getOrReturnCtx(e,t),{code:rB.too_big,message:n.message,inclusive:!0,maximum:n.value,type:"date"}),s.dirty()):h.assertNever(n);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new it({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:f.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:f.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}it.create=e=>new it({checks:[],typeName:v.ZodDate,...r2(e)});class is extends r3{_parse(e){if(this._getType(e)!==rF.undefined){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.undefined,received:t.parsedType}),rK}return rW(e.data)}}is.create=e=>new is({typeName:v.ZodUndefined,...r2(e)});class ir extends r3{_parse(e){if(this._getType(e)!==rF.null){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.null,received:t.parsedType}),rK}return rW(e.data)}}ir.create=e=>new ir({typeName:v.ZodNull,...r2(e)});class ii extends r3{constructor(){super(...arguments),this._any=!0}_parse(e){return rW(e.data)}}ii.create=e=>new ii({typeName:v.ZodAny,...r2(e)});class io extends r3{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rW(e.data)}}io.create=e=>new io({typeName:v.ZodUnknown,...r2(e)});class ia extends r3{_parse(e){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.never,received:t.parsedType}),rK}}ia.create=e=>new ia({typeName:v.ZodNever,...r2(e)});class ic extends r3{_parse(e){if(this._getType(e)!==rF.undefined){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.void,received:t.parsedType}),rK}return rW(e.data)}}ic.create=e=>new ic({typeName:v.ZodVoid,...r2(e)});class il extends r3{_parse(e){let{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==rF.array)return r$(t,{code:rB.invalid_type,expected:rF.array,received:t.parsedType}),rK;if(null!==n.minLength&&t.data.length<n.minLength.value&&(r$(t,{code:rB.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,message:n.minLength.message}),s.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(r$(t,{code:rB.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all(t.data.map((e,s)=>n.type._parseAsync(new r0(t,e,t.path,s)))).then(e=>rz.mergeArray(s,e));let r=t.data.map((e,s)=>n.type._parseSync(new r0(t,e,t.path,s)));return rz.mergeArray(s,r)}get element(){return this._def.type}min(e,t){return new il({...this._def,minLength:{value:e,message:f.toString(t)}})}max(e,t){return new il({...this._def,maxLength:{value:e,message:f.toString(t)}})}length(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}il.create=(e,t)=>new il({type:e,minLength:null,maxLength:null,typeName:v.ZodArray,...r2(t)}),(g||(g={})).mergeShapes=(e,t)=>({...e,...t});let id=e=>t=>new iu({...e,shape:()=>({...e.shape(),...t})});class iu extends r3{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=id(this._def),this.extend=id(this._def)}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=h.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==rF.object){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.object,received:t.parsedType}),rK}let{status:t,ctx:s}=this._processInputParams(e),{shape:n,keys:r}=this._getCached(),i=[];if(!(this._def.catchall instanceof ia&&"strip"===this._def.unknownKeys))for(let e in s.data)!r.includes(e)&&i.push(e);let o=[];for(let e of r){let t=n[e],r=s.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new r0(s,r,s.path,e)),alwaysSet:e in s.data})}if(this._def.catchall instanceof ia){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)o.push({key:{status:"valid",value:e},value:{status:"valid",value:s.data[e]}});else if("strict"===e)i.length>0&&(r$(s,{code:rB.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=s.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new r0(s,n,s.path,t)),alwaysSet:t in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let s=await t.key;e.push({key:s,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>rz.mergeObjectSync(t,e)):rz.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return f.errToObj,new iu({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,s)=>{var n,r,i,o;let a=null!==(i=null===(r=(n=this._def).errorMap)||void 0===r?void 0:r.call(n,t,s).message)&&void 0!==i?i:s.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=f.errToObj(e).message)&&void 0!==o?o:a}:{message:a}}}:{}})}strip(){return new iu({...this._def,unknownKeys:"strip"})}passthrough(){return new iu({...this._def,unknownKeys:"passthrough"})}setKey(e,t){return this.augment({[e]:t})}merge(e){return new iu({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>g.mergeShapes(this._def.shape(),e._def.shape()),typeName:v.ZodObject})}catchall(e){return new iu({...this._def,catchall:e})}pick(e){let t={};return h.objectKeys(e).map(e=>{this.shape[e]&&(t[e]=this.shape[e])}),new iu({...this._def,shape:()=>t})}omit(e){let t={};return h.objectKeys(this.shape).map(s=>{-1===h.objectKeys(e).indexOf(s)&&(t[s]=this.shape[s])}),new iu({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof iu){let s={};for(let n in t.shape){let r=t.shape[n];s[n]=iN.create(e(r))}return new iu({...t._def,shape:()=>s})}if(t instanceof il)return il.create(e(t.element));if(t instanceof iN)return iN.create(e(t.unwrap()));else if(t instanceof iU)return iU.create(e(t.unwrap()));else if(t instanceof ig)return ig.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};if(e)h.objectKeys(this.shape).map(s=>{-1===h.objectKeys(e).indexOf(s)?t[s]=this.shape[s]:t[s]=this.shape[s].optional()});else for(let e in this.shape){let s=this.shape[e];t[e]=s.optional()}return new iu({...this._def,shape:()=>t})}required(){let e={};for(let t in this.shape){let s=this.shape[t];for(;s instanceof iN;)s=s._def.innerType;e[t]=s}return new iu({...this._def,shape:()=>e})}keyof(){return iS(h.objectKeys(this.shape))}}iu.create=(e,t)=>new iu({shape:()=>e,unknownKeys:"strip",catchall:ia.create(),typeName:v.ZodObject,...r2(t)}),iu.strictCreate=(e,t)=>new iu({shape:()=>e,unknownKeys:"strict",catchall:ia.create(),typeName:v.ZodObject,...r2(t)}),iu.lazycreate=(e,t)=>new iu({shape:e,unknownKeys:"strip",catchall:ia.create(),typeName:v.ZodObject,...r2(t)});class ip extends r3{_parse(e){let{ctx:t}=this._processInputParams(e),s=this._def.options;if(t.common.async)return Promise.all(s.map(async e=>{let s={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let s of e)if("dirty"===s.result.status)return t.common.issues.push(...s.ctx.common.issues),s.result;let s=e.map(e=>new rV(e.ctx.common.issues));return r$(t,{code:rB.invalid_union,unionErrors:s}),rK});{let e;let n=[];for(let r of s){let s={...t,common:{...t.common,issues:[]},parent:null},i=r._parseSync({data:t.data,path:t.path,parent:s});if("valid"===i.status)return i;"dirty"===i.status&&!e&&(e={result:i,ctx:s});s.common.issues.length&&n.push(s.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let r=n.map(e=>new rV(e));return r$(t,{code:rB.invalid_union,unionErrors:r}),rK}}get options(){return this._def.options}}ip.create=(e,t)=>new ip({options:e,typeName:v.ZodUnion,...r2(t)});class im extends r3{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==rF.object)return r$(t,{code:rB.invalid_type,expected:rF.object,received:t.parsedType}),rK;let s=this.discriminator,n=t.data[s],r=this.options.get(n);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(r$(t,{code:rB.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[s]}),rK)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,t,s){let n=new Map;try{t.forEach(t=>{let s=t.shape[e].value;n.set(s,t)})}catch(e){throw Error("The discriminator value could not be extracted from all the provided schemas")}if(n.size!==t.length)throw Error("Some of the discriminator values are not unique");return new im({typeName:v.ZodDiscriminatedUnion,discriminator:e,options:n,...r2(s)})}}class ih extends r3{_parse(e){let{status:t,ctx:s}=this._processInputParams(e),n=(e,n)=>{if(rY(e)||rY(n))return rK;let r=function e(t,s){let n=rG(t),r=rG(s);if(t===s)return{valid:!0,data:t};if(n===rF.object&&r===rF.object){let n=h.objectKeys(s),r=h.objectKeys(t).filter(e=>-1!==n.indexOf(e)),i={...t,...s};for(let n of r){let r=e(t[n],s[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===rF.array&&r===rF.array){if(t.length!==s.length)return{valid:!1};let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e(i,s[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}else if(n===rF.date&&r===rF.date&&+t==+s)return{valid:!0,data:t};else return{valid:!1}}(e.value,n.value);return r.valid?((rQ(e)||rQ(n))&&t.dirty(),{status:t.value,value:r.data}):(r$(s,{code:rB.invalid_intersection_types}),rK)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ih.create=(e,t,s)=>new ih({left:e,right:t,typeName:v.ZodIntersection,...r2(s)});class ig extends r3{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==rF.array)return r$(s,{code:rB.invalid_type,expected:rF.array,received:s.parsedType}),rK;if(s.data.length<this._def.items.length)return r$(s,{code:rB.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),rK;!this._def.rest&&s.data.length>this._def.items.length&&(r$(s,{code:rB.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),t.dirty());let n=s.data.map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new r0(s,e,s.path,t)):null}).filter(e=>!!e);return s.common.async?Promise.all(n).then(e=>rz.mergeArray(t,e)):rz.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new ig({...this._def,rest:e})}}ig.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ig({items:e,typeName:v.ZodTuple,rest:null,...r2(t)})};class iv extends r3{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==rF.object)return r$(s,{code:rB.invalid_type,expected:rF.object,received:s.parsedType}),rK;let n=[],r=this._def.keyType,i=this._def.valueType;for(let e in s.data)n.push({key:r._parse(new r0(s,e,s.path,e)),value:i._parse(new r0(s,s.data[e],s.path,e))});return s.common.async?rz.mergeObjectAsync(t,n):rz.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof r3?new iv({keyType:e,valueType:t,typeName:v.ZodRecord,...r2(s)}):new iv({keyType:r9.create(),valueType:e,typeName:v.ZodRecord,...r2(t)})}}class i_ extends r3{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==rF.map)return r$(s,{code:rB.invalid_type,expected:rF.map,received:s.parsedType}),rK;let n=this._def.keyType,r=this._def.valueType,i=[...s.data.entries()].map(([e,t],i)=>({key:n._parse(new r0(s,e,s.path,[i,"key"])),value:r._parse(new r0(s,t,s.path,[i,"value"]))}));if(s.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let s of i){let n=await s.key,r=await s.value;if("aborted"===n.status||"aborted"===r.status)return rK;("dirty"===n.status||"dirty"===r.status)&&t.dirty(),e.set(n.value,r.value)}return{status:t.value,value:e}})}{let e=new Map;for(let s of i){let n=s.key,r=s.value;if("aborted"===n.status||"aborted"===r.status)return rK;("dirty"===n.status||"dirty"===r.status)&&t.dirty(),e.set(n.value,r.value)}return{status:t.value,value:e}}}}i_.create=(e,t,s)=>new i_({valueType:t,keyType:e,typeName:v.ZodMap,...r2(s)});class ib extends r3{_parse(e){let{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==rF.set)return r$(s,{code:rB.invalid_type,expected:rF.set,received:s.parsedType}),rK;let n=this._def;null!==n.minSize&&s.data.size<n.minSize.value&&(r$(s,{code:rB.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&s.data.size>n.maxSize.value&&(r$(s,{code:rB.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,message:n.maxSize.message}),t.dirty());let r=this._def.valueType;function i(e){let s=new Set;for(let n of e){if("aborted"===n.status)return rK;"dirty"===n.status&&t.dirty(),s.add(n.value)}return{status:t.value,value:s}}let o=[...s.data.values()].map((e,t)=>r._parse(new r0(s,e,s.path,t)));return s.common.async?Promise.all(o).then(e=>i(e)):i(o)}min(e,t){return new ib({...this._def,minSize:{value:e,message:f.toString(t)}})}max(e,t){return new ib({...this._def,maxSize:{value:e,message:f.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ib.create=(e,t)=>new ib({valueType:e,minSize:null,maxSize:null,typeName:v.ZodSet,...r2(t)});class iy extends r3{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==rF.function)return r$(t,{code:rB.invalid_type,expected:rF.function,received:t.parsedType}),rK;function s(e,s){return rZ({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rH(),rj].filter(e=>!!e),issueData:{code:rB.invalid_arguments,argumentsError:s}})}function n(e,s){return rZ({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rH(),rj].filter(e=>!!e),issueData:{code:rB.invalid_return_type,returnTypeError:s}})}let r={errorMap:t.common.contextualErrorMap},i=t.data;return this._def.returns instanceof iA?rW(async(...e)=>{let t=new rV([]),o=await this._def.args.parseAsync(e,r).catch(n=>{throw t.addIssue(s(e,n)),t}),a=await i(...o);return await this._def.returns._def.type.parseAsync(a,r).catch(e=>{throw t.addIssue(n(a,e)),t})}):rW((...e)=>{let t=this._def.args.safeParse(e,r);if(!t.success)throw new rV([s(e,t.error)]);let o=i(...t.data),a=this._def.returns.safeParse(o,r);if(!a.success)throw new rV([n(o,a.error)]);return a.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new iy({...this._def,args:ig.create(e).rest(io.create())})}returns(e){return new iy({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new iy({args:e||ig.create([]).rest(io.create()),returns:t||io.create(),typeName:v.ZodFunction,...r2(s)})}}class iw extends r3{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}iw.create=(e,t)=>new iw({getter:e,typeName:v.ZodLazy,...r2(t)});class iI extends r3{_parse(e){return e.data!==this._def.value?(r$(this._getOrReturnCtx(e),{code:rB.invalid_literal,expected:this._def.value}),rK):{status:"valid",value:e.data}}get value(){return this._def.value}}function iS(e,t){return new ix({values:e,typeName:v.ZodEnum,...r2(t)})}iI.create=(e,t)=>new iI({value:e,typeName:v.ZodLiteral,...r2(t)});class ix extends r3{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),s=this._def.values;return r$(t,{expected:h.joinValues(s),received:t.parsedType,code:rB.invalid_type}),rK}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),s=this._def.values;return r$(t,{received:t.data,code:rB.invalid_enum_value,options:s}),rK}return rW(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}}ix.create=iS;class iE extends r3{_parse(e){let t=h.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==rF.string&&s.parsedType!==rF.number){let e=h.objectValues(t);return r$(s,{expected:h.joinValues(e),received:s.parsedType,code:rB.invalid_type}),rK}if(-1===t.indexOf(e.data)){let e=h.objectValues(t);return r$(s,{received:s.data,code:rB.invalid_enum_value,options:e}),rK}return rW(e.data)}get enum(){return this._def.values}}iE.create=(e,t)=>new iE({values:e,typeName:v.ZodNativeEnum,...r2(t)});class iA extends r3{_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==rF.promise&&!1===t.common.async?(r$(t,{code:rB.invalid_type,expected:rF.promise,received:t.parsedType}),rK):rW((t.parsedType===rF.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}iA.create=(e,t)=>new iA({type:e,typeName:v.ZodPromise,...r2(t)});class iT extends r3{innerType(){return this._def.schema}_parse(e){let{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null;if("preprocess"===n.type){let e=n.transform(s.data);return s.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:s.path,parent:s})):this._def.schema._parseSync({data:e,path:s.path,parent:s})}let r={addIssue:e=>{r$(s,e),e.fatal?t.abort():t.dirty()},get path(){return s.path}};if(r.addIssue=r.addIssue.bind(r),"refinement"===n.type){let e=e=>{let t=n.refinement(e,r);if(s.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==s.common.async)return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(s=>"aborted"===s.status?rK:("dirty"===s.status&&t.dirty(),e(s.value).then(()=>({status:t.value,value:s.value}))));{let n=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===n.status?rK:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==s.common.async)return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(e=>rX(e)?Promise.resolve(n.transform(e.value,r)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!rX(e))return e;let i=n.transform(e.value,r);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}h.assertNever(n)}}iT.create=(e,t,s)=>new iT({schema:e,typeName:v.ZodEffects,effect:t,...r2(s)}),iT.createWithPreprocess=(e,t,s)=>new iT({schema:t,effect:{type:"preprocess",transform:e},typeName:v.ZodEffects,...r2(s)});class iN extends r3{_parse(e){return this._getType(e)===rF.undefined?rW(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}iN.create=(e,t)=>new iN({innerType:e,typeName:v.ZodOptional,...r2(t)});class iU extends r3{_parse(e){return this._getType(e)===rF.null?rW(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}iU.create=(e,t)=>new iU({innerType:e,typeName:v.ZodNullable,...r2(t)});class iO extends r3{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return t.parsedType===rF.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}iO.create=(e,t)=>new iN({innerType:e,typeName:v.ZodOptional,...r2(t)});class iD extends r3{_parse(e){if(this._getType(e)!==rF.nan){let t=this._getOrReturnCtx(e);return r$(t,{code:rB.invalid_type,expected:rF.nan,received:t.parsedType}),rK}return{status:"valid",value:e.data}}}iD.create=e=>new iD({typeName:v.ZodNaN,...r2(e)});let ik=Symbol("zod_brand");class iC extends r3{_parse(e){let{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}let iR=(e,t={},s)=>e?ii.create().superRefine((n,r)=>{if(!e(n)){let e="function"==typeof t?t(n):t;r.addIssue({code:"custom",..."string"==typeof e?{message:e}:e,fatal:s})}}):ii.create(),iP={object:iu.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded"}(v||(v={}));let iL=r9.create,iM=r8.create,iF=iD.create,iG=r7.create,iB=ie.create,iV=it.create,ij=is.create,iq=ir.create,iH=ii.create,iZ=io.create,i$=ia.create,iz=ic.create,iK=il.create,iW=iu.create,iY=iu.strictCreate,iQ=ip.create,iX=im.create,iJ=ih.create,i0=ig.create,i1=iv.create,i2=i_.create,i3=ib.create,i4=iy.create,i6=iw.create,i5=iI.create,i9=ix.create,i8=iE.create,i7=iA.create,oe=iT.create,ot=iN.create,os=iU.create,on=iT.createWithPreprocess;var or=Object.freeze({__proto__:null,getParsedType:rG,ZodParsedType:rF,defaultErrorMap:rj,setErrorMap:function(e){rq=e},getErrorMap:rH,makeIssue:rZ,EMPTY_PATH:[],addIssueToContext:r$,ParseStatus:rz,INVALID:rK,DIRTY:e=>({status:"dirty",value:e}),OK:rW,isAborted:rY,isDirty:rQ,isValid:rX,isAsync:rJ,ZodType:r3,ZodString:r9,ZodNumber:r8,ZodBigInt:r7,ZodBoolean:ie,ZodDate:it,ZodUndefined:is,ZodNull:ir,ZodAny:ii,ZodUnknown:io,ZodNever:ia,ZodVoid:ic,ZodArray:il,get objectUtil(){return g},ZodObject:iu,ZodUnion:ip,ZodDiscriminatedUnion:im,ZodIntersection:ih,ZodTuple:ig,ZodRecord:iv,ZodMap:i_,ZodSet:ib,ZodFunction:iy,ZodLazy:iw,ZodLiteral:iI,ZodEnum:ix,ZodNativeEnum:iE,ZodPromise:iA,ZodEffects:iT,ZodTransformer:iT,ZodOptional:iN,ZodNullable:iU,ZodDefault:iO,ZodNaN:iD,BRAND:ik,ZodBranded:iC,custom:iR,Schema:r3,ZodSchema:r3,late:iP,get ZodFirstPartyTypeKind(){return v},any:iH,array:iK,bigint:iG,boolean:iB,date:iV,discriminatedUnion:iX,effect:oe,enum:i9,function:i4,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>iR(t=>t instanceof e,t,!0),intersection:iJ,lazy:i6,literal:i5,map:i2,nan:iF,nativeEnum:i8,never:i$,null:iq,nullable:os,number:iM,object:iW,oboolean:()=>iB().optional(),onumber:()=>iM().optional(),optional:ot,ostring:()=>iL().optional(),preprocess:on,promise:i7,record:i1,set:i3,strictObject:iY,string:iL,transformer:oe,tuple:i0,undefined:ij,union:iQ,unknown:iZ,void:iz,NEVER:rK,ZodIssueCode:rB,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:rV});let oi=or.object({id:or.string(),type:or.string(),url:or.optional(or.string())});or.object({id:or.string(),name:or.string(),spaceId:or.string(),vaultItems:or.array(oi),isShared:or.optional(or.boolean())});class oo extends nA({scope:d.User}){}class oa extends nA({scope:d.User}){}let oc=nS({name:"sharingCollections",commands:{addItemsToCollections:rw,createSharedCollection:rI,deleteSharedCollection:rS,inviteCollectionMembers:rx,updateCollectionMembers:rE,removeItemFromCollections:rA,renameCollection:rT,revokeCollectionMembers:rN,updateSharedCollections:rU,updatePermissionForCollectionItem:rO,moveCollectionItemsToBusinessSpace:rD},events:{},queries:{getCollectionsForUserOrGroup:rk,getItemIdsInSharedCollections:rC,getSharedCollections:rR,getCollectionPermissionsForUser:rP,getCollectionRoleForGroup:rL,getSharedCollectionsCount:rM,sharedCollectionsWithItems:oo,usersAndGroupsInCollection:oa}});class ol extends nN({scope:d.User}){}class od extends nN({scope:d.User}){}class ou extends nN({scope:d.User}){}class op extends nN({scope:d.User}){}let om=Object.freeze({FORBIDDEN_GROUP_ITEM:"FORBIDDEN_GROUP_ITEM",FORBIDDEN_LAST_ADMIN:"FORBIDDEN_LAST_ADMIN"});n3(om.FORBIDDEN_GROUP_ITEM,"The Vault Item cannot be deleted while shared via user group."),n3(om.FORBIDDEN_LAST_ADMIN,"The Vault Item cannot be deleted while the current user is the last admin.");class oh extends nN({scope:d.User}){}class of extends nN({scope:d.User}){}!function(e){e.LIMIT_EXCEEDED="LIMIT_EXCEEDED",e.PARTIAL_SUCCESS="PARTIAL_SUCCESS"}(_||(_={})),n3("LIMIT_EXCEEDED","Sharing limit exceeded"),n3("PARTIAL_SUCCESS","Some items were shared successfully, but not all");class og extends nN({scope:d.User}){}class ov extends nA({scope:d.User}){}class o_ extends nA({scope:d.User}){}class ob extends nA({scope:d.User}){}class oy extends nA({scope:d.User}){}class ow extends nA({scope:d.User}){}class oI extends nA({scope:d.User}){}class oS extends nA({scope:d.User}){}class ox extends nA({scope:d.User}){}class oE extends nA({scope:d.User}){}class oA extends nA({scope:d.User}){}class oT extends nA({scope:d.User}){}class oN extends nA({scope:d.User}){}class oU extends nA({scope:d.User}){}class oO extends nA({scope:d.User}){}class oD extends nA({scope:d.User}){}!function(e){e[e.ITEM_DOESNT_EXIST=0]="ITEM_DOESNT_EXIST",e[e.LIMIT_EXCEEDED=1]="LIMIT_EXCEEDED",e[e.ITEM_HAS_ATTACHMENTS=2]="ITEM_HAS_ATTACHMENTS",e[e.INVALID_REVISION=3]="INVALID_REVISION",e[e.SHARING_FAILED=4]="SHARING_FAILED"}(b||(b={}));class ok extends nA({scope:d.User}){}let oC=nS({name:"sharingItems",commands:{updateSharedItemPermission:ol,updateSharedItemContent:od,revokeSharedItem:ou,refuseSharedItem:op,refuseSharedItemBeforeDeletion:oh,remoteControlSharedItems:of,shareItems:og},events:{},queries:{getSharedAccess:ov,getSharedAccessForItemIds:o_,getSharedItems:ob,getSharedItemForId:oy,isSharingAllowed:ow,getSharingTeamLogins:oI,sharingEnabled:oS,getSharedItemsForItemIds:ox,getSharingStatusForItem:oE,getPermissionForItem:oA,getPermissionForItems:oT,getIsLastAdminForItem:oN,sharedAccessForItem:oU,getUserSharedVaultItems:oO,sharedItemsIds:oD,shareItemsErrors:ok}});class oR extends nN({scope:d.User}){}class oP extends nN({scope:d.User}){}(y||(y={})).AcceptFailed="AcceptFailed";class oL extends nN({scope:d.User}){}(w||(w={})).RefuseFailed="RefuseFailed";class oM extends nN({scope:d.User}){}!function(e){e.ItemGroupNotFound="ItemGroupNotFound",e.AuthorHasInvalidStatus="AuthorHasInvalidStatus",e.GroupHasInvalidStatus="GroupHasInvalidStatus",e.UserIsNotInItemGroup="UserIsNotInItemGroup",e.UserGroupIsNotInItemGroup="UserGroupIsNotInItemGroup",e.InvalidItemGroupRevision="InvalidItemGroupRevision",e.NotEnoughAdmins="NotEnoughAdmins",e.UserIsNotInPendingStatus="UserIsNotInPendingStatus"}(I||(I={}));class oF extends n4("AuthorHasInvalidStatus","User is not in accepted/pending status (already refused or revoked)"){}class oG extends n4("GroupHasInvalidStatus","UserGroup is not in accepted/pending status (already refused or revoked)"){}class oB extends n4("UserIsNotInItemGroup","User is not part of item group"){}class oV extends n4("UserGroupIsNotInItemGroup","User group is not part of item group"){}class oj extends n4("InvalidItemGroupRevision","Item group revision is not valid"){}class oq extends n4("NotEnoughAdmins","The operation would let the item group with no admin"){}class oH extends n4("UserIsNotInPendingStatus",'User is not in "pending" status or not part of a group'){}class oZ extends nN({scope:d.User}){}!function(e){e.UserGroupNotFound="UserGroupNotFound",e.InvalidTeamId="InvalidTeamId",e.UserGroupIsNotFound="UserGroupIsNotFound",e.InvalidItemGroupRevision="InvalidItemGroupRevision",e.UserGroupUpdateConflict="UserGroupUpdateConflict",e.InsufficientPrivileges="InsufficientPrivileges",e.UserIsNotInUserGroup="UserIsNotInUserGroup",e.UserIsNotInPendingStatus="UserIsNotInPendingStatus",e.GroupHasInvalidStatus="GroupHasInvalidStatus",e.AuthorHasInvalidStatus="AuthorHasInvalidStatus"}(S||(S={}));class o$ extends n4("InvalidTeamId","Provided Team ID is not a number"){}class oz extends n4("UserGroupIsNotFound","User group for provided ID does not exist"){}class oK extends n4("InvalidItemGroupRevision","User group revision is not valid"){}class oW extends n4("UserGroupUpdateConflict","Conflict between users attempting to update the same user group"){}class oY extends n4("InsufficientPrivileges","The user does not have User Group permission to refuse the invitation"){}class oQ extends n4("UserIsNotInUserGroup","User is not part of a group"){}class oX extends n4("UserIsNotInPendingStatus",'User is not in "pending" status or not part of a group'){}class oJ extends n4("GroupHasInvalidStatus",'UserGroup is not in "accepted" or "pending" status (already refused or revoked)'){}class o0 extends n4("AuthorHasInvalidStatus","User is not in accepted/pending status (already refused or revoked)"){}class o1 extends nN({scope:d.User}){}class o2 extends nN({scope:d.User}){}class o3 extends nA({scope:d.User}){}class o4 extends nA({scope:d.User}){}class o6 extends nA({scope:d.User}){}let o5=nS({name:"sharingInvites",commands:{AcceptUserGroupInviteCommand:oR,AcceptSharedItemInviteCommand:oP,AcceptCollectionInviteCommand:oL,RefuseCollectionInviteCommand:oM,RefuseItemGroupInviteCommand:oZ,RefuseUserGroupInviteCommand:o1,UpdatePendingCollectionsCommand:o2},events:{},queries:{GetInvitesQuery:o3,GetPendingCollectionsQuery:o4,HasInvitesQuery:o6}});class o9 extends nA({scope:d.User}){}class o8 extends nA({scope:d.User}){}class o7 extends nA({scope:d.User}){}class ae extends nA({scope:d.User}){}let at=nS({name:"sharingRecipients",commands:{},events:{},queries:{getAllAcceptedGroupsQuery:o9,getSharingUsersQuery:o8,getSharingGroupsQuery:o7,getSharingGroupByIdQuery:ae}});class as extends nN({scope:d.User}){}!function(e){e.Admin="admin",e.Limited="limited"}(x||(x={})),!function(e){e.Pending="pending",e.Accepted="accepted",e.Refused="refused",e.Revoked="revoked"}(E||(E={}));let an=or.nativeEnum(E);or.nativeEnum(x);let ar=or.union([or.literal("noKey"),or.literal("publicKey"),or.literal("sharingKeys")]);!function(e){e.User="user",e.UserGroup="group",e.CollectionUser="collectionUser",e.CollectionUserGroup="collectionUserGroup"}(A||(A={})),!function(e){e.Secret="secret",e.Credential="password",e.SecureNote="note"}(T||(T={})),!function(e){e.Group="group",e.Collection="collection",e.User="user"}(N||(N={})),or.nativeEnum(A),or.nativeEnum(N);let ai=or.object({userId:or.string(),alias:or.string(),referrer:or.string(),groupKey:or.string().nullable().optional(),permission:or.enum(["admin","limited"]),rsaStatus:ar,status:an}),ao=or.object({groupId:or.string(),name:or.string(),type:or.literal("teamAdmins"),publicKey:or.string(),privateKey:or.string(),revision:or.number(),users:or.array(ai)}),aa=or.object({groupId:or.string(),items:or.array(or.object({itemId:or.string(),itemKey:or.string()})).optional(),revision:or.number(),type:or.literal("userGroupKeys"),users:or.array(ai)}),ac=or.object({content:or.string(),timestamp:or.number(),itemId:or.string()});or.object({specialItemGroup:aa.optional(),specialUserGroup:ao.optional(),specialItems:or.record(ac).optional()});class al extends nA({scope:d.User}){}let ad=nS({name:"sharingSync",commands:{runSharingSync:as},events:{},queries:{getTeamAdminSharingData:al}});class au extends nN({scope:d.User}){}class ap extends nN({scope:d.User}){}class am extends nN({scope:d.User}){}!function(e){e.SSO_CONNECTOR_KEY_MISSING="SSO_CONNECTOR_KEY_MISSING",e.SSO_CONNECTOR_KEY_FORMAT_INVALID="SSO_CONNECTOR_KEY_FORMAT_INVALID"}(U||(U={})),n3("SSO_CONNECTOR_KEY_MISSING","SSO Migration failed: SSO connector key is missing"),n3("SSO_CONNECTOR_KEY_FORMAT_INVALID","SSO Migration failed: SSO connector key format is invalid");class ah extends nN({scope:d.User}){}class af extends nN({scope:d.User}){}class ag extends nN({scope:d.User}){}class av extends nN({scope:d.User}){}class a_ extends nN({scope:d.Device}){}class ab extends nN({scope:d.User}){}class ay extends nN({scope:d.User}){}class aw extends nN({scope:d.User}){}class aI extends nN({scope:d.User}){}!function(e){e.GENERIC_ERROR="GENERIC_ERROR",e.TEAM_NOT_FOUND="TEAM_NOT_FOUND",e.MISMATCHING_ADMIN_PROVISIONING_KEY="MISMATCHING_ADMIN_PROVISIONING_KEY",e.IDP_NOT_FOUND="IDP_NOT_FOUND",e.NO_IDP_CONFIGURATION_UPDATE="NO_IDP_CONFIGURATION_UPDATE"}(O||(O={})),n3("TEAM_NOT_FOUND","Team not found"),n3("MISMATCHING_ADMIN_PROVISIONING_KEY","Mismatching admin provisioning key"),n3("IDP_NOT_FOUND","IDP not found"),n3("NO_IDP_CONFIGURATION_UPDATE","No IDP configuration update"),n3("GENERIC_ERROR","Generic error");class aS extends nN({scope:d.User}){}class ax extends nD({scope:d.User}){}class aE extends nA({scope:d.User}){}class aA extends nA({scope:d.User}){}let aT=nS({name:"confidentialSSOApi",commands:{CheckDNSValidationCommand:au,ClearSettingsCommand:ap,CreateTeamCommand:am,MigrateToConfidentialSsoCommand:ah,DeleteDomainCommand:af,EnableSsoCommand:ag,InitSsoProvisioningCommand:av,LoginUserWithEnclaveSSOCommand:a_,ProvisionDomainCommand:ab,TestLoginUserWithEnclaveSSOCommand:ay,UpdateMetadataCommand:aw,ValidateMetadataCommand:aI,UpdateGroupProvisioningConfigurationCommand:aS},events:{confidentialSsoSettingsReset:ax},queries:{SsoProvisioningQuery:aE,GetGroupProvisioningConfigurationQuery:aA}});class aN extends nN({scope:d.User}){}class aU extends nN({scope:d.User}){}class aO extends nA({scope:d.User}){}class aD extends nA({scope:d.User}){}let ak=nS({name:"scim",commands:{updateScimConfiguration:aN,generateScimToken:aU},events:{},queries:{scimConfiguration:aO,scimEndpoint:aD}});class aC extends nN({scope:d.User}){}(D||(D={})).TEAM_NOT_PROVISIONED_IN_ENCLAVE="TEAM_NOT_PROVISIONED_IN_ENCLAVE",n3("TEAM_NOT_PROVISIONED_IN_ENCLAVE","Team not provisioned in enclave");class aR extends nA({scope:d.User}){}class aP extends nA({scope:d.User}){}let aL=nS({name:"teamEnclave",commands:{createTeamInEnclave:aC},events:{},queries:{getTeamFromEnclave:aR,getTeamIdentifiers:aP}});class aM extends nA({scope:d.Device}){}class aF extends nA({scope:d.Device}){}class aG extends nA({scope:d.Device}){}class aB extends nN({scope:d.Device}){}class aV extends nN({scope:d.Device}){}class aj extends nN({scope:d.Device}){}class aq extends nN({scope:d.Device}){}class aH extends nN({scope:d.Device}){}class aZ extends nN({scope:d.Device}){}class a$ extends nN({scope:d.Device}){}class az extends nN({scope:d.Device}){}class aK extends nN({scope:d.Device}){}class aW extends nN({scope:d.Device}){}class aY extends nN({scope:d.Device}){}class aQ extends nN({scope:d.Device}){}class aX extends nN({scope:d.Device}){}class aJ extends nN({scope:d.Device}){}class a0 extends nN({scope:d.Device}){}class a1 extends nN({scope:d.Device}){}class a2 extends nN({scope:d.Device}){}class a3 extends nN({scope:d.Device}){}class a4 extends nN({scope:d.Device}){}class a6 extends nN({scope:d.Device}){}class a5 extends nN({scope:d.Device}){}class a9 extends nN({scope:d.Device}){}class a8 extends nN({scope:d.Device}){}class a7 extends nN({scope:d.Device}){}let ce=nS({name:"authenticationFlow",commands:{changeLogin:aV,changeTwoFactorAuthenticationOtpType:aY,clearError:a1,cancelDeviceTransferRequest:a7,resendEmailToken:aQ,resendPushNotification:aJ,sendAccountEmail:aB,sendMasterPassword:aX,submitPinCode:aj,submitBackupCode:aW,submitEmailToken:az,submitTotp:aK,switchToDevicetoDeviceAuthentication:aH,switchToDashlaneAuthenticator:aZ,switchToMasterPasswordCommand:aq,switchToEmailToken:a0,switchToPinCode:a$,retryWebAuthnAuthentication:a2,webAuthnAuthenticationFail:a3,logout:a4,lockSession:a6,loginViaSSO:a5,initiateLoginWithSSO:a9,initiateAutologinWithSSOCommand:a8},queries:{authenticationFlowStatus:aM,getSsoUserSettings:aF,getProviderInfo:aG},events:{}});class ct extends nA({scope:d.Device}){}class cs extends nN({scope:d.User}){}class cn extends nN({scope:d.User}){}class cr extends nN({scope:d.User}){}class ci extends nN({scope:d.User}){}class co extends nN({scope:d.User}){}class ca extends nN({scope:d.User}){}let cc=nS({name:"deviceTransfer",commands:{refreshRequest:cs,cancelRequest:cn,approveRequest:cr,rejectRequest:ci,submitPassphraseChallenge:co,returnToDeviceSetupCommand:ca},events:{},queries:{trustedDeviceFlowStatus:ct}});class cl extends nA({scope:d.Device}){}class cd extends nN({scope:d.Device}){}class cu extends nN({scope:d.Device}){}class cp extends nN({scope:d.Device}){}class cm extends nN({scope:d.Device}){}class ch extends nN({scope:d.Device}){}class cf extends nN({scope:d.Device}){}class cg extends nN({scope:d.Device}){}class cv extends nN({scope:d.Device}){}class c_ extends nN({scope:d.Device}){}class cb extends nN({scope:d.Device}){}class cy extends nN({scope:d.Device}){}class cw extends nD({scope:d.Device}){}let cI=nS({name:"identityVerificationFlow",commands:{changeTwoFactorAuthenticationOtpType:cd,clearError:cu,resendEmailToken:cp,resendPushNotification:cm,submitBackupCode:cf,submitEmailToken:ch,submitTotp:cg,switchToDashlaneAuthenticator:cv,switchToEmailToken:c_,startIdentityVerification:cb,cancelIdentityVerification:cy},queries:{identityVerificationFlowStatus:cl},events:{identityVerificationCompleted:cw}});class cS extends nN({scope:d.User}){}class cx extends nN({scope:d.Device}){}!function(e){e.Biometrics="Biometrics",e.Pin="Pin",e.MasterPassword="MasterPassword"}(k||(k={}));class cE extends nA({scope:d.User}){}let cA=nS({name:"userVerification",commands:{validateWebauthnAssertion:cS,request2FaCodesByPhone:cx},queries:{userVerificationMethods:cE},events:{}});class cT extends nN({scope:d.Device}){}or.discriminatedUnion("with",[or.object({with:or.literal("token"),login:or.string(),token:or.string(),deviceName:or.optional(or.string()),ignoreAlreadyRegisteredError:or.optional(or.boolean())}),or.object({with:or.literal("authTicket"),login:or.string(),authTicket:or.string(),deviceName:or.optional(or.string()),ignoreAlreadyRegisteredError:or.optional(or.boolean())}),or.object({with:or.literal("deviceKeys"),login:or.string(),deviceName:or.optional(or.string()),ignoreAlreadyRegisteredError:or.optional(or.boolean()),deviceAccessKey:or.string(),deviceSecretKey:or.string(),settings:or.string(),userAnalyticsId:or.string(),serverKey:or.optional(or.string())})]);class cN extends nN({scope:d.Device}){}class cU extends nA({scope:d.Device}){}let cO=nS({name:"deviceRegistration",commands:{cleanRemotelyRemovedProfiles:cT,registerDevice:cN},events:{},queries:{localAccounts:cU}});class cD extends nN({scope:d.User}){}class ck extends nN({scope:d.User}){}class cC extends nN({scope:d.Device}){}class cR extends nA({scope:d.Device}){}class cP extends nA({scope:d.Device}){}class cL extends nA({scope:d.Device}){}let cM=nS({name:"pinCode",commands:{activate:cD,deactivate:ck,loginWithPinCode:cC},events:{},queries:{isPinCodeCorrect:cR,getStatus:cP,getCurrentUserStatus:cL}}),cF="USER_NOT_LOGGED_IN";class cG extends nA({scope:d.User,noUserError:{tag:cF}}){}let cB=nS({name:"authentication",commands:{},events:{},queries:{canLockApp:cG}});n3("REVOKE_DEVICE_ERROR","Failed to revoke the device");class cV extends nN({scope:d.User}){}class cj extends nA({scope:d.User}){}n3("RENAME_DEVICE_ERROR","Failed to rename the device");class cq extends nN({scope:d.User}){}let cH=nS({name:"deviceManagement",commands:{RevokeAuthorisedDeviceCommand:cV,RenameAuthorisedDeviceCommand:cq},events:{},queries:{ListAuthorisedDeviceQuery:cj}});class cZ extends nA({scope:d.Device}){}class c$ extends nA({scope:d.User}){}Object.freeze({Open:"open",Closed:"closed",Opening:"opening"});class cz extends nA({scope:d.Device}){}class cK extends nD({scope:d.User}){}class cW extends nD({scope:d.User}){}!function(e){e.Close="close",e.Lock="lock"}(C||(C={}));class cY extends nD({scope:d.Device}){}class cQ extends nN({scope:d.User}){}class cX extends nN({scope:d.User}){}(R||(R={})).AlreadyExists="alreadyExists";class cJ extends nN({scope:d.Device}){}!function(e){e.NotCreated="notCreated",e.AlreadyOpened="alreadyOpened",e.MultiAccountNotYetSupported="multiAccountNotYetSupported"}(P||(P={}));class c0 extends nN({scope:d.Device}){}class c1 extends nN({scope:d.Device}){}class c2 extends nN({scope:d.Device}){}class c3 extends nN({scope:d.Device}){}class c4 extends nD({scope:d.User}){}class c6 extends nA({scope:d.Device}){}!function(e){e.NotCreated="notCreated",e.NotOpened="notOpened"}(L||(L={}));class c5 extends nN({scope:d.Device}){}let c9=n3("no-user-logged-in","User is not logged in")();class c8 extends nA({scope:d.User,noUserError:c9}){}let c7=nS({name:"session",commands:{FlushLocalDataCommand:cQ,PrepareLocalDataFlushCommand:cX,CreateUserSessionCommand:cJ,OpenUserSessionCommand:c0,CloseUserSessionCommand:c1,DeleteLocalSessionCommand:c2,CopyUserDataAndOpenSessionCommand:c3,UpdateUserSessionKeyCommand:c5},queries:{selectedOpenedSession:c6,checkSessionKey:cZ,exportSessionKey:c$,currentSessionInfo:c8,localSessions:cz},events:{SessionOpenedEvent:cK,SessionClosingEvent:cW,SessionClosedEvent:cY,SessionOpeningEvent:c4}});class le extends nD({scope:d.User}){}class lt extends nN({scope:d.User}){}let ls=nS({name:"changeMasterPassword",commands:{temporarySendMasterPasswordChangedEvent:lt},events:{masterPasswordChanged:le},queries:{}});!function(e){e.DeviceLimited="DeviceLimited",e.Requires2FAEnforcement="Requires2FAEnforcement",e.RequiresSSO2MPMigration="RequiresSSO2MPMigration",e.RequiresMP2SSOMigration="RequiresMP2SSOMigration",e.RequiresSettingUpRecoveryKey="RequiresSettingUpRecoveryKey",e.RequiresSettingUpPin="RequiresSettingUpPin",e.NoActiveUser="NoActiveUser"}(M||(M={}));class ln extends nA({scope:d.Device}){}!function(e){e.Android="android",e.DesktopMacOS="macosx",e.DesktopWindows="windows",e.IPad="ipad",e.IPhone="iphone",e.IPod="ipod",e.Other="other",e.StandaloneExtension="saex",e.TeamAdminConsole="tac",e.WebApp="webapp"}(F||(F={}));class lr extends nA({scope:d.User}){}let li=nS({name:"vaultAccess",commands:{},events:{},queries:{isAllowed:ln,deviceLimit:lr}});class lo extends nN({scope:d.Device}){}class la extends nA({scope:d.Device}){}let lc=nS({name:"sync",commands:{SyncCommand:lo},queries:{SyncProgressQuery:la},events:{}});class ll extends nA({scope:d.User}){}class ld extends nA({scope:d.User}){}class lu extends nA({scope:d.User}){}let lp=nS({name:"autofillData",commands:{},events:{},queries:{getSingleAutofillData:ll,getMultipleAutofillData:ld,searchAutofillData:lu}});class lm extends nN({scope:d.User}){}class lh extends nA({scope:d.User}){}let lf=nS({name:"autofillNotifications",commands:{setAutofillDisabledOnLoginsAndFormsNotificationStatus:lm},events:{},queries:{getAutofillDisabledOnLoginsAndFormsNotificationStatus:lh}});class lg extends nN({scope:d.User}){}class lv extends nN({scope:d.Device}){}class l_ extends nA({scope:d.User}){}class lb extends nA({scope:d.User}){}class ly extends nA({scope:d.User}){}let lw=nS({name:"autofillSecurity",commands:{disablePhishingPreventionForUrl:lg,resetProtectedItemAutofillTimer:lv},events:{},queries:{getAutofillProtectionContext:l_,isPhishingPreventionCapabilityEnabled:lb,isPhishingPreventionDisabledForUrl:ly}});class lI extends nN({scope:d.User}){}class lS extends nN({scope:d.User}){}class lx extends nN({scope:d.User}){}class lE extends nN({scope:d.User}){}class lA extends nN({scope:d.User}){}class lT extends nN({scope:d.User}){}class lN extends nN({scope:d.User}){}class lU extends nN({scope:d.User}){}class lO extends nN({scope:d.User}){}class lD extends nN({scope:d.User}){}class lk extends nN({scope:d.User}){}class lC extends nN({scope:d.User}){}class lR extends nN({scope:d.User}){}class lP extends nN({scope:d.User}){}class lL extends nN({scope:d.User}){}!function(e){e.ANALYSIS_ENABLED="ANALYSIS_ENABLED",e.ANALYSIS_DISABLED_BY_USER="ANALYSIS_DISABLED_BY_USER",e.ANALYSIS_DISABLED_BY_B2B_ADMIN="ANALYSIS_DISABLED_BY_B2B_ADMIN",e.ANALYSIS_DISABLED_BY_KILLSWITCH="ANALYSIS_DISABLED_BY_KILLSWITCH",e.ANALYSIS_DISABLED_BY_2FA_ENFORCEMENT="ANALYSIS_DISABLED_BY_2FA_ENFORCEMENT"}(G||(G={}));class lM extends nA({scope:d.Device}){}class lF extends nA({scope:d.User}){}class lG extends nA({scope:d.User}){}class lB extends nA({scope:d.User}){}let lV=nS({name:"autofillSettings",commands:{toggleDashlane:lx,enableAnalysis:lE,enableAutologin:lA,enableAutofillOnForms:lT,enableAutofillOnLogins:lN,enableFollowUpNotification:lU,disableAnalysis:lO,disableAutologin:lD,disableAutofillOnForms:lk,disableAutofillOnLogins:lC,disableFollowUpNotification:lR,addDisabledSourceTypes:lS,removeDisabledSourceTypes:lI,setUserAutofillCorrections:lP,updateCredentialPreferences:lL},events:{},queries:{getAnalysisStatusOnUrl:lM,getAutofillSettings:lF,getUserAutofillCorrections:lG,getPreferencesForCredentials:lB}});class lj extends nN({scope:d.User}){}class lq extends nD({scope:d.User}){}let lH=nS({name:"autofillTracking",commands:{temporaryEmitPasswordAutofillPerformedEvent:lj},events:{passwordAutofillPerformedEvent:lq},queries:{}});!function(e){e.CREDENTIAL_NOT_FOUND="credential_not_found",e.WEBSITE_ALREADY_LINKED="website_already_linked",e.ERROR_ON_UPDATING_VAULT="error_on_updating_vault"}(B||(B={})),n3("credential_not_found","Couldn't retrieve the credential"),n3("website_already_linked","Website alredy linked to this credential"),n3("error_on_updating_vault","Error while updating the credential");class lZ extends nN({scope:d.User}){}!function(e){e.CREDENTIAL_NOT_FOUND="credential_not_found",e.ERROR_ON_UPDATING_VAULT="error_on_updating_vault"}(V||(V={})),n3("credential_not_found","Couldn't retrieve the credential"),n3("error_on_updating_vault","Error while updating the credential");class l$ extends nN({scope:d.User}){}class lz extends nN({scope:d.User}){}class lK extends nA({scope:d.User}){}class lW extends nA({scope:d.User}){}let lY=nS({name:"linkedWebsites",commands:{addLinkedWebsite:lZ,removeLinkedWebsite:l$,updateLinkedWebsites:lz},events:{},queries:{getDashlaneDefinedLinkedWebsites:lK,getMultipleDashlaneDefinedLinkedWebsites:lW}}),lQ=Object.freeze({NOT_FOUND:"NOT_FOUND",FORBIDDEN_GROUP_ITEM:"FORBIDDEN_GROUP_ITEM",FORBIDDEN_LAST_ADMIN:"FORBIDDEN_LAST_ADMIN"});n3(lQ.NOT_FOUND,"The Vault Item to be deleted couldn't be found."),n3(lQ.FORBIDDEN_GROUP_ITEM,"The Vault Item cannot be deleted while shared via user group."),n3(lQ.FORBIDDEN_LAST_ADMIN,"The Vault Item cannot be deleted while the current user is the last admin.");class lX extends nN({scope:d.User}){}class lJ extends nN({scope:d.User}){}class l0 extends nN({scope:d.User}){}class l1 extends nN({scope:d.User}){}!function(e){e.Deleted="deleted",e.Updated="updated",e.Created="created"}(j||(j={}));class l2 extends nN({scope:d.User}){}class l3 extends nD({scope:d.User}){}class l4 extends nA({scope:d.User}){}class l6 extends nA({scope:d.User}){}class l5 extends nA({scope:d.User}){}class l9 extends nA({scope:d.User}){}let l8=nS({name:"vaultItemsCrud",commands:{deleteVaultItem:lX,createVaultItem:lJ,deleteVaultItems:l0,updateVaultItem:l1,emitTemporaryVaultItemEvent:l2},events:{createdEvent:class e extends l3{},deletedEvent:class e extends l3{},updatedEvent:class e extends l3{}},queries:{domainIconDetails:l4,query:l6,secureNoteCategory:l5,richIconsEnabled:l9}});class l7 extends nA({scope:d.User}){}class de extends nA({scope:d.User}){}let dt=nS({name:"vaultSearch",commands:{},events:{},queries:{vaultSearchRanked:l7,search:de}});class ds extends nN({scope:d.User}){}class dn extends nN({scope:d.User}){}!function(e){e.SUBSTRACT_VAULT_ITEMS="subtract_vault_items",e.APPEND_VAULT_ITEMS="append_vault_items"}(q||(q={}));class dr extends nN({scope:d.User}){}class di extends nA({scope:d.User}){}let da=nS({name:"vaultOrganization",commands:{deleteCollection:ds,createCollection:dn,updateCollection:dr},events:{},queries:{queryCollections:di}});class dc extends nN({scope:d.User}){}class dl extends nA({scope:d.User}){}let dd=nS({name:"vaultNotifications",commands:{setVaultNotificationsStatus:dc},events:{},queries:{getVaultNotificationsStatus:dl}});!function(e){e.NO_REMOTE_FILE="no-remote-file",e.SECURE_FILE_QUOTA_UPDATE="secure-file-quota-update"}(H||(H={})),n3("no-remote-file","The user doesn't have access to this secure file or it has already been deleted."),n3("secure-file-quota-update","The secure file quota state update failed.");class du extends nN({scope:d.User}){}let dp=nS({name:"secureFiles",commands:{deleteSecureFile:du},events:{},queries:{}});class dm extends nA({scope:d.User}){}class dh extends nA({scope:d.User}){}class df extends nA({scope:d.User}){}let dg=nS({name:"passwordLimit",commands:{},events:{},queries:{canUserAddNewPassword:dm,getPasswordLimitStatus:dh,isFreeUserFrozen:df}});class dv extends nN({scope:d.User}){}class d_ extends nN({scope:d.User}){}class db extends nA(){}class dy extends nA(){}let dw=nS({name:"vpnNotifications",commands:{markVpnProviderSeen:dv,markInstallVpnSeen:d_},events:{},queries:{hasSeenVpnProvider:db,hasSeenInstallVpn:dy}});class dI extends nA({scope:d.Device}){}let dS=nS({name:"overrides",commands:{},events:{},queries:{OverridesQuery:dI}});n3("unable_to_acknowledge_notification","Unable to acknowledge notification");class dx extends nN({scope:d.User}){}class dE extends nN({scope:d.User}){}class dA extends nN({scope:d.User}){}class dT extends nN({scope:d.User}){}class dN extends nN({scope:d.User}){}class dU extends nN({scope:d.User}){}class dO extends nN({scope:d.User}){}class dD extends nN({scope:d.Device}){}class dk extends nN({scope:d.User}){}class dC extends nN({scope:d.Device}){}class dR extends nN({scope:d.Device}){}class dP extends nN({scope:d.Device}){}class dL extends nN({scope:d.Device}){}class dM extends nN({scope:d.Device}){}class dF extends nN({scope:d.Device}){}class dG extends nN({scope:d.Device}){}class dB extends nA({scope:d.Device}){}class dV extends nA({scope:d.User}){}class dj extends nA({scope:d.Device}){}class dq extends nA({scope:d.Device}){}class dH extends nA({scope:d.User}){}let dZ=nS({name:"accountRecoveryKey",commands:{acknowledgeRecoveryActivation:dx,goToActivationNextStep:dE,goToActivationPrevStep:dA,requestActivation:dT,resetActivationFlow:dN,cancelGeneration:dU,confirmActivation:dO,confirmNewPassword:dD,deactivate:dk,submitRecoveryKey:dC,tryAgainRecovery:dR,cancelRecoveryFlow:dP,startRecoveryFlow:dL,clearWrongRecoveryKeyError:dM,createPin:dF,submitPin:dG},queries:{shouldNotifyOfRecoveryActivation:dB,activationFlowStatus:dV,accountRecoveryKeyStatus:dj,recoveryFlowStatus:dq,recoveryMethodsInfo:dH},events:{}});class d$ extends nN({scope:d.User}){}class dz extends nN({scope:d.User}){}!function(e){e.AUDIT_LOG_MISSING_JSON_SCHEMA="AUDIT_LOG_MISSING_JSON_SCHEMA",e.AUDIT_LOG_INVALID_JSON_FOR_JSON_SCHEMA="AUDIT_LOG_INVALID_JSON_FOR_JSON_SCHEMA",e.AUDIT_LOG_INVALID_LOG_SCHEMA_TYPE_OR_VERSION="AUDIT_LOG_INVALID_LOG_SCHEMA_TYPE_OR_VERSION",e.AUDIT_LOG_ERROR_READING_JSON_SCHEMA="AUDIT_LOG_ERROR_READING_JSON_SCHEMA",e.STORING_SENSITIVE_AUDIT_LOGS_NOT_ALLOWED="STORING_SENSITIVE_AUDIT_LOGS_NOT_ALLOWED",e.AUDIT_LOG_TYPE_NOT_CLIENT_SIDE="AUDIT_LOG_TYPE_NOT_CLIENT_SIDE",e.AUDIT_LOG_TYPE_NOT_TEAM_DEVICE_OR_CLIENT_SIDE="AUDIT_LOG_TYPE_NOT_TEAM_DEVICE_OR_CLIENT_SIDE",e.AUDIT_LOG_MISSING_CATEGORY_TO_LOG_TYPE_MAPPING="AUDIT_LOG_MISSING_CATEGORY_TO_LOG_TYPE_MAPPING",e.AUDIT_LOG_NON_SECURITY_MONITORING_IN_MASS_DEPLOYMENT="AUDIT_LOG_NON_SECURITY_MONITORING_IN_MASS_DEPLOYMENT"}(Z||(Z={}));class dK extends nN({scope:d.User}){}class dW extends nA({scope:d.User}){}class dY extends nA({scope:d.User}){}let dQ=nS({name:"activityLogs",commands:{initiateActivityLogsRetrieval:d$,loadNextActivityLogs:dz,storeActivityLogs:dK},events:{},queries:{activityLogs:dW,areSensitiveLogsEnabled:dY}});!function(e){e.TEAM_NOT_FOUND="TEAM_NOT_FOUND",e.VALID_MASS_DEPLOYMENT_TEAM_KEY_ALREADY_EXISTS_FOR_TEAM="VALID_MASS_DEPLOYMENT_TEAM_KEY_ALREADY_EXISTS_FOR_TEAM"}($||($={})),n3($.TEAM_NOT_FOUND,"[Mass Deployment - Generate Key] - Team not found"),n3($.VALID_MASS_DEPLOYMENT_TEAM_KEY_ALREADY_EXISTS_FOR_TEAM,"[Mass Deployment - Generate Key] - A valid mass deployment team key already exists for the team");class dX extends nN({scope:d.User}){}class dJ extends nN({scope:d.Device}){}class d0 extends nN({scope:d.User}){}class d1 extends nN({scope:d.User}){}class d2 extends nA({scope:d.Device}){}class d3 extends nA({scope:d.User}){}class d4 extends nA({scope:d.User}){}class d6 extends nA({scope:d.User}){}class d5 extends nA({scope:d.User}){}class d9 extends nA({scope:d.Device}){}let d8=nS({name:"loggedOutMonitoring",commands:{generateMassDeploymentTeamKey:dX,sendRiskyPasswordLoggedOutLog:dJ,updateLoggedOutMonitoringActiveStatus:d0,generateAndDownloadMassDeploymentScriptCommand:d1},events:{},queries:{analysePasswordForRisks:d2,getLastLogDate:d3,getMassDeploymentSecurityMonitoringConfigurationQuery:d4,getMassDeploymentSetupInformation:d6,getRiskDetectionInsights:d5,isLoggedOutMonitoringEnabledForDevice:d9}});!function(e){e.GENERIC_ERROR="GENERIC_ERROR",e.TEAM_NOT_FOUND="TEAM_NOT_FOUND",e.MISMATCHING_ADMIN_PROVISIONING_KEY="MISMATCHING_ADMIN_PROVISIONING_KEY",e.NO_SIEM_CONFIGURATION_UPDATE="NO_SIEM_CONFIGURATION_UPDATE",e.INVALID_URL="INVALID_URL"}(z||(z={})),n3(z.TEAM_NOT_FOUND,"Team not found"),n3(z.MISMATCHING_ADMIN_PROVISIONING_KEY,"Mismatching admin provisioning key"),n3(z.NO_SIEM_CONFIGURATION_UPDATE,"There's nothing to update"),n3(z.INVALID_URL,"Invalid URL"),n3(z.GENERIC_ERROR,"Generic error");class d7 extends nN({scope:d.User}){}(K||(K={})).GENERIC_ERROR="GENERIC_ERROR",n3(K.GENERIC_ERROR,"Generic error");class ue extends nA({scope:d.User}){}let ut=nS({name:"siem",commands:{setSiemConfiguration:d7},events:{},queries:{getSiemConfiguration:ue}});class us extends nN({scope:d.User}){}class un extends nN({scope:d.User}){}class ur extends nN({scope:d.User}){}class ui extends nN({scope:d.User}){}class uo extends nA({scope:d.User}){}class ua extends nA({scope:d.User}){}class uc extends nA({scope:d.User}){}let ul=nS({name:"nudges",commands:{ValidateNudgesInstallationCommand:us,SendNudgeCommand:un,UpdateTeamNudgeCommand:ur,UninstallNudgesCommand:ui},events:{},queries:{CheckNudgesInstallationQuery:uo,GetHealthAndNudgeReportQuery:ua,GetTeamNudgesQuery:uc}});!function(e){e.InvalidOrigin="InvalidOrigin",e.NoFreeSlot="NoFreeSlot",e.NoFreeSlotFreePlan="NoFreeSlotFreePlan",e.UserTeamInviteTokenNotFound="UserTeamInviteTokenNotFound",e.PaymentFailed="PaymentFailed",e.NotBillingAdmin="NotBillingAdmin",e.CannotAddSeatDuringGracePeriod="CannotAddSeatDuringGracePeriod"}(W||(W={}));class ud extends n4("InvalidOrigin","Invalid origin"){}class uu extends n4("NoFreeSlot","No free slot"){}class up extends n4("NoFreeSlotFreePlan","No free slot in free plan"){}class um extends n4("UserTeamInviteTokenNotFound","No invite token to a team available for user"){}class uh extends n4("PaymentFailed","Payment failed"){}class uf extends n4("NotBillingAdmin","User is not the billing admin"){}class ug extends n4("CannotAddSeatDuringGracePeriod","Seats cannot be added during grace period"){}class uv extends nN({scope:d.User}){}class u_ extends nN({scope:d.User}){}class ub extends nD({scope:d.User}){}class uy extends nA({scope:d.User}){}let uw=or.object({userId:or.number(),login:or.string(),premiumStatus:or.enum(["free","subscribed","legacy"]),lastActivityDateUnix:or.number(),proposedState:or.enum(["proposed","not_in_team","in_team","revoked"])});or.array(uw);class uI extends nA({scope:d.User}){}class uS extends nA({scope:d.User}){}class ux extends nA({scope:d.User}){}let uE=nS({name:"teamMembers",commands:{proposeMembers:uv,dismissNonMembersInfobox:u_},events:{membersAdded:ub},queries:{getNonMembersCount:uy,getNonMembersList:uI,getHasAdminDismissedInfobox:uS,getMembersList:ux}});class uA extends nN({scope:d.User}){}!function(e){e.TEAM_NOT_FOUND="TEAM_NOT_FOUND",e.NOT_IN_FREE_TRIAL="TEAM_NOT_FREE_TRIAL",e.IN_GRACE_PERIOD="TEAM_IN_GRACE_PERIOD",e.USER_NOT_ADMIN="not_admin"}(Y||(Y={})),n3("TEAM_NOT_FOUND","Team not found"),n3("TEAM_NOT_FREE_TRIAL","Team is not in a free trial"),n3("TEAM_IN_GRACE_PERIOD","User trial is already extended. User is in grace period"),n3("not_admin","User is not admin");class uT extends nN({scope:d.User}){}!function(e){e.IN_FREE_TRIAL="TEAM_IN_FREE_TRIAL",e.IS_DISCONTINUED="TEAM_IS_DISCONTINUED",e.USER_NOT_ADMIN="NOT_ADMIN"}(Q||(Q={})),n3("TEAM_IN_FREE_TRIAL","Team is in a free trial"),n3("TEAM_IS_DISCONTINUED","Team is discontinued"),n3("NOT_ADMIN","User is not admin");class uN extends nN({scope:d.User}){}!function(e){e.DUPLICATE="team_name_already_exists",e.INVALID_TEAM_SETTING_VALUE="INVALID_TEAM_SETTING_VALUE",e.NOT_ADMIN="not_admin",e.NOT_AUTHORIZED="not_authorized"}(X||(X={})),n3("team_name_already_exists","That team name already exists"),n3("INVALID_TEAM_SETTING_VALUE","The team setting value is invalid"),n3("not_admin","User is not admin"),n3("not_authorized","User is not authorized to perform this action");class uU extends nN({scope:d.User}){}class uO extends nN({scope:d.User}){}(J||(J={})).INVALID_FEEDBACK="INVALID_FEEDBACK",n3("INVALID_FEEDBACK","The provided feedback is invalid and won't be shared");class uD extends nN({scope:d.User}){}class uk extends nN({scope:d.User}){}class uC extends nA({scope:d.User}){}class uR extends nA({scope:d.User}){}class uP extends nA({scope:d.User}){}class uL extends nA({scope:d.User}){}class uM extends nA({scope:d.User}){}class uF extends nA({scope:d.User}){}class uG extends nA({scope:d.User}){}class uB extends nA({scope:d.User}){}class uV extends nA({scope:d.User}){}class uj extends nA({scope:d.User}){}class uq extends nA({scope:d.User}){}class uH extends nA({scope:d.User}){}class uZ extends nA({scope:d.User}){}class u$ extends nA({scope:d.User}){}class uz extends nA({scope:d.User}){}!function(e){e.NOT_LOGGED="NOT_LOGGED",e.NOT_ADMIN="NOT_ADMIN"}(ee||(ee={}));let uK=n3("NOT_LOGGED","Please log the user");n3("NOT_ADMIN","User is not an admin");class uW extends nA({scope:d.User,noUserError:uK()}){}let uY=nS({name:"teamPlanDetails",commands:{addSeats:uA,extendFreeTrial:uT,requestTeamPlanCancellation:uN,editTeamName:uU,editTeamPolicies:uO,sendFeedback:uD,updateBillingAdmin:uk},events:{},queries:{getIndustryBenchmarkData:uC,getTeamActiveDirectoryInfo:uR,getTeamBillingInformation:uP,getTeamCancellationStatus:uL,getTeamCapabilities:uM,getTeamCreationDateUnixQuery:uF,getTeamDuoInfo:uG,getTeamId:uB,getTeamName:uV,getTeamRoles:uj,getTeamPolicies:uq,getTeamSeats:uH,getTeamSecurityScore:uZ,getTeamSsoInfo:u$,getTeamTrialStatus:uz,isTeamCreator:uW}});class uQ extends nN({scope:d.User}){}!function(e){e.USER_IS_NOT_BILLING_ADMIN="not_billing_admin",e.NOT_ABLE_TO_ADD_SEATS_DURING_GRACE_PERIOD="cannot_add_seat_during_grace_period"}(et||(et={})),n3("not_billing_admin","User is not billing admin"),n3("cannot_add_seat_during_grace_period","Cannot add seats during grace period");class uX extends nN({scope:d.User}){}!function(e){e.STARTER_PLAN_NOT_10_SEATS="starter_plan_not_10_seats",e.USER_SUBSCRIBING_NOT_FOUND="user_subscribing_not_found",e.CANNOT_INVOICE_FREE_PLAN="cannot_invoice_free_plan",e.PAYMENT_ERROR_DURING_UPGRADE="payment_error_during_upgrade",e.SEATS_TO_PURCHASE_LOWER_ACTUAL_USAGE="seats_to_purchase_lower_actual_usage",e.NOT_IN_A_TEAM_PLAN="not_in_a_team_plan",e.NOT_TEAM_CAPTAIN="not_team_captain",e.NOT_IN_FREE_TRIAL="not_in_free_trial",e.INVALID_PLAN="invalid_plan",e.WRONG_AMOUNT_TO_PAY="wrong_amount_to_pay",e.SALES_TAX_MISMATCH="SALES_TAX_MISMATCH",e.B2B_PLAN_NOT_FOUND="b2b_plan_not_found",e.SELECTED_PLAN_IS_NOT_VALID="SELECTED_PLAN_IS_NOT_VALID",e.FORBIDDEN_EMAIL_DOMAIN="FORBIDDEN_EMAIL_DOMAIN",e.TEAM_HAS_SSO_ENABLED="TEAM_HAS_SSO_ENABLED",e.VAT_NUMBER_NOT_UPSERTED="VAT_NUMBER_NOT_UPSERTED",e.NO_KEY_FOR_USER="no_key_for_user",e.UNSUPPORTED_PAYMENT_MEAN="unsupported_payment_mean"}(es||(es={})),n3("starter_plan_not_10_seats","Starter Plan is 10 seats"),n3("user_subscribing_not_found","User subscribing does not exist."),n3("cannot_invoice_free_plan","Cannot invoice when Free plan."),n3("payment_error_during_upgrade","Payment error during upgrade"),n3("seats_to_purchase_lower_actual_usage","Seats to purchase is lower than actual team usage"),n3("not_in_a_team_plan","Cannot upgrade, user is not in a team plan"),n3("not_team_captain","The user is not a captain of this team"),n3("not_in_free_trial","This team is not in free trial"),n3("invalid_plan","Offer not allowed"),n3("wrong_amount_to_pay","Amount displayed is too different than real actual price"),n3("SALES_TAX_MISMATCH","Taxes displayed is too different than real actual price"),n3("b2b_plan_not_found","The planId requested to upgrade is not found"),n3("SELECTED_PLAN_IS_NOT_VALID","Selected plan is not valid"),n3("FORBIDDEN_EMAIL_DOMAIN","This user has a forbidden email domain"),n3("TEAM_HAS_SSO_ENABLED","Team needs to disable SSO before purchasing non-SSO offering plans"),n3("VAT_NUMBER_NOT_UPSERTED","VAT number could not be upserted"),n3("no_key_for_user","No key for user"),n3("unsupported_payment_mean","The team is using an unsupported payment mean type.");class uJ extends nN({scope:d.User}){}class u0 extends nA({scope:d.User}){}class u1 extends nA({scope:d.User}){}class u2 extends nA({scope:d.User}){}let u3=nS({name:"teamPlanUpdate",commands:{changeTierMidcycle:uQ,computePlanPricingDetails:uX,upgradeTeamWithExistingCc:uJ},events:{},queries:{getTeamOffers:u0,getMidcycleTierUpgradePrice:u1,getPlanPricingDetailsQuery:u2}});!function(e){e.TeamNotFound="TeamNotFound",e.NotBillingAdmin="NotBillingAdmin"}(en||(en={}));class u4 extends n4("TeamNotFound","The given user is not part of a single team"){}class u6 extends n4("NotBillingAdmin","The user is not Billing Admin"){}class u5 extends nN({scope:d.User}){}!function(e){e.TeamNotFound="TeamNotFound",e.NotBillingAdmin="NotBillingAdmin",e.VatNumberNotUpserted="VatNumberNotUpserted"}(er||(er={}));class u9 extends n4("TeamNotFound","The given user is not part of a single team"){}class u8 extends n4("NotBillingAdmin","The user is not Billing Admin"){}class u7 extends n4("VatNumberNotUpserted","The VAT number couldn't be upserted"){}class pe extends nN({scope:d.User}){}!function(e){e.TeamNotFound="TeamNotFound",e.VatNumberNotFound="VatNumberNotFound",e.NotBillingAdmin="NotBillingAdmin"}(ei||(ei={}));class pt extends n4("TeamNotFound","The given user is not part of a single team"){}class ps extends n4("VatNumberNotFound","The given Team does not have a VAT number"){}class pn extends n4("NotBillingAdmin","The user is not Billing Admin"){}class pr extends nA({scope:d.User}){}class pi extends nA(){}let po=nS({name:"teamVat",commands:{DeleteTeamVatCommand:u5,UpsertTeamVatCommand:pe},events:{},queries:{getTeamVat:pr,getTaxAmount:pi}});class pa extends nN({scope:d.User}){}class pc extends nN({scope:d.User}){}class pl extends nN({scope:d.User}){}class pd extends nN({scope:d.User}){}class pu extends nN({scope:d.User}){}class pp extends nN({scope:d.User}){}class pm extends nN({scope:d.User}){}class ph extends nN({scope:d.User}){}class pf extends nN({scope:d.User}){}class pg extends nN({scope:d.User}){}class pv extends nN({scope:d.User}){}!function(e){e.NOT_ADMIN="not_admin",e.SERVER_ERROR="server_error"}(eo||(eo={})),n3("not_admin","User is not an admin"),n3("server_error","Server error while retrieving IdP Notifications data");class p_ extends nA({scope:d.User}){}!function(e){e.NOT_ADMIN="not_admin",e.SERVER_ERROR="server_error"}(ea||(ea={})),n3("not_admin","User is not an admin"),n3("server_error","Server error while retrieving IdP Notifications data");class pb extends nA({scope:d.User}){}class py extends nA(){}class pw extends nA(){}class pI extends nA(){}class pS extends nA(){}class px extends nA(){}class pE extends nA(){}class pA extends nA(){}class pT extends nA(){}class pN extends nA(){}class pU extends nA(){}class pO extends nA(){}let pD=nS({name:"teamAdminNotifications",commands:{markActivityLogsInfoboxSeen:pa,markB2BPlanDiscontinuedSeen:pc,markCRDRisksFoundInfoboxSeen:pl,markIdPFailedNotificationSeen:pd,markIdPNeedsSeatsInfoboxSeen:pu,markIdPNeedsSeatsInfoboxInPopupSeen:pp,markIdPProvisioningsPendingInfoboxSeen:pm,markNewRestrictSharingPolicySeen:ph,markNotificationTrialExtendedSeen:pf,markOfferToExtendFreeTrialSeen:pg,markStarterRepackagePolicyInfoboxSeen:pv},events:{},queries:{getIdPFailedProvisioningsData:p_,getIdPFixedProvisioningsData:pb,hasSeenActivityLogsInfobox:py,hasSeenB2BPlanDiscontinued:pw,hasSeenCRDRisksFoundInfobox:pI,hasSeenIdPFailedNotification:pS,hasSeenIdPNeedsSeatsInfoboxInPopup:px,hasSeenIdPNeedsSeatsInfobox:pE,hasSeenIdPProvisioningsPendingInfobox:pA,hasSeenNewRestrictSharingPolicy:pT,hasSeenNotificationTrialExtended:pN,hasSeenOfferToExtendFreeTrial:pU,HasSeenStarterRepackagePolicyInfobox:pO}});class pk extends nA({scope:d.User}){}let pC=nS({name:"teamPasswordHealth",commands:{},events:{},queries:{getReport:pk}});class pR extends nN({scope:d.User}){}class pP extends nN({scope:d.User}){}!function(e){e.NOT_LOADED="not_loaded",e.NOT_CREATED="not_created",e.READY="ready"}(ec||(ec={}));class pL extends nA({scope:d.User}){}let pM=nS({name:"inviteLink",commands:{toggleInviteLink:pR,requestUserInviteTokenSending:pP},events:{},queries:{inviteLinkData:pL}});class pF extends nN({scope:d.User}){}class pG extends nN({scope:d.User}){}class pB extends nN({scope:d.User}){}class pV extends nN({scope:d.User}){}class pj extends nA(){}class pq extends nA(){}class pH extends nA(){}let pZ=nS({name:"masterPasswordSecurity",commands:{dismissMasterPasswordNotification:pF,temporaryCheckMasterPassword:pG,temporaryResetMasterPasswordLeaked:pB,temporaryCheckMasterPasswordWeak:pV},events:{},queries:{isMasterPasswordLeaked:pj,isMasterPasswordWeak:pq,isMasterPasswordNotificationDismissed:pH}});class p$ extends nN({scope:d.User}){}class pz extends nA({scope:d.User}){}(el||(el={})).NO_USER_FOR_KEY="no_user_for_key",n3(el.NO_USER_FOR_KEY,"No user for this subscription code");class pK extends nA({scope:d.User}){}let pW=nS({name:"userConsents",commands:{UpdateConsentsCommand:p$},events:{},queries:{getConsents:pz,getEmailPreferenceLink:pK}});!function(e){e.DEFAULT="default",e.TRIAL_EXPIRED="trial_expired",e.WEB_STORE="web_store",e.DASHBOARD_UPGRADE="dashboard_upgrade",e.SHARING_CENTER_FAMILY="sharing_center_family",e.SHARING_CENTER_WORK="sharing_center_work"}(ed||(ed={}));class pY extends nA({scope:d.User}){}let pQ=nS({name:"notifications",commands:{},events:{},queries:{GetUserMessagesQuery:pY}});class pX extends nN({scope:d.Device}){}class pJ extends nN({scope:d.Device}){}let p0=nS({name:"taskTracking",commands:{startTaskTracking:pX,terminateTaskTracking:pJ},events:{},queries:{}});class p1 extends nN({scope:d.Device}){}class p2 extends nN({scope:d.Device}){}let p3=nS({commands:{TrackEventCommand:p1,TrackPageViewCommand:p2},events:{},name:"analytics",queries:{}});class p4 extends nA({scope:d.User}){}class p6 extends nA({scope:d.User}){}class p5 extends nA({scope:d.User}){}class p9 extends nN({scope:d.User}){}class p8 extends nN({scope:d.User}){}let p7=nS({events:{},name:"featureFlips",queries:{UserFeatureFlipsQuery:p4,UserFeatureFlipQuery:p5,UserAvailableLabsQuery:p6},commands:{RefreshAvailableLabsCommand:p9,ToggleLabCommand:p8}});class me extends nA({scope:d.Device}){}class mt extends nN({scope:d.Device}){}let ms=nS({commands:{EditSettingsForStagingCommand:mt},events:{},name:"webServices",queries:{SettingsForStagingQuery:me}});class mn extends nA({scope:d.Device}){}let mr=nS({name:"platformInfo",commands:{},events:{},queries:{PlatformInfoQuery:mn}});(eu||(eu={})).NotFound="notFound",n3("notFound","Icon not found");class mi extends nA({scope:d.User}){}class mo extends nN({scope:d.Device}){}let ma=nS({name:"icons",commands:{fetchIconForDomain:mo},events:{},queries:{getIconForDomain:mi}}),mc=nS({events:{},name:"file-download",queries:{},commands:{}});class ml extends nD({scope:d.User}){}let md=nS({name:"file-upload",events:{fileUploadedEvent:ml},queries:{},commands:{}});class mu extends nA({scope:d.Device}){}let mp=nS({name:"killSwitch",commands:{},events:{},queries:{GetKillSwitchQuery:mu}});class mm extends nN({scope:d.Device}){}let mh=nS({name:"diagnostics",commands:{log:mm},events:{},queries:{}});class mf extends nN({scope:d.User}){}class mg extends nN({scope:d.User}){}class mv extends nD({scope:d.User}){}class m_ extends nA({scope:d.User}){}let mb=nS({name:"permissions",commands:{addGroupManager:mf,removeGroupManager:mg},events:{permissionsLoadedEvent:mv},queries:{userPermissions:m_}});!function(e){e.INVALID_OTP_ALREADY_USED="INVALID_OTP_ALREADY_USED",e.INVALID_OTP_BLOCKED="INVALID_OTP_BLOCKED",e.VERIFICATION_FAILED="VERIFICATION_FAILED",e.ACCOUNT_BLOCKED_CONTACT_SUPPORT="ACCOUNT_BLOCKED_CONTACT_SUPPORT",e.VERIFICATION_REQUIRES_REQUEST="VERIFICATION_REQUIRES_REQUEST",e.VERIFICATION_TIMEOUT="VERIFICATION_TIMEOUT"}(ep||(ep={})),or.object({tag:or.nativeEnum(ep)});class my extends nN({scope:d.Device}){}!function(e){e.UNKNOWN_USER="user_not_found",e.SSO_BLOCKED="SSO_BLOCKED"}(em||(em={})),or.object({tag:or.nativeEnum(em)});class mw extends nN({scope:d.Device}){}class mI extends nA({scope:d.Device}){}class mS extends nA({scope:d.Device}){}let mx=nS({name:"deleteOrResetAccount",commands:{completeFlow:my,initiateFlow:mw},events:{},queries:{userAuthenticationMethod:mI,isFlowCompleted:mS}});n3("no_key_for_user","The user appears offline");class mE extends nA({scope:d.User}){}let mA=nS({name:"subscriptionCode",commands:{},events:{},queries:{getSubscriptionCode:mE}});n3("user_already_exists","The user invited already exists");class mT extends nN({scope:d.User}){}class mN extends nA({scope:d.User}){}class mU extends nA({scope:d.User}){}let mO=nS({name:"accountReferral",commands:{inviteByEmail:mT},events:{},queries:{getSharingLink:mN,getInvitationsHistory:mU}});n3("NetworkError","The user appears offline");class mD extends nN({scope:d.Device}){}class mk extends nN({scope:d.Device}){}class mC extends nN({scope:d.Device}){}class mR extends nA({scope:d.Device}){}class mP extends nA({scope:d.Device}){}let mL=nS({name:"accountCreation",commands:{createPasswordlessAccount:mD,markMassDeployFirstInitDone:mk,requestTeamInviteTokenSending:mC},events:{},queries:{accountCreationMassDeployPolicies:mR,inviteLinkData:mP}});class mM extends nN({scope:d.User}){}class mF extends nN({scope:d.User}){}class mG extends nN({scope:d.User}){}!function(e){e.TOKEN_VALIDATION_FAILED="TOKEN_VALIDATION_FAILED",e.LOGIN_CHANGE_FAILED="LOGIN_CHANGE_FAILED"}(eh||(eh={}));class mB extends nA({scope:d.Device}){}let mV=nS({name:"accountManagement",commands:{initChangeLoginEmail:mM,completeChangeLoginEmail:mF,resendVerificationCode:mG},events:{},queries:{changeLoginEmailStatus:mB}});class mj extends nN({scope:d.User}){}class mq extends nN({scope:d.User}){}class mH extends nA({scope:d.User}){}class mZ extends nA({scope:d.User}){}class m$ extends nA({scope:d.User}){}class mz extends nA(){}class mK extends nA(){}let mW=nS({name:"getStarted",commands:{dismissGetStarted:mj,markAdminConsoleOpened:mq},events:{},queries:{hasAddedMobileOnWeb:mH,hasCompletedAutofillTutorial:mZ,hasCompletedCredentialTutorial:m$,hasOpenedAdminConsole:mz,isGetStartedDismissed:mK}});class mY extends nN({scope:d.User}){}class mQ extends nN({scope:d.User}){}class mX extends nA({scope:d.User}){}class mJ extends nA({scope:d.User}){}let m0=nS({name:"profileAdmin",commands:{markProfilingFormSeen:mY,saveAnswer:mQ},events:{},queries:{answers:mX,hasSeenProfilingForm:mJ}});class m1 extends nA({scope:d.User}){}class m2 extends nA({scope:d.User}){}class m3 extends nA({scope:d.User}){}let m4=nS({name:"b2cPlansApi",commands:{},events:{},queries:{getB2CPlanPricing:m1,getCancelationCouponDiscount:m2,getB2CSubscriptionInfo:m3}}),m6={background:"background"},m5=nB(m6.background,[]).with({module:p0,on:m6.background}).with({module:nY,on:m6.background}).with({module:n1,on:m6.background}).with({module:n7,on:m6.background}).with({module:aL,on:m6.background}).with({module:aT,on:m6.background}).with({module:ak,on:m6.background}).with({module:rp,on:m6.background}).with({module:oc,on:m6.background}).with({module:oC,on:m6.background}).with({module:ce,on:m6.background}).with({module:cc,on:m6.background}).with({module:cI,on:m6.background}).with({module:cA,on:m6.background}).with({module:lp,on:m6.background}).with({module:lf,on:m6.background}).with({module:lw,on:m6.background}).with({module:lV,on:m6.background}).with({module:lH,on:m6.background}).with({module:lY,on:m6.background}).with({module:o5,on:m6.background}).with({module:at,on:m6.background}).with({module:ad,on:m6.background}).with({module:mb,on:m6.background}).with({module:lc,on:m6.background}).with({module:rm,on:m6.background}).with({module:l8,on:m6.background}).with({module:dt,on:m6.background}).with({module:da,on:m6.background}).with({module:dd,on:m6.background}).with({module:dp,on:m6.background}).with({module:dg,on:m6.background}).with({module:dQ,on:m6.background}).with({module:d8,on:m6.background}).with({module:rg,on:m6.background}).with({module:ry,on:m6.background}).with({module:pZ,on:m6.background}).with({module:dS,on:m6.background}).with({module:dZ,on:m6.background}).with({module:p3,on:m6.background}).with({module:c7,on:m6.background}).with({module:uE,on:m6.background}).with({module:uY,on:m6.background}).with({module:u3,on:m6.background}).with({module:po,on:m6.background}).with({module:p7,on:m6.background}).with({module:pQ,on:m6.background}).with({module:ls,on:m6.background}).with({module:pD,on:m6.background}).with({module:pC,on:m6.background}).with({module:pW,on:m6.background}).with({module:li,on:m6.background}).with({module:mx,on:m6.background}).with({module:mA,on:m6.background}).with({module:mO,on:m6.background}).with({module:mW,on:m6.background}).with({module:cO,on:m6.background}).with({module:ms,on:m6.background}).with({module:mr,on:m6.background}).with({module:dw,on:m6.background}).with({module:mL,on:m6.background}).with({module:cM,on:m6.background}).with({module:cB,on:m6.background}).with({module:cH,on:m6.background}).with({module:ut,on:m6.background}).with({module:m4,on:m6.background}).with({module:pM,on:m6.background}).with({module:ul,on:m6.background}).with({module:ma,on:m6.background}).with({module:mc,on:m6.background}).with({module:md,on:m6.background}).with({module:m0,on:m6.background}).with({module:mV,on:m6.background}).with({module:mp,on:m6.background}).with({module:mh,on:m6.background}).define();var m9="function"==typeof Symbol&&Symbol.observable||"@@observable";function m8(e){return e}function m7(e){return 0===e.length?m8:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var he=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var s=new e;return s.source=this,s.operator=t,s},e.prototype.subscribe=function(e,t,s){var n=this,r=function(e){var t;return e&&e instanceof nt||(t=e)&&sY(t.next)&&sY(t.error)&&sY(t.complete)&&s1(e)}(e)?e:new ni(e,t,s);return ne(function(){var e=n.operator,t=n.source;r.add(e?e.call(r,t):t?n._subscribe(r):n._trySubscribe(r))}),r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var s=this;return new(t=ht(t))(function(t,n){var r=new ni({next:function(t){try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});s.subscribe(r)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[m9]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m7(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=ht(e))(function(e,s){var n;t.subscribe(function(e){return n=e},function(e){return s(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function ht(e){var t;return null!==(t=null!=e?e:s3.Promise)&&void 0!==t?t:Promise}var hs=sG(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),hn=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return sj(t,e),t.prototype.lift=function(e){var t=new hr(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new hs},t.prototype.next=function(e){var t=this;ne(function(){var s,n;if(t._throwIfClosed(),!t.isStopped){!t.currentObservers&&(t.currentObservers=Array.from(t.observers));try{for(var r=sZ(t.currentObservers),i=r.next();!i.done;i=r.next())i.value.next(e)}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}}})},t.prototype.error=function(e){var t=this;ne(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var s=t.observers;s.length;)s.shift().error(e)}})},t.prototype.complete=function(){var e=this;ne(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,s=this.hasError,n=this.isStopped,r=this.observers;return s||n?s0:(this.currentObservers=null,r.push(e),new sJ(function(){t.currentObservers=null,sX(r,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,s=this.thrownError,n=this.isStopped;t?e.error(s):n&&e.complete()},t.prototype.asObservable=function(){var e=new he;return e.source=this,e},t.create=function(e,t){return new hr(e,t)},t}(he),hr=function(e){function t(t,s){var n=e.call(this)||this;return n.destination=t,n.source=s,n}return sj(t,e),t.prototype.next=function(e){var t,s;null===(s=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===s||s.call(t,e)},t.prototype.error=function(e){var t,s;null===(s=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===s||s.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,s;return null!==(s=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==s?s:s0},t}(hn),hi=function(e){function t(t){var s=e.call(this)||this;return s._value=t,s}return sj(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var s=e.prototype._subscribe.call(this,t);return s.closed||t.next(this._value),s},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,s=this._value;if(e)throw t;return this._throwIfClosed(),s},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(hn);!function(e){e.Connected="Connected",e.Disconnected="Disconnected"}(ef||(ef={}));let ho=({channelName:e,message:t})=>({channelName:e,message:t,type:"graphene-message"}),ha=e=>!!e&&"object"==typeof e&&"graphene-message"===e.type;var hc={now:function(){return(hc.delegate||Date).now()},delegate:void 0},hl=function(e){function t(t,s,n){void 0===t&&(t=1/0),void 0===s&&(s=1/0),void 0===n&&(n=hc);var r=e.call(this)||this;return r._bufferSize=t,r._windowTime=s,r._timestampProvider=n,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=s===1/0,r._bufferSize=Math.max(1,t),r._windowTime=Math.max(1,s),r}return sj(t,e),t.prototype.next=function(t){var s=this.isStopped,n=this._buffer,r=this._infiniteTimeWindow,i=this._timestampProvider,o=this._windowTime;!s&&(n.push(t),r||n.push(i.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),s=this._infiniteTimeWindow,n=this._buffer.slice(),r=0;r<n.length&&!e.closed;r+=s?1:2)e.next(n[r]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,s=this._buffer,n=this._infiniteTimeWindow,r=(n?1:2)*e;if(e<1/0&&r<s.length&&s.splice(0,s.length-r),!n){for(var i=t.now(),o=0,a=1;a<s.length&&s[a]<=i;a+=2)o=a;o&&s.splice(0,o+1)}},t}(hn),hd=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function hu(e){return sY(null==e?void 0:e.then)}function hp(e){return sY(e[m9])}function hm(e){return Symbol.asyncIterator&&sY(null==e?void 0:e[Symbol.asyncIterator])}function hh(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var hf="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function hg(e){return sY(null==e?void 0:e[hf])}function hv(e){return function(e,t,s){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=s.apply(e,t||[]),i=[];return n={},o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,l)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){r[e]&&(n[e]=function(t){return new Promise(function(s,n){i.push([e,t,s,n])>1||a(e,t)})},t&&(n[e]=t(n[e])))}function a(e,t){try{(function(e){e.value instanceof sK?Promise.resolve(e.value.v).then(c,l):d(i[0][2],e)})(r[e](t))}catch(e){d(i[0][3],e)}}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function(){var t,s,n;return sq(this,function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,sK(t.read())];case 3:if(n=(s=r.sent()).value,!s.done)return[3,5];return[4,sK(void 0)];case 4:return[2,r.sent()];case 5:return[4,sK(n)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function h_(e){return sY(null==e?void 0:e.getReader)}function hb(e){if(e instanceof he)return e;if(null!=e){if(sY(e[m9]))return function(e){return new he(function(t){var s=e[m9]();if(sY(s.subscribe))return s.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(hd(e))return function(e){return new he(function(t){for(var s=0;s<e.length&&!t.closed;s++)t.next(e[s]);t.complete()})}(e);if(hu(e))return function(e){return new he(function(t){e.then(function(e){!t.closed&&(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,s6)})}(e);if(hm(e))return hy(e);if(hg(e))return function(e){return new he(function(t){var s,n;try{for(var r=sZ(e),i=r.next();!i.done;i=r.next()){var o=i.value;if(t.next(o),t.closed)return}}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}t.complete()})}(e);if(h_(e))return function(e){return hy(hv(e))}(e)}throw hh(e)}function hy(e){return new he(function(t){(function(e,t){var s,n,r,i,o,a,c,l;return o=this,a=void 0,c=void 0,l=function(){var o;return sq(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),s=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,s=e[Symbol.asyncIterator];return s?s.call(e):(e=sZ(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(t){return new Promise(function(n,r){(function(e,t,s,n){Promise.resolve(n).then(function(t){e({value:t,done:s})},t)})(n,r,(t=e[s](t)).done,t.value)})}}}(e),a.label=1;case 1:return[4,s.next()];case 2:if((n=a.sent()).done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return r={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(n&&!n.done&&(i=s.return)))return[3,8];return[4,i.call(s)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new(c||(c=Promise))(function(e,t){function s(e){try{r(l.next(e))}catch(e){t(e)}}function n(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):((r=t.value)instanceof c?r:new c(function(e){e(r)})).then(s,n)}r((l=l.apply(o,a||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function hw(e,t,s,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var i=t.schedule(function(){s(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!r)return i}function hI(e){return function(t){var s;if(sY(null==(s=t)?void 0:s.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function hS(e,t,s,n,r){return new hx(e,t,s,n,r)}var hx=function(e){function t(t,s,n,r,i,o){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=o,a._next=s?function(e){try{s(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return sj(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;e.prototype.unsubscribe.call(this),s||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(nt);function hE(e,t){return void 0===t&&(t=0),hI(function(s,n){s.subscribe(hS(n,function(s){return hw(n,e,function(){return n.next(s)},t)},function(){return hw(n,e,function(){return n.complete()},t)},function(s){return hw(n,e,function(){return n.error(s)},t)}))})}function hA(e,t){return void 0===t&&(t=0),hI(function(s,n){n.add(e.schedule(function(){return s.subscribe(n)},t))})}function hT(e,t){if(!e)throw Error("Iterable cannot be null");return new he(function(s){hw(s,t,function(){var n=e[Symbol.asyncIterator]();hw(s,t,function(){n.next().then(function(e){e.done?s.complete():s.next(e.value)})},0,!0)})})}function hN(e,t){return t?function(e,t){if(null!=e){var s,n,r,i,o,a,c,l,d,u;if(sY(e[m9])){;return s=e,n=t,hb(s).pipe(hA(n),hE(n))}if(hd(e)){;return r=e,i=t,new he(function(e){var t=0;return i.schedule(function(){t===r.length?e.complete():(e.next(r[t++]),!e.closed&&this.schedule())})})}if(hu(e)){;return o=e,a=t,hb(o).pipe(hA(a),hE(a))}if(hm(e))return hT(e,t);if(hg(e)){;return c=e,l=t,new he(function(e){var t;return hw(e,l,function(){t=c[hf](),hw(e,l,function(){var s,n,r;try{n=(s=t.next()).value,r=s.done}catch(t){e.error(t);return}r?e.complete():e.next(n)},0,!0)}),function(){return sY(null==t?void 0:t.return)&&t.return()}})}if(h_(e)){;return d=e,u=t,hT(hv(d),u)}}throw hh(e)}(e,t):hb(e)}var hU=new he(function(e){return e.complete()});function hO(e){return e<=0?function(){return hU}:hI(function(t,s){var n=0;t.subscribe(hS(s,function(t){++n<=e&&(s.next(t),e<=n&&s.complete())}))})}function hD(e){void 0===e&&(e={});var t=e.connector,s=void 0===t?function(){return new hn}:t,n=e.resetOnError,r=void 0===n||n,i=e.resetOnComplete,o=void 0===i||i,a=e.resetOnRefCountZero,c=void 0===a||a;return function(e){var t=null,n=null,i=null,a=0,l=!1,d=!1,u=function(){null==n||n.unsubscribe(),n=null},p=function(){u(),t=i=null,l=d=!1},m=function(){var e=t;p(),null==e||e.unsubscribe()};return hI(function(e,h){a++,!d&&!l&&u();var f=i=null!=i?i:s();h.add(function(){0==--a&&!d&&!l&&(n=hk(m,c))}),f.subscribe(h),!t&&(t=new ni({next:function(e){return f.next(e)},error:function(e){d=!0,u(),n=hk(p,r,e),f.error(e)},complete:function(){l=!0,u(),n=hk(p,o),f.complete()}}),hN(e).subscribe(t))})(e)}}function hk(e,t){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];return!0===t?(e(),null):!1===t?null:t.apply(void 0,sz([],s$(s))).pipe(hO(1)).subscribe(function(){return e()})}function hC(e,t,s){var n,r,i,o,a=!1;return e&&"object"==typeof e?(o=void 0===(n=e.bufferSize)?1/0:n,t=void 0===(r=e.windowTime)?1/0:r,a=void 0!==(i=e.refCount)&&i,s=e.scheduler):o=null!=e?e:1/0,hD({connector:function(){return new hl(o,t,s)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function hR(e,t){return hI(function(s,n){var r=0;s.subscribe(hS(n,function(s){n.next(e.call(t,s,r++))}))})}function hP(e,t,s){return(void 0===s&&(s=1/0),sY(t))?hP(function(s,n){return hR(function(e,r){return t(s,e,n,r)})(hb(e(s,n)))},s):("number"==typeof t&&(s=t),hI(function(t,n){var r,i,o,a,c,l,d,u,p,m,h,f,g,v,_;return r=t,i=n,o=e,a=s,p=[],m=0,h=0,f=!1,g=function(){f&&!p.length&&!m&&i.complete()},v=function(e){return m<a?_(e):p.push(e)},_=function(e){m++;var t=!1;hb(o(e,h++)).subscribe(hS(i,function(e){l?v(e):i.next(e)},function(){t=!0},void 0,function(){if(t)try{m--;for(;p.length&&m<a;)!function(){var e=p.shift();_(e)}();g()}catch(e){i.error(e)}}))},r.subscribe(hS(i,v,function(){f=!0,g()})),function(){}}))}class hL{constructor(e){this.status$=new hi(ef.Connected),this.port$=new he(t=>{let s;let n=this.status$;function r(){s?.onDisconnect.removeListener(r);let i=sx({name:e});n.next(ef.Disconnected),i.onDisconnect.addListener(r),t.next(i),n.next(ef.Connected),s=i}return r(),()=>{s?.onDisconnect.removeListener(r),s?.disconnect()}}).pipe(hC(1)),this.portSubscription=this.port$.subscribe(),this.messages$=this.port$.pipe(hP(t=>new he(s=>{let n=t=>{ha(t)&&t.channelName===e&&s.next(t.message)};return t.onMessage.addListener(n),()=>{t.onMessage.removeListener(n)}})))}async sendMessage(e){let t=await nl(this.port$);t.postMessage(ho({channelName:t.name,message:e}))}stop(){return this.portSubscription.unsubscribe(),this.status$.next(ef.Disconnected),Promise.resolve()}}function hM(e,t){return hI(function(s,n){var r=0;s.subscribe(hS(n,function(s){return e.call(t,s,r++)&&n.next(s)}))})}function hF(e,t){throw Error(t??`Unreachable code detected (${e})`)}let hG=e=>e,hB=e=>"response"===e.type,hV=(e,t,s,n)=>{let r=r=>{let{main:i,queryOnly:o}=e[r],a={type:"local",onMessage:n};if(i===t)return{commandMailbox:a,queryMailbox:a};let c={type:"remote",channel:s[i]};return{commandMailbox:c,queryMailbox:t&&o.includes(t)?a:c}};return Object.keys(e).reduce((e,t)=>{let{commandMailbox:s,queryMailbox:n}=r(t);return e[`command-${t}`]=s,e[`query-${t}`]=n,e},hG({}))};function hj(e,t){var s="object"==typeof t;return new Promise(function(n,r){var i,o=!1;e.subscribe({next:function(e){i=e,o=!0},error:r,complete:function(){o?n(i):s?n(t.defaultValue):r(new sB)}})})}function hq(e){return hI(function(t,s){var n,r=null,i=!1;r=t.subscribe(hS(s,void 0,void 0,function(o){n=hb(e(o,hq(e)(t))),r?(r.unsubscribe(),r=null,n.subscribe(s)):i=!0})),i&&(r.unsubscribe(),r=null,n.subscribe(s))})}function hH(e){return e[e.length-1]}function hZ(e){var t;return(t=hH(e))&&sY(t.schedule)?e.pop():void 0}function h$(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=hZ(e);return hN(e,s)}let hz=e=>!!e&&"object"==typeof e&&"error"===e.type,hK=e=>!!e&&"object"==typeof e&&"initial-acknowledgement"===e.type,hW=e=>!!e&&"object"==typeof e&&"start"===e.type,hY=e=>!!e&&"object"==typeof e&&"data"===e.type,hQ=e=>!!e&&"object"==typeof e&&"end"===e.type,hX=e=>!!e&&"object"==typeof e&&"unSubscription"===e.type,hJ=(e,t,s)=>{let n=new Set(s),r=new Map,i=t.receivedMessages$.pipe(hM(hX)).subscribe(e=>{let t=r.get(e.id);t?.unsubscribe(),r.delete(e.id)}),o=async e=>(r.set(e.definition.id,{unsubscribe:()=>{}}),await t.send({type:"initial-acknowledgement",id:e.definition.id}),e),a=t.receivedMessages$.pipe(hM(e=>hW(e)&&n.has(e.definition.destination)&&!r.has(e.definition.id)),hP(e=>hN(o(e)))).subscribe(s=>{let n=e(s.definition.destination,s.definition.content,s.metadata),i={type:"end",id:s.definition.id},o=n.pipe(hR(e=>({id:s.definition.id,data:e,type:"data"})),hq(e=>h$({id:s.definition.id,type:"error",errorMessage:e.message})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return function(){for(var e,t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return(void 0===(e=1)&&(e=1/0),hP(m8,e))(hN(t,hZ(t)))}(t,h$.apply(void 0,sz([],s$(e))))}}(i),hP(e=>hN(t.send(e)))).subscribe();r.set(s.definition.id,{unsubscribe:()=>{o.unsubscribe()}})});return{unsubscribe:()=>{for(let e of(a.unsubscribe(),i.unsubscribe(),r.values()))e.unsubscribe()}}};var h0=Array.isArray,h1=Object.getPrototypeOf,h2=Object.prototype,h3=Object.keys,h4=Array.isArray;function h6(){for(var e,t,s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];var r=hZ(s);var i=sY(hH(e=s))?e.pop():void 0,o=function(e){if(1===e.length){var t=e[0];if(h0(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&h1(e)===h2}(t)){var s=h3(t);return{args:s.map(function(e){return t[e]}),keys:s}}}return{args:e,keys:null}}(s),a=o.args,c=o.keys;if(0===a.length)return hN([],r);var l=new he(function(e,t,s){return void 0===s&&(s=m8),function(n){h5(t,function(){for(var r=e.length,i=Array(r),o=r,a=r,c=function(r){h5(t,function(){var c=hN(e[r],t),l=!1;c.subscribe(hS(n,function(e){i[r]=e,!l&&(l=!0,a--),!a&&n.next(s(i.slice()))},function(){!--o&&n.complete()}))},n)},l=0;l<r;l++)c(l)},n)}}(a,r,c?function(e){var t,s;return t=c,s=e,t.reduce(function(e,t,n){return e[t]=s[n],e},{})}:m8));return i?l.pipe((t=i,hR(function(e){var s,n;return s=t,h4(n=e)?s.apply(void 0,sz([],s$(n))):s(n)}))):l}function h5(e,t,s){e?hw(s,e,t):t()}function h9(e,t){return void 0===t&&(t=!1),hI(function(s,n){var r=0;s.subscribe(hS(n,function(s){var i=e(s,r++);(i||t)&&n.next(s),i||n.complete()}))})}function h8(e,t){return void 0===t&&(t=m8),e=null!=e?e:h7,hI(function(s,n){var r,i=!0;s.subscribe(hS(n,function(s){var o=t(s);(i||!e(r,o))&&(i=!1,r=o,n.next(s))}))})}function h7(e,t){return e===t}function fe(e,t){return t?function(s){return s.pipe(fe(function(s,n){return hb(e(s,n)).pipe(hR(function(e,r){return t(s,e,n,r)}))}))}:hI(function(t,s){var n=0,r=null,i=!1;t.subscribe(hS(s,function(t){!r&&(r=hS(s,void 0,function(){r=null,i&&s.complete()}),hb(e(t,n++)).subscribe(r))},function(){i=!0,r||s.complete()}))})}let ft={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},fs=new Uint8Array(16),fn=[];for(let e=0;e<256;++e)fn.push((e+256).toString(16).slice(1));function fr(e,t=0){return fn[e[t+0]]+fn[e[t+1]]+fn[e[t+2]]+fn[e[t+3]]+"-"+fn[e[t+4]]+fn[e[t+5]]+"-"+fn[e[t+6]]+fn[e[t+7]]+"-"+fn[e[t+8]]+fn[e[t+9]]+"-"+fn[e[t+10]]+fn[e[t+11]]+fn[e[t+12]]+fn[e[t+13]]+fn[e[t+14]]+fn[e[t+15]]}let fi=function(e,s,n){if(ft.randomUUID&&!s&&!e)return ft.randomUUID();let r=(e=e||{}).random||(e.rng||function(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(fs)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,s){n=n||0;for(let e=0;e<16;++e)s[n+e]=r[e];return s}return fr(r)},fo=(e,t)=>{let s=(s,n,r)=>{let i={content:n,destination:String(s),id:fi()};return new he(s=>{let n={type:"start",definition:i,metadata:r},o=h6({message:e.receivedMessages$,stopped:t}).pipe(h9(({stopped:e})=>!e),hR(({message:e})=>e)).subscribe(e=>{if(hK(e)&&e.id===i.id){n={...n,metadata:{...n.metadata,isReminder:!0}};return}if(hY(e)&&e.id===i.id){s.next(e.data);return}if(hz(e)&&e.id===i.id){s.error(Error(e.errorMessage));return}if(hQ(e)&&e.id===i.id){s.complete();return}}),a=h6({sendTimes:e.channelState$.pipe(h8(),hM(e=>e===ef.Connected)),stopped:t}).pipe(h9(({stopped:e})=>!e),fe(()=>hN(e.send(n)))).subscribe();return()=>{e.send({type:"unSubscription",id:i.id}),a.unsubscribe(),o.unsubscribe()}})},n=async(t,n,r)=>await nl(e.channelState$)===ef.Connected&&(await hj(s(t,n,r)),!0);return{send:s,trySend:n}};class fa{connect(e,t){let s=!1;return{start:()=>{if(s)throw Error("Already started");s=!0;let n=e=>hJ((e,t,s)=>this.routes[e].send(e,t,s),e,Object.keys(this.routes)),r=e.map(n),i=new Map,o=t.connectedChannels$.subscribe(e=>{let t=[...i.entries()].filter(([t])=>!(t in e)),s=Object.keys(e).filter(e=>!i.has(e));t.forEach(([e,t])=>{i.delete(e),t.unsubscribe()}),s.forEach(t=>{let s=n(e[t]);i.set(t,s)})});return Promise.resolve({stop:()=>([...r,o,...i.values()].forEach(e=>e.unsubscribe()),this.stopped$.next(!0),Promise.resolve())})}}}ensureMessageSerializable(e,t){}sendMessage(e,t){return this.ensureMessageSerializable(e,t),this.routes[e].send(e,t,{isReminder:!1})}trySendMessage(e,t){return this.ensureMessageSerializable(e,t),this.routes[e].trySend(e,t,{isReminder:!1})}constructor(e){this.stopped$=new hi(!1);let t={routes:hG({})};this.routes=(()=>{let{routes:s}=Object.keys(e).reduce((t,s)=>{let n=e[s];if("local"===n.type&&(t.routes[s]={send:n.onMessage,trySend:async(...e)=>(await hj(n.onMessage(...e)),!0)}),"remote"===n.type){let e=fo(n.channel,this.stopped$);t.routes[s]=e}return t},t);return s})()}}class fc{get(e){return this.entries[e]}getOrDefault(e,t){return this.entries[e]??t}getOrFail(e,t){if(!this.has(e))throw Error(t?.errorMessage??`No ${e} in request context`);return this.entries[e]}has(e){return e in this.entries}async getOrAdd(e,t){return!this.has(e)&&this.set(e,await t()),this.get(e)}getOrAddSync(e,t){return!this.has(e)&&this.set(e,t()),this.get(e)}set(e,t){this.entries[e]=t}toSerializable(){return this.entries}static fromSerializable(e){let t=new fc;for(let[s,n]of Object.entries(e))t.entries[s]=n;return t}clone(){return fc.fromSerializable(JSON.parse(JSON.stringify(this.toSerializable())))}withValue(e,t){return this.set(e,t),this}constructor(){this.entries={}}}let fl=()=>hN([]);class fd{async sendCommand(e,t,s,n){if(!this.broker)throw Error("call connect() first");return await nl(this.broker.sendMessage(`command-${e}`,{type:"command",module:e,commandName:String(t),command:s,context:n.toSerializable()}).pipe(hM(hB),hR(e=>e.response)))}sendQuery(e,t,s,n){if(!this.broker)throw Error("call connect() first");return this.broker.sendMessage(`query-${e}`,{type:"query",module:e,queryName:String(t),query:s,context:n.toSerializable()}).pipe(hM(hB),hR(e=>e.response))}connect(e){let t=e?(t,s,n)=>{switch(s.type){case"response":return hU;case"command":return hN(e.onCommand(s.module,s.commandName,s.command,fc.fromSerializable(s.context),{isReminder:n.isReminder})).pipe(hR(e=>({type:"response",response:e})));case"query":return hN(e.onQuery(s.module,s.queryName,s.query,fc.fromSerializable(s.context))).pipe(hR(e=>({type:"response",response:e})))}hF(s)}:fl,s=hV(this.config.appDefinition,this.config.currentNode,this.config.channels,t);return this.broker=new fa(s),this.broker.connect(Object.values(this.config.channels),this.config.channelsListener)}constructor(e){this.config=e}}class fu{getNodeList(){return this.currentNode?[...this.getRemoteNodeList(),this.currentNode]:this.getRemoteNodeList()}getRemoteNodeList(){return Object.keys(this.channels)}getModuleNames(){return Object.keys(this.appDefinition)}constructor(e){this.appDefinition=e.appDefinition,this.currentNode=e.currentNode,this.channels=e.channels,this.subscriptions=e.subscriptions,this.channelsListener=e.channelsListener}}var fp=function(e){function t(t,s){return e.call(this)||this}return sj(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(sJ),fm={setInterval:function(e,t){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];var r=fm.delegate;return(null==r?void 0:r.setInterval)?r.setInterval.apply(r,sz([e,t],s$(s))):setInterval.apply(void 0,sz([e,t],s$(s)))},clearInterval:function(e){var t=fm.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},fh=function(e){function t(t,s){var n=e.call(this,t,s)||this;return n.scheduler=t,n.work=s,n.pending=!1,n}return sj(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var s=this.id,n=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(n,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,s){return void 0===s&&(s=0),fm.setInterval(e.flush.bind(e,this),s)},t.prototype.recycleAsyncId=function(e,t,s){if(void 0===s&&(s=0),null!=s&&this.delay===s&&!1===this.pending)return t;fm.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var s,n=!1;try{this.work(e)}catch(e){n=!0,s=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,s=this.scheduler,n=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,sX(n,this),null!=t&&(this.id=this.recycleAsyncId(s,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(fp),ff=function(){function e(t,s){void 0===s&&(s=e.now),this.schedulerActionCtor=t,this.now=s}return e.prototype.schedule=function(e,t,s){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(s,t)},e.now=hc.now,e}(),fg=new(function(e){function t(t,s){void 0===s&&(s=ff.now);var n=e.call(this,t,s)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return sj(t,e),t.prototype.flush=function(e){var t,s=this.actions;if(this._active){s.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=s.shift());if(this._active=!1,t){for(;e=s.shift();)e.unsubscribe();throw t}},t}(ff))(fh),fv=sG(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function f_(e,t){var s,n=(s=e)instanceof Date&&!isNaN(s)?{first:e}:"number"==typeof e?{each:e}:e,r=n.first,i=n.each,o=n.with,a=void 0===o?fb:o,c=n.scheduler,l=void 0===c?null!=t?t:fg:c,d=n.meta,u=void 0===d?null:d;if(null==r&&null==i)throw TypeError("No timeout provided.");return hI(function(e,t){var s,n,o=null,c=0,d=function(e){n=hw(t,l,function(){try{s.unsubscribe(),hb(a({meta:u,lastValue:o,seen:c})).subscribe(t)}catch(e){t.error(e)}},e)};s=e.subscribe(hS(t,function(e){null==n||n.unsubscribe(),c++,t.next(o=e),i>0&&d(i)},void 0,void 0,function(){!(null==n?void 0:n.closed)&&(null==n||n.unsubscribe()),o=null})),c||d(null!=r?"number"==typeof r?r:+r-l.now():i)})}function fb(e){throw new fv(e)}class fy{constructor(e,t=3e4){let s=e.status$.pipe(h8()),n=!1,r=new hn,i=async r=>{let i=fi(),o=!1,a=e.messages$.pipe(h9(()=>!n),hM(e=>"acknowledgement"===e.type&&e.id===i),hO(1),f_(t),hq(()=>hU),hC(1)),c=a.subscribe(()=>{o=!0,c.unsubscribe()}),l=s.pipe(h9(()=>!o&&!n),fe(()=>hN(e.sendMessage({type:"send",id:i,message:r.message})))).subscribe();try{await hj(a),l.unsubscribe(),r.resolve()}catch(e){l.unsubscribe(),r.reject(e)}},o=r.pipe(hP(i)).subscribe(),a=async t=>{if("send"===t.type)return await e.sendMessage({type:"acknowledgement",id:t.id}),t.message};this.stop=()=>(n=!0,o.unsubscribe(),e.stop()),this.send=e=>new Promise((t,s)=>{r.next({message:e,resolve:t,reject:s})}),this.channelState$=e.status$,this.receivedMessages$=e.messages$.pipe(hM(e=>"send"===e.type),hP(a),hD())}}let fw={connectedChannels$:new hi({})},fI={SECTION:"troubleshooting-section",CLEAR_BUTTON:"clear-local-data"},fS=async()=>{window.localStorage.clear(),window.sessionStorage.clear(),await chrome.storage.local.clear(),chrome.runtime.reload()},fx=()=>{document.getElementById(fI.CLEAR_BUTTON).onclick=fS;let e=document.getElementById(fI.SECTION);e?.classList.remove("hidden")};function fE(){return"object"==typeof window?window.navigator:"object"==typeof self&&"function"==typeof importScripts?self.navigator:void 0}var fA=s("473");function fT(){return new fA(function(){let e=fE();return e?.userAgent}(),{browser:[[/(AVG|Avast)\/([\w.]+)/i],[[fA.BROWSER.NAME,"Avast"],fA.BROWSER.VERSION],[/(edge|edgios|edga|edg)\/((\d+)?[\w.]+)/i],[[fA.BROWSER.NAME,"Edge"],fA.BROWSER.VERSION]]}).getResult()}function fN(){return fT().browser.name??""}function fU(){return fT().browser.version??""}!function(e){e.CHROME="Chrome",e.FIREFOX="Firefox",e.EDGE="Edge",e.SAFARI="Safari",e.OPERA="Opera"}(eg||(eg={}));function fO(){let e=fE(),t=e?.language??"",s="";return t.length>=5&&(s=t.substr(3,2)),s}function fD(){return"Chromium OS"===fT().os.name?"Chrome OS":fT().os.name}!function(e){e.ANDROID="Android",e.IOS="iOS",e.WINDOWS="Windows",e.LINUX="Linux",e.MACOS="Mac OS"}(ev||(ev={}));let fk=async()=>{let e=sI("runtime-config.json");if(!e)throw Error("Could not build path to runtime-config.json");try{let t=await fetch(e),s=await t.json();return{buildType:function(e){if(!(e.buildType&&"string"==typeof e.buildType&&Object.values(l).map(e=>e.toString()).includes(e.buildType)))throw Error("Build type from runtime-config.json is invalid");return l[e.buildType]}(s)}}catch{throw Error("Unable to read buildType from runtime-config.json")}},fC=async()=>{let{buildType:e}=await fk();return e};async function fR(e){try{let t=await nl(e.platformInfo.queries.platformInfo().pipe(f_(2e3)));return nu(t)&&hF(nm(t)),np(t)}catch(n){console.error("[options] Unable to retrieve platform info from background",n);let{appVersion:e,manifestVersion:t}=function(){try{let e=i();return{appVersion:e.version,manifestVersion:e.manifest_version,versionName:e.version_name}}catch(e){return console.error("[options] Unable to get manifest",e),{appVersion:"unknown_version",manifestVersion:void 0}}}(),s=await fC();return{platformName:"server_standalone",appVersion:e,browser:fN(),browserVersion:fU(),country:fO(),os:fD()??"",osCountry:fO(),osVersion:function(){let{version:e=""}=fT().os;return"Mac OS"===fD()?`OS_X_${e.replace(/\./g,"_")}`:e}(),lang:function(){let e=fE();return e?.language??""}(),manifestVersion:t,buildType:s}}}class fP{stop(){this.source.removeListener(this.listener)}constructor(e,t){this.source=e,this.filter=t;let s=[],n=new Set;this.listener=(e,t)=>{if(!this.filter(e,t))return!1;n.size?n.forEach(s=>s.next([e,t])):s.push([e,t])},this.events$=new he(e=>(!n.size&&(s.forEach(t=>e.next(t)),s=[]),n.add(e),()=>{n.delete(e)})),this.source.addListener(this.listener)}}let fL="diagnostics-data",fM=null,fF=null,fG=!1;class fB{getLogsStream$(){return this.bufferedEventStream.events$}async startDiagnosticsSession(){var e;if(await this.initDiagnosticSession(),fM)return;let t=new Date().getTime()+1728e5;fM=crypto.randomUUID(),fF=t;let s={id:fM,ttl:t};await (e={[fL]:s},new Promise((t,s)=>{if(!n(["storage"])){s(Error("No storage.local.set support, permission is missing"));return}if(!r("storage.local.set")){s(Error("No storage.local.set support"));return}chrome.storage.local.set(e,()=>{if(chrome.runtime.lastError){let e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";s(Error(`storage/local/set: ${e}`));return}t()})}))}async log({message:e,metadata:t}){if(await this.initDiagnosticSession(),!!this.shouldLog()){if(fM){let s={message:e,diagnosticsId:fM,timestamp:Date.now(),container:this.container,module:this.module,domain:this.domain,metadata:t},n=this.container&&this.module?`[${this.container}/${this.module}]`:"";if(console.log(`%c${n} ${s.message}`,"font-size: 9px; opacity: 0.6;",s),!this.emit)throw Error("emit has not been set in DiagnosticsLogger");this.emit(s)}}}async clear(){var e;await (e=fL,new Promise((t,s)=>{if(!n(["storage"])){s(Error("No storage.local.remove support, permission is missing"));return}if(!r("storage.local.remove")){s(Error("No storage.local.remove support"));return}chrome.storage.local.remove(e,()=>{if(chrome.runtime.lastError){let e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";s(Error(`storage/local/remove: ${e}`));return}t()})})),fM=null,fF=null}async getDiagnosticsSessionInfo(){return await this.initDiagnosticSession(),{diagnosticsId:fM,diagnosticsTTL:fF}}async initDiagnosticSession(){if(!fG)await this.loadDiagnosticsSessionFromLocalStorage(),!this.isTTLValid(fF)&&this.clear(),fG=!0}isTTLValid(e){let t=new Date;return!(!e||t.getTime()>e)&&!0}async loadDiagnosticsSessionFromLocalStorage(){try{var e;let t=(await (e=[fL],new Promise((t,s)=>{if(!n(["storage"])){s(Error("No storage.local.get support, permission is missing"));return}if(!r("storage.local.get")){s(Error("No storage.local.get support"));return}chrome.storage.local.get(e,e=>{if(chrome.runtime.lastError){let e=chrome.runtime.lastError.message??"Unknown chrome.runtime.lastError";s(Error(`storage/local/get: ${e}`));return}t(e)})})))[fL];if(!t?.id)return;fF=t.ttl,fM=t.id}catch(e){console.log("error",e)}}shouldLog(){return fM&&this.isTTLValid(fF)}constructor(e){this.container=e.container,this.module=e.module,this.domain=e.domain,this.bufferedEventStream=new fP({addListener:e=>{this.emit=t=>e(t,{})},removeListener:()=>{}},e=>!0)}}let fV="diagnostics-consent",fj=new fB({container:"options-page",module:"options",domain:"options"}),fq=async()=>{let e=(await fj.getDiagnosticsSessionInfo()).diagnosticsId,t=document.getElementById("diagnostics-data__id"),s=document.getElementById("diagnostics-data");e?(s?.classList.remove("hidden"),document.getElementById(fV)?.classList.remove("hidden")):s?.classList.add("hidden"),t&&(t.innerText=e??"")},fH=async({target:e})=>{e instanceof HTMLInputElement&&(e.checked?await fj.startDiagnosticsSession():await fj.clear(),await fq())};async function fZ(){let e=document.getElementById("diagnostics-consent__toggle"),t=await fj.getDiagnosticsSessionInfo();e.checked=!!t.diagnosticsId,e.onchange=fH,await fq()}async function f$(){let e=document.getElementById("troubleshooting-section__title");if(!e)return;await fZ();let t=0;e.addEventListener("click",function(){3===(t+=1)&&document.getElementById(fV)?.classList.remove("hidden")})}(async function e(){document.getElementById("logo")?.setAttribute("src",a());let e=function(){let{client:e}=function({appDefinition:e,channels:t,channelsListener:s}){var n,r;let i=new fd(new fu({appDefinition:{...e,[nF.name]:{api:nF,main:"background",queryOnly:[]}},channels:t,channelsListener:s,currentNode:null,subscriptions:{}})),o=()=>{throw Error("Unexpected request received by detached application client")},a=i.connect({onCommand:o,onQuery:o}).start();return{client:(n=e,r=i,Object.keys(n).map(e=>e).reduce((e,t)=>{var s,i,o,a;return e[t]=(s=n,i=r,{commands:Object.keys(s[o=t].api.commands).reduce((e,t)=>(e[t]=e=>{let s=(void 0)??new fc;return i.sendCommand(o,t,e,s)},e),hG({})),queries:Object.keys(s[o].api.queries).reduce((e,t)=>(e[t]=e=>{let s=a??new fc;return i.sendQuery(o,t,e,s)},e),hG({}))}),e},{})),stop:async()=>(await a).stop()}}({appDefinition:m5,channels:{background:new fy(new hL("graphene-background-port"))},channelsListener:fw});return e}(),t=await fR(e);!function(e){[["version",`v${e.appVersion}`],["build-type",e.buildType],["version-name",e.versionName?e.versionName:"unknown"],["manifest-version","number"==typeof e.manifestVersion?`MV${e.manifestVersion}`:"unknown"],["browser-name",e.browser],["browser-version",e.browserVersion]].forEach(([e,t])=>{("undefined"===t||""===t)&&document.getElementById(e)?.closest("li")?.classList.add("hidden"),document.getElementById(e)?.appendChild(document.createTextNode(`${t}`))})}(t),sF(),sR(),fx(),f$(),!function(e,t){if(!nf.includes(t))return;ng.forEach(t=>ny(e,t));let s=document.getElementById("staging-options-form");s?.classList.remove("hidden")}(e,t.buildType)})()})()})();